(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9460,4718,4924,7669],{60937:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/replEnvironment2",function(){return t(14632)}])},67669:function(e,n,t){"use strict";var r,i,o,a,l,c,s,u,d,p,f,h,v,m,g,Z,b,y,w,x,T,R,k,C,E,S,I,P,_,D,U,B,A,G,N,O,M,L,X,F,z,W,j,H,V,q,Y,$,K,J,Q,ee,ne,te,re,ie,oe,ae,le,ce,se,ue,de,pe,fe,he,ve,me,ge,Ze,be,ye,we,xe,Te,Re,ke,Ce,Ee,Se,Ie,Pe,_e,De,Ue,Be,Ae,Ge,Ne,Oe,Me,Le,Xe,Fe,ze,We,je,He,Ve,qe,Ye,$e,Ke,Je,Qe;t.d(n,{HN:function(){return ve},Ys:function(){return ge},bN:function(){return Q},cK:function(){return me},dD:function(){return I},l6:function(){return J},pO:function(){return R}}),function(e){e.Hacker_1mo="hacker_1mo",e.Hacker_12mo="hacker_12mo",e.HackerGhStudentDevPack_1mo="hacker_gh_student_dev_pack_1mo",e.HackerVoucher_1mo="hacker_voucher_1mo",e.TeamsProBetaPerSeat_1moUsd="teams_pro_beta_per_seat_1mo_usd"}(r||(r={})),function(e){e.Coupon="coupon",e.PromotionCode="promotion_code"}(i||(i={})),function(e){e.Bounty="bounty",e.BountyApplications="bountyApplications",e.CustomThemes="customThemes",e.Escalated="escalated",e.Repl="repl",e.ReplComment="replComment",e.ReportedUser="reportedUser"}(o||(o={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(a||(a={})),function(e){e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.Off="off"}(l||(l={})),function(e){e.ApplicationDateAscending="applicationDateAscending",e.ApplicationDateDescending="applicationDateDescending",e.CompletedBountiesDescending="completedBountiesDescending",e.Recommended="recommended"}(c||(c={})),function(e){e.Accepted="accepted",e.All="all",e.NotReviewed="notReviewed",e.Rejected="rejected",e.RejectedAndNotReviewed="rejectedAndNotReviewed"}(s||(s={})),function(e){e.Discord="discord",e.Email="email",e.Other="other"}(u||(u={})),function(e){e.ApplicationCountAscending="applicationCountAscending",e.CreationDateDescending="creationDateDescending",e.CyclesDescending="cyclesDescending",e.Recommended="recommended"}(d||(d={})),function(e){e.All="all",e.Closed="closed",e.InProgress="inProgress",e.Open="open"}(p||(p={})),function(e){e.Annual="annual",e.Monthly="monthly"}(f||(f={})),function(e){e.TeamsPro="teams_pro"}(h||(h={})),function(e){e.Adjustments="adjustments",e.Credits="credits",e.Earnings="earnings",e.Marketplace="marketplace",e.PowerUps="power_ups",e.Uncategorized="uncategorized"}(v||(v={})),function(e){e.AlwaysOn="always_on",e.Boost="boost",e.Bounty="bounty",e.CashedOut="cashed_out",e.Earned="earned",e.FeeCharged="fee_charged",e.Ghostwriter="ghostwriter",e.Gpu="gpu",e.Granted="granted",e.PrivateRepl="private_repl",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Tips="tips",e.Transferred="transferred",e.Uncategorized="uncategorized"}(m||(m={})),function(e){e.Explanation="explanation",e.Generation="generation",e.Search="search",e.Transformation="transformation"}(g||(g={})),function(e){e.No="no",e.Yes="yes"}(Z||(Z={})),function(e){e.General="general",e.LegacyCycles="legacy_cycles",e.LegacyHacker="legacy_hacker"}(b||(b={})),function(e){e.Draft="draft",e.InReview="in_review",e.Published="published"}(y||(y={})),function(e){e.Dark="dark",e.Light="light"}(w||(w={})),function(e){e.Deleted="deleted",e.Hidden="hidden",e.Public="public"}(x||(x={})),function(e){e.Ghostwriter="ghostwriter"}(T||(T={})),function(e){e.OneTime="oneTime",e.RecurringChargeNow="recurringChargeNow"}(R||(R={})),function(e){e.Bounties="bounties",e.CyclesPage="cyclesPage",e.NewReplModal="newReplModal",e.PatronConfirmation="patronConfirmation",e.PaymentFailure="paymentFailure",e.Profile="profile",e.Workspace="workspace"}(k||(k={})),function(e){e.CashedOut="cashed_out",e.Earned="earned",e.FeeCharged="fee_charged",e.Granted="granted",e.Purchased="purchased",e.Redeemed="redeemed",e.Retired="retired",e.Transferred="transferred"}(C||(C={})),function(e){e.Accepted="ACCEPTED",e.Denied="DENIED",e.Pending="PENDING"}(E||(E={})),function(e){e.Dir="dir",e.File="file"}(S||(S={})),function(e){e.Deploy="deploy",e.Fail="fail",e.Rollback="rollback"}(I||(I={})),function(e){e.Building="building",e.Failed="failed",e.Pending="pending",e.Success="success"}(P||(P={})),function(e){e.Failed="failed",e.Passed="passed"}(_||(_={})),function(e){e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER"}(D||(D={})),function(e){e.Bounties="bounties",e.ExternalTransactions="external_transactions",e.ReplOrder="repl_order",e.Tips="tips",e.UserOrder="user_order"}(U||(U={})),function(e){e.WebPostgres="web_postgres"}(B||(B={})),function(e){e.Create="CREATE",e.Delete="DELETE",e.Update="UPDATE"}(A||(A={})),function(e){e.BannedBoardUsers="bannedBoardUsers",e.BoardReports="boardReports",e.Boards="boards",e.BountyApplications="bountyApplications",e.Comments="comments",e.CustomThemes="customThemes",e.Notifications="notifications",e.Posts="posts",e.Repls="repls",e.Warning="warning"}(G||(G={})),function(e){e.Newest="newest",e.Oldest="oldest"}(N||(N={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(O||(O={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Comments="Comments",e.Posts="Posts",e.Warning="Warning"}(M||(M={})),function(e){e.Newest="NEWEST",e.Oldest="OLDEST"}(L||(L={})),function(e){e.Annotation="annotation",e.Board="board",e.Classroom="classroom",e.Multiplayer="multiplayer",e.Team="team"}(X||(X={})),function(e){e.ReplitDark="replitDark",e.ReplitLight="replitLight",e.ReplitSpooky="replitSpooky"}(F||(F={})),function(e){e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE"}(z||(z={})),function(e){e.Disabled="disabled",e.Enabled="enabled"}(W||(W={})),function(e){e.Activate="ACTIVATE",e.Activated="ACTIVATED",e.ActivateAlreadyTrialed="ACTIVATE_ALREADY_TRIALED",e.TrialExpired="TRIAL_EXPIRED",e.TrialOngoing="TRIAL_ONGOING"}(j||(j={})),function(e){e.ActivateExistingOrder="ACTIVATE_EXISTING_ORDER",e.IncludedInExistingOrder="INCLUDED_IN_EXISTING_ORDER",e.IncludedInSubscription="INCLUDED_IN_SUBSCRIPTION",e.NeedsCycles="NEEDS_CYCLES",e.NeedsSubscription="NEEDS_SUBSCRIPTION",e.SpendCycles="SPEND_CYCLES"}(H||(H={})),function(e){e.Cycles="CYCLES",e.Invalid="INVALID",e.Subscription="SUBSCRIPTION"}(V||(V={})),function(e){e.Cycles="CYCLES",e.Subscription="SUBSCRIPTION"}(q||(q={})),function(e){e.Ghostwriter="ghostwriter"}(Y||(Y={})),function(e){e.Https="HTTPS",e.Wss="WSS"}($||($={})),function(e){e.App="App",e.RegularRepl="RegularRepl",e.Template="Template"}(K||(K={})),function(e){e.LatestActivity="latestActivity",e.StatusDescending="statusDescending"}(J||(J={})),function(e){e.AlwaysOn="alwaysOn",e.Asleep="asleep",e.Awake="awake",e.Limited="limited"}(Q||(Q={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(ee||(ee={})),function(e){e.Allowed="Allowed",e.Disallowed="Disallowed",e.SubscriptionRequired="SubscriptionRequired"}(ne||(ne={})),function(e){e.DeletedFile="DeletedFile",e.ModfiedFile="ModfiedFile",e.NewFile="NewFile"}(te||(te={})),function(e){e.AllTeams="ALL_TEAMS",e.AlwaysOn="ALWAYS_ON",e.Boosts="BOOSTS",e.Default="DEFAULT",e.Multiplayer="MULTIPLAYER",e.Team="TEAM",e.Virtual="VIRTUAL"}(re||(re={})),function(e){e.Hot="Hot",e.New="New",e.Top="Top"}(ie||(ie={})),function(e){e.AlwaysOn="alwaysOn",e.AlwaysOnLegacy="alwaysOn_legacy",e.Boost_2cpu_2ram="boost_2cpu_2ram",e.Boost_4cpu_4ram="boost_4cpu_4ram",e.Boost_8cpu_8ram="boost_8cpu_8ram",e.Boost_16cpu_16ram="boost_16cpu_16ram",e.BoostLegacy="boost_legacy",e.GpuK80="gpu_k80",e.Unknown="unknown"}(oe||(oe={})),function(e){e.AlwaysOn="alwaysOn",e.Boost="boost",e.Gpu="gpu"}(ae||(ae={})),function(e){e.Compatibility="compatibility",e.Exact="exact",e.Match="match",e.Regex="regex"}(le||(le={})),function(e){e.Failed="FAILED",e.None="NONE",e.Passed="PASSED"}(ce||(ce={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(se||(se={})),function(e){e.Auth="Auth",e.CreateTemplate="CreateTemplate",e.EditTemplate="EditTemplate",e.PublishTemplate="PublishTemplate",e.Resubmit="Resubmit",e.ReviewSubmission="ReviewSubmission",e.Share="Share",e.ShareUpgrade="ShareUpgrade",e.Submit="Submit",e.UpdateModelSolution="UpdateModelSolution"}(ue||(ue={})),function(e){e.Private="PRIVATE",e.Public="PUBLIC"}(de||(de={})),function(e){e.Accepted="accepted",e.NotReviewed="notReviewed",e.Rejected="rejected"}(pe||(pe={})),function(e){e.Boosted_1="boosted_1",e.Boosted_2="boosted_2",e.Boosted_3="boosted_3",e.Boosted_4="boosted_4",e.Standard="standard"}(fe||(fe={})),function(e){e.Docs="Docs",e.Files="Files",e.Posts="Posts",e.Repls="Repls",e.Tags="Tags",e.Templates="Templates",e.Users="Users"}(he||(he={})),function(e){e.RecentlyModified="RecentlyModified",e.Relevant="Relevant"}(ve||(ve={})),function(e){e.MostComments="MostComments",e.MostVotes="MostVotes",e.RecentlyCreated="RecentlyCreated",e.Relevant="Relevant",e.Trending="Trending"}(me||(me={})),function(e){e.MostForks="MostForks",e.MostLikes="MostLikes",e.MostRuns="MostRuns",e.RecentlyCreated="RecentlyCreated",e.RecentlyModified="RecentlyModified",e.Relevant="Relevant",e.Trending="Trending"}(ge||(ge={})),function(e){e.All="All",e.Community="Community",e.Official="Official"}(Ze||(Ze={})),function(e){e.ChargeAutomatically="charge_automatically",e.SendInvoice="send_invoice"}(be||(be={})),function(e){e.Canceled="canceled",e.Chargeable="chargeable",e.Consumed="consumed",e.Errored="errored",e.Failed="failed",e.New="new",e.Pending="pending",e.Validated="validated",e.VerificationFailed="verificationFailed",e.Verified="verified"}(ye||(ye={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incompleteExpired",e.PastDue="pastDue",e.Trialing="trialing",e.Unpaid="unpaid"}(we||(we={})),function(e){e.Admin="ADMIN",e.Owner="OWNER"}(xe||(xe={})),function(e){e.Month="MONTH",e.Year="YEAR"}(Te||(Te={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(Re||(Re={})),function(e){e.Admin="admin",e.BillingAdmin="billing_admin",e.Member="member",e.Owner="owner"}(ke||(ke={})),function(e){e.Education="EDUCATION",e.Pro="PRO"}(Ce||(Ce={})),function(e){e.Forks="forks",e.Recent="recent",e.SearchRelevancy="searchRelevancy"}(Ee||(Ee={})),function(e){e.All="all",e.NotPromoted="notPromoted",e.Promoted="promoted"}(Se||(Se={})),function(e){e.All="all",e.Codealong="codealong",e.Highlighted="highlighted",e.Remix="remix"}(Ie||(Ie={})),function(e){e.Apple="APPLE",e.Facebook="FACEBOOK",e.Github="GITHUB",e.Google="GOOGLE"}(Pe||(Pe={})),function(e){e.Ghostwriter="ghostwriter",e.Private="private"}(_e||(_e={})),function(e){e.Never="never",e.WhenOnline="when_online",e.WhereOnline="where_online"}(De||(De={})),function(e){e.Admin="ADMIN",e.Business="BUSINESS",e.ContentCreator="CONTENT_CREATOR",e.DaysOfCode="DAYS_OF_CODE",e.Detective="DETECTIVE",e.Developer="DEVELOPER",e.Explorer="EXPLORER",e.Featured="FEATURED",e.GithubClassroomUser="GITHUB_CLASSROOM_USER",e.IntentBusiness="INTENT_BUSINESS",e.IntentPersonal="INTENT_PERSONAL",e.IntentStudent="INTENT_STUDENT",e.IntentTeacher="INTENT_TEACHER",e.LanguageJammer="LANGUAGE_JAMMER",e.Moderator="MODERATOR",e.OnboardingExperienceHigh="ONBOARDING_EXPERIENCE_HIGH",e.OnboardingExperienceLow="ONBOARDING_EXPERIENCE_LOW",e.OnboardingExperienceMedium="ONBOARDING_EXPERIENCE_MEDIUM",e.OnboardingExperienceNone="ONBOARDING_EXPERIENCE_NONE",e.Patron="PATRON",e.PrivacyLimitedAccess="PRIVACY_LIMITED_ACCESS",e.ReplitIdentityTesting="REPLIT_IDENTITY_TESTING",e.ReplitRep="REPLIT_REP",e.ReplitRepEdu="REPLIT_REP_EDU",e.ReplitStaff="REPLIT_STAFF",e.SelfLearner="SELF_LEARNER",e.Student="STUDENT",e.TaskProgramMember="TASK_PROGRAM_MEMBER",e.Teacher="TEACHER",e.TeacherRejected="TEACHER_REJECTED",e.TeacherUnverified="TEACHER_UNVERIFIED",e.TemplateDeveloper="TEMPLATE_DEVELOPER",e.Tester="TESTER"}(Ue||(Ue={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(Be||(Be={})),function(e){e.Low="low"}(Ae||(Ae={})),function(e){e.Email="EMAIL",e.Username="USERNAME"}(Ge||(Ge={})),function(e){e.Reject="reject",e.Verify="verify"}(Ne||(Ne={})),function(e){e.Closed="closed",e.InProgress="in_progress",e.Open="open"}(Oe||(Oe={})),function(e){e.Accepted="accepted",e.NotReviewed="not_reviewed",e.Rejected="rejected"}(Me||(Me={})),function(e){e.ApplicationReviewed="application_reviewed",e.ApplicationSubmitted="application_submitted",e.BountyAbandoned="bounty_abandoned",e.BountyCanceled="bounty_canceled",e.BountyStateChange="bounty_state_change",e.BountyUpdated="bounty_updated",e.WorkReviewed="work_reviewed",e.WorkSubmitted="work_submitted"}(Le||(Le={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}(Xe||(Xe={})),function(e){e.BannedBoardUsers="BannedBoardUsers",e.BoardReports="BoardReports",e.Boards="Boards",e.BountyApplications="BountyApplications",e.Comments="Comments",e.CustomThemes="CustomThemes",e.Notifications="Notifications",e.Posts="Posts",e.Repls="Repls",e.Warning="Warning"}(Fe||(Fe={})),function(e){e.Create="create",e.Delete="delete",e.Update="update"}(ze||(ze={})),function(e){e.R="r",e.Rw="rw"}(We||(We={})),function(e){e.R="r",e.Rw="rw"}(je||(je={})),function(e){e.Eyes="eyes",e.Fire="fire",e.Heart="heart",e.OpenMouth="open_mouth",e.Rocket="rocket"}(He||(He={})),function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(Ve||(Ve={})),function(e){e.Admin="admin",e.Owner="owner",e.Team="team"}(qe||(qe={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(Ye||(Ye={})),function(e){e.CreateReaction="create_reaction",e.PublishPost="publish_post",e.PublishTemplate="publish_template",e.UpdatePost="update_post",e.UpdateTemplate="update_template",e.UserComment="user_comment",e.UserFollowing="user_following"}($e||($e={})),function(e){e.Discord="discord",e.Facebook="facebook",e.Github="github",e.Linkedin="linkedin",e.Twitch="twitch",e.Twitter="twitter",e.Website="website",e.Youtube="youtube"}(Ke||(Ke={})),function(e){e.Bank="bank",e.Card="card",e.Check="check"}(Je||(Je={})),function(e){e.Active="active",e.Canceled="canceled",e.Incomplete="incomplete",e.IncompleteExpired="incomplete_expired",e.PastDue="past_due",e.Trialing="trialing",e.Unpaid="unpaid"}(Qe||(Qe={}))},98967:function(e,n,t){"use strict";var r=t(14251),i=t(52875),o=t(9941),a=t(35944),l=t(87603),c=t.n(l),s=t(67294),u=t(19526),d=t(37504),p=t(15085),f=t(7889),h=t(89735),v=t(6625);n.Z=function(e){var n=e.title,t=void 0===n?"Sign up":n,l=e.description,m=void 0===l?"Code, create, and learn together on Replit":l,g=e.onSuccess,Z=void 0===g?function(){}:g,b=e.onFailure,y=void 0===b?function(){}:b,w=e.onAnonSuccess,x=void 0===w?function(){}:w,T=e.showLoginFirst,R=void 0!==T&&T,k=e.isTeacher,C=void 0!==k&&k,E=e.toggleTeacher,S=void 0===E?function(){}:E,I=e.allowAnon,P=void 0!==I&&I,_=e.showForm,D=void 0===_||_,U=e.showSuccess,B=void 0!==U&&U,A=e.source,G=(0,o.Z)(s.useState(R),2),N=G[0],O=G[1],M=(0,v.Z)();return(0,a.BX)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal",children:[(0,a.BX)(u.gC,{align:"center",spacing:2,children:[(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-title",children:t}),(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-description",children:m}),(0,a.tZ)(f.Z,{path:"/public/animations/success.json",css:[p.l0.position.absolute,p.l0.left(0),p.l0.top(0),p.l0.right(0)],show:B})," ",D?(0,a.tZ)(d.Z,{onChangeAuth:function(){M.current&&O(!N)},isTeacher:C,isLogin:N,onSubmit:function(e){if("error"in e)y(e);else if("user"in e&&e.user){N&&!e.social||e.social&&!e.newUser||(0,h.j)(e.user.id.toString()),Z((0,i.Z)((0,r.Z)({},e),{isLogin:N}))}},toggleTeacher:S,source:A}):null,P?(0,a.tZ)("div",{className:"jsx-17a5f6998e0a3cdd auth-modal-anon",children:(0,a.tZ)("a",{onClick:x,role:"button",tabIndex:0,onKeyDown:x,className:"jsx-17a5f6998e0a3cdd",children:"continue as Anonymous"})}):null]}),(0,a.tZ)(c(),{id:"17a5f6998e0a3cdd",children:".auth-modal.jsx-17a5f6998e0a3cdd{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32)var(--space-16)}.title-container.jsx-17a5f6998e0a3cdd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16)}.auth-modal-title.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium)}.auth-modal-description.jsx-17a5f6998e0a3cdd{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default)}.auth-modal-anon.jsx-17a5f6998e0a3cdd{margin-top:14px;font-size:14px}.auth-modal-anon.jsx-17a5f6998e0a3cdd a.jsx-17a5f6998e0a3cdd{color:var(--accent-primary-default);text-decoration:none;cursor:pointer}"})]})}},57731:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(87603),o=t.n(i),a=(t(67294),t(94184)),l=t.n(a),c=t(62913);function s(e){var n=e.className,t=e.src,i=e.alt,a=e.size,s=e.title;return(0,r.BX)("div",{className:o().dynamic([["381115a7727c7cb3",[a,a]]])+" "+(l()("avatar",n)||""),children:[(0,r.tZ)(c.Z,{title:s,width:a,height:a,objectFit:"cover",layout:"responsive",alt:i,src:t}),(0,r.tZ)(o(),{id:"381115a7727c7cb3",dynamic:[a,a],children:"div.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;overflow:hidden;width:".concat(a,"px;height:").concat(a,"px}")})]})}},7243:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255);function a(e){var n=e.gap,t=e.inset,a=e.children,l=e.className;return(0,r.tZ)(i.Z,{className:l,css:[{overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":[o.l0.display.none]}],children:(0,r.tZ)(i.Z,{css:[o.l0.px(t),o.l0.rowWithGap(n),{width:"fit-content"}],children:a})})}},42699:function(e,n,t){"use strict";t.d(n,{l:function(){return o},x:function(){return i}});var r=t(60977),i=function(e){(0,r.j)(r.U3.COURSE_ACTION,e)},o=function(e){(0,r.j)(r.U3.LESSON_ACTION,e)}},21767:function(e,n,t){"use strict";t.d(n,{Y:function(){return o}});var r=t(32692);function i(){var e=(0,r.Z)(["\n  fragment ReplLinkRepl on Repl {\n    id\n    url\n    nextPagePathname\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},54854:function(e,n,t){"use strict";function r(e,n){if(!e)return null;var t=e[n];return t?Array.isArray(t)?null:t:null}t.d(n,{Z:function(){return r}})},47024:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(14251),i=t(52875),o=t(44747),a=t(9941),l=t(35944),c=t(67294),s=t(32692),u=t(31230),d=t(50319);function p(){var e=(0,s.Z)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f={},h=(0,u.Ps)(p());var v=t(93058),m=t(88075),g=t(92002),Z=t(15085),b=t(98967),y=t(60977),w=function(e){var n=e.user,t=e.subtle,s=e.targetName,u=(0,o.Z)(e,["user","subtle","targetName"]),p=t?void 0:"primary",w=(0,a.Z)(c.useState(!1),2),x=w[0],T=w[1],R=n.isFollowedByCurrentUser,k=(0,v.Z)().showError,C=(0,a.Z)(function(e){var n=(0,r.Z)({},f,e);return d.D(h,n)}({onCompleted:function(e){var n,t,r;"NotFoundError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&k(e.setFollowing.message),"UserError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&k(e.setFollowing.message),"UnauthorizedError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&T(!0)}}),2),E=C[0],S=C[1].loading,I=R?"Following":"Follow";return null!=s&&(I="".concat(I," ").concat(s)),(0,l.BX)(l.HY,{children:[(0,l.tZ)(Z.zx,(0,i.Z)((0,r.Z)({type:"button"},u),{colorway:R?void 0:p,text:I,iconLeft:R?(0,l.tZ)(m.Z,{}):(0,l.tZ)(g.Z,{}),onClick:function(e){e.stopPropagation(),E({variables:{input:{targetUserId:n.id,shouldFollow:!R}}}),R||(0,y.j)(y.U3.USER_FOLLOWED)},disabled:S,dataCy:"follow-button"})),(0,l.tZ)(Z.u_,{onRequestClose:function(){return T(!1)},isOpen:x,children:(0,l.tZ)(b.Z,{onSuccess:function(){(0,y.j)(y.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var n=e.error;k(n)},title:"Sign up to follow your favorite Replers.",description:"You\u2019ll then be able to follow "+n.username})})]})}},86800:function(e,n,t){"use strict";t.d(n,{JM:function(){return p},SL:function(){return u}});var r=t(14251),i=t(32692),o=t(31230),a=t(37887);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironment2CurrentUserLayoutFlags on CurrentUser {\n    id\n    flagGhostrunner: gate(feature: "flag-ghostrunner")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  query ReplEnvironment2LayoutFlags {\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUserLayoutFlags\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var s={},u=(0,o.Ps)(l()),d=(0,o.Ps)(c(),u);function p(e){var n=(0,r.Z)({},s,e);return a.a(d,n)}},79611:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(67294),i=t(11163);function o(e,n){var t=(0,i.useRouter)();(0,r.useEffect)((function(){}),[e,t]),(0,r.useEffect)((function(){if("SubscriptionExpiredError"===(null===e||void 0===e?void 0:e.__typename)){var r=e.replId,i=e.isOwner,o=n.split("/")[1].slice(1);t.replace({pathname:"/expiredPrivateRepl",query:{isOwner:i,ownerUsername:o,replId:r}},t.asPath)}}),[e,t,n])}},5804:function(e,n,t){"use strict";t.d(n,{JL:function(){return x},L8:function(){return Z},M6:function(){return g},QH:function(){return b},nr:function(){return m}});var r=t(67573),i=t(14251),o=t(69779),a=t(35944),l=t(67294),c=t(69346),s=t(81255),u=t(1144),d=t(46197),p=t(44365),f=t(72917),h=t(7243),v=t(68480);function m(e,n){var t,r=(null===(t=n.tags)||void 0===t?void 0:t.length)?n.tags.join(","):null;return{href:{pathname:"/postsFeed",query:{boardSlug:r,q:e}},as:{pathname:r?"/community/".concat(r):"/community/all",query:{q:e}}}}function g(e,n){return n?{href:{pathname:"/postsFeed",query:{boardSlug:e,order:n.order}},as:{pathname:"/community/".concat(e),query:(0,i.Z)({},n.order!==p.eR?{order:n.order.toLowerCase()}:{})}}:{href:{pathname:"/postsFeed",query:{boardSlug:e}},as:"/community/".concat(e)}}function Z(e){return g("all",e)}function b(e,n){var t=n.tags?n.tags.join(","):"all";return{href:{pathname:"/postsFeed",query:{boardSlug:t,order:(0,p.Zb)(e)}},as:{pathname:"/community/".concat(t),query:(0,i.Z)({},e!==p.eR?{order:(0,p.Zb)(e)}:{})}}}var y=c.K.div,w=v.Mz+32;function x(e){var n,t,i=e.tagGroups,p=e.params,m=(0,o.Z)(i.official).concat((0,o.Z)(i.community)).map((function(e){var n,t=Boolean(null===(n=p.tags)||void 0===n?void 0:n.includes(e.id)),r=t?Z(p):g(e.id,p);return(0,a.tZ)(f.t,{tag:e,link:r,isActive:t},e.id)})),b=(0,l.useState)(!1),x=b[0],T=b[1],R=(0,l.useRef)(null);return(0,l.useEffect)((function(){if(R.current){var e=new window.IntersectionObserver((function(e){e.forEach((function(e){window.scrollY<e.boundingClientRect.top-w?T(!1):T(!e.isIntersecting)}))}),{root:null,rootMargin:"".concat(-w,"px 0px 0px 0px"),threshold:1}),n=R.current;return e.observe(n),function(){e.unobserve(n),e.disconnect()}}}),[]),(0,a.BX)(c.Z,{children:[(0,a.tZ)(y,{ref:R}),(0,a.BX)(c.Z,{css:[s.l0.colWithGap(16),x&&(0,r.Z)({},d.A.desktop,[s.l0.position.fixed,s.l0.overflowY("auto"),s.l0.height("calc(100vh - ".concat(v.Mz,"px)")),s.l0.py(32),{top:v.Mz}])],children:[(0,a.tZ)(u.x,{color:"dimmer",children:"TOP TAGS"}),(0,a.BX)(c.Z,{children:[(0,a.tZ)(h.Z,{gap:8,inset:16,css:[(n={},(0,r.Z)(n,d.A.desktop,[s.l0.display.none]),(0,r.Z)(n,"marginLeft","calc(-1 * ".concat(s.TV.space16,")")),(0,r.Z)(n,"marginRight","calc(-1 * ".concat(s.TV.space16,")")),n)],children:m}),(0,a.tZ)(c.Z,{css:(t={},(0,r.Z)(t,d.A.mobile,[s.l0.display.none]),(0,r.Z)(t,d.A.desktop,[s.l0.colWithGap(32)]),t),children:(0,a.tZ)(c.Z,{css:[s.l0.colWithGap(8),s.l0.align.start],children:m})})]})]})]})}},4924:function(e,n,t){"use strict";t.d(n,{Vs:function(){return y},ZP:function(){return x},p0:function(){return w}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(41664)),l=t.n(a),c=t(70917),s=t(15085),u=t(53427),d=t(69928),p=t(5804),f=t(72917),h=t(88046),v=t(82447),m=t(45273),g=t(94718),Z=s.KD.a,b=(0,c.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function y(e){var n=e.tags,t=e.maxVisible,r=void 0===t?3:t,i=e.onTagClick,a=n.slice(0,r),l=n.length-a.length;return(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[a.map((function(e){return(0,o.tZ)(f.t,{small:!0,tag:e,link:(0,p.M6)(e.id),onClick:i},e.id)})),l>0?(0,o.BX)(s.xv,{variant:"small",color:"dimmest",children:["+",l]}):null]})}function w(e){var n=e.repl,t=e.showOwner,a=e.maxVisibleTags,c=e.onReplClick,p=e.onUserClick,f=e.onTagClick,w=n.owner;return(0,o.BX)(s.G7,{css:[s.l0.colWithGap(16)],children:[(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.align.start,s.l0.flex.growAndShrink(1)],children:[(0,o.tZ)(u.ZP,{size:84,iconUrl:n.iconUrl,alt:n.title}),(0,o.BX)(s.G7,{css:[s.l0.flex.growAndShrink(1),s.l0.colWithGap(4)],children:[(0,o.tZ)(l(),(0,i.Z)((0,r.Z)({passHref:!0},(0,h.j3)(n)),{children:(0,o.tZ)(Z,{css:[{color:"inherit"},b],onClick:c,children:(0,o.tZ)(s.xv,{variant:"subheadBig",children:n.title})})})),t&&w?(0,o.tZ)(s.G7,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,o.tZ)(g.Z,{username:w.username,children:(0,o.tZ)(v.ZP,{user:w,children:(0,o.BX)(Z,{css:[{color:"inherit"},s.l0.rowWithGap(4),s.l0.align.center,s.l0.pr(16)],onClick:p,children:[(0,o.tZ)(m.Z,{src:w.image,username:w.username,size:16,layout:"intrinsic"}),(0,o.tZ)(s.xv,{children:w.username})]})})})}):null,n.description?(0,o.tZ)(s.xv,{color:"dimmer",maxLines:2,css:[s.l0.maxWidth(450)],children:n.description}):null]})]}),(0,o.BX)(s.G7,{css:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.flex.wrap],children:[(0,o.tZ)(d.Z,{css:[s.l0.pb(2)],repl:n}),a?(0,o.tZ)(s.G7,{css:[s.l0.position.relative,s.l0.pt(2),{zIndex:1}],children:(0,o.tZ)(y,{tags:n.tags,maxVisible:a,onTagClick:f})}):null]})]})}function x(e){var n=e.repl,t=e.showOwner,r=e.maxVisibleTags,i=e.onReplClick,a=e.onUserClick,l=e.onTagClick,c=e.dataCy;return(0,o.tZ)(s.Tg,{elevated:!0,css:[s.l0.borderRadius(8),s.l0.p(8),s.l0.position.relative,s.gU.filledAndOutlined,s.l0.backgroundColor.backgroundDefault,{border:"1px solid "+s.TV.outlineDimmest}],dataCy:c,children:(0,o.tZ)(w,{repl:n,showOwner:t,maxVisibleTags:r,onReplClick:i,onUserClick:a,onTagClick:l})})}},69928:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(35944),i=(t(67294),t(69346)),o=t(81255),a=t(12530),l=t(51995),c=t(75026),s=t(27843),u=t(34847);function d(e){var n=e.repl;return(0,r.BX)(i.Z,{css:[o.l0.rowWithGap(16),o.l0.align.center],children:[(0,r.tZ)(a.Z,{small:!0,count:n.runCount,tooltip:(0,u.Z)("runs",n.runCount),children:(0,r.tZ)(l.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.commentCount,tooltip:(0,u.Z)("comment",n.commentCount),children:(0,r.tZ)(c.Z,{})}),(0,r.tZ)(a.Z,{small:!0,count:n.likeCount,tooltip:(0,u.Z)("like",n.likeCount),children:(0,r.tZ)(s.Z,{})})]})}},72917:function(e,n,t){"use strict";t.d(n,{g:function(){return x},t:function(){return y}});var r=t(14251),i=t(52875),o=t(35944),a=(t(67294),t(70917)),l=t(41664),c=t.n(l),s=t(69346),u=t(93160),d=t(81255),p=t(1144),f=t(44044),h=t(67629),v=t(16857),m=(0,a.iv)({border:"1px solid "+d.TV.accentPrimaryDefault,backgroundColor:"transparent"}),g=function(e){var n=e.isActive,t=e.small;return(0,a.iv)([d.l0.p(t?4:8),d.l0.align.center,d.l0.rowWithGap(4),d.l0.fontSize(12),n?m:f.gU.outlined,d.l0.borderRadius(16),{color:"inherit","&:hover":m}])};function Z(e){var n=e.tag,t=e.isActive,r=e.isRemovable,i=e.small,a=i?"small":"text";return(0,o.tZ)(u.Z,{elevated:t,css:[d.l0.borderRadius(16)],children:(0,o.BX)(u.Z,{elevated:t,css:[g({isActive:t,small:i})],children:[(0,o.BX)(s.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.flex.shrink(1)],children:[(0,o.tZ)(p.x,{variant:a,color:"dimmest",children:"#"}),(0,o.tZ)(p.x,{color:"dimmer",variant:a,css:[d.l0.flex.shrink(1)],children:n.id})]}),n.isOfficial&&!i?(0,o.tZ)(v.Z,{}):null,r?(0,o.tZ)(h.Z,{size:i?12:16}):null]})})}var b=s.K.a;function y(e){var n=e.tag,t=e.link,a=e.isActive,l=e.small,s=e.onClick;return(0,o.tZ)(c(),(0,i.Z)((0,r.Z)({},t),{passHref:!0,css:[d.l0.flex.shrink(1),{backgroundColor:"red"}],children:(0,o.tZ)(b,{css:[{color:"inherit"},d.l0.flex.shrink(1)],onClick:s,children:(0,o.tZ)(Z,{tag:n,isActive:a,small:l,isRemovable:a})})}))}var w=s.K.button;function x(e){var n=e.tag,t=e.onClick,r=e.isActive,i=e.small;return(0,o.tZ)(w,{css:[d.l0.reset.button],onClick:t,children:(0,o.tZ)(Z,{tag:n,isActive:r,small:i,isRemovable:!0})})}},46197:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var r=t(57263),i={mobile:"@media (max-width: ".concat(r.j.tabletMin,"px)"),desktop:"@media (min-width: ".concat(r.j.tabletMin+1,"px)")}},44365:function(e,n,t){"use strict";t.d(n,{Qf:function(){return c},Zb:function(){return l},eR:function(){return o}});var r=t(90317),i=t(54854),o=r.vX.Hot,a={hot:r.vX.Hot,new:r.vX.New,top:r.vX.Top,votes:r.vX.Top};function l(e){return e.toLowerCase()}function c(e){var n=(0,i.Z)(e,"after")||void 0,t=(0,i.Z)(e,"q")||void 0,r=(0,i.Z)(e,"boardSlug")||void 0,c=r&&"all"!==r?r.split(","):void 0,s=(0,i.Z)(e,"order")||l(o),u=a[s]||o,d=(0,i.Z)(e,"count"),p=d?parseInt(d,10):void 0;return void 0!==p&&Number.isNaN(p)&&(p=void 0),{tags:c,order:u,count:p,searchQuery:t,after:n}}},12530:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(67294),o=t(1144),a=t(81255),l=t(69346),c=t(81456);function s(e){var n=e.count,t=e.children,s=e.tooltip,u=e.small,d=(0,c.d)(n);return(0,r.BX)(l.Z,{"aria-label":s,"data-microtip-position":"left",role:"tooltip",css:[a.l0.rowWithGap(4),a.l0.align.center,a.l0.color.foregroundDimmer,{userSelect:"none",lineHeight:1}],children:[i.cloneElement(t,{size:u?12:void 0}),(0,r.tZ)(o.x,{variant:u?"small":void 0,color:"dimmer",children:d})]})}},19923:function(e,n,t){"use strict";t.d(n,{Gp:function(){return D},Oh:function(){return K},V3:function(){return M},Xl:function(){return X},Yd:function(){return z},_b:function(){return Y},gX:function(){return ne},h2:function(){return N},on:function(){return B},q7:function(){return Q},vs:function(){return P},w9:function(){return j},zp:function(){return V}});var r=t(14251),i=t(32692),o=t(31230),a=t(7900),l=t(37887),c=t(50319);function s(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplateModelSolution on ReplTemplateModelSolution {\n    id\n    visibleAfterSubmitting\n    visibleAfterPassingTests\n    visibleAfterDueDate\n    repl {\n      id\n      url\n      nextPagePathname\n    }\n    canStudentFork\n    studentFork {\n      id\n      url\n      nextPagePathname\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=(0,i.Z)(["\n  fragment TeamProfileReplTemplate on ReplTemplate {\n    id\n    isPublished\n    isGroupProject\n    allowSelfGrouping\n    imageUrl\n    url\n    dueDate\n    modelSolution {\n      id\n      ...TeamProfileReplTemplateModelSolution\n    }\n    userSubmissionGroup {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,i.Z)(["\n  fragment TeamProfileRepl on Repl {\n    id\n    title\n    description\n    slug\n    timeCreated\n    url\n    pinnedToProfile\n    nextPagePathname\n    templateInfo {\n      label\n      iconUrl\n    }\n    template {\n      id\n      ...TeamProfileReplTemplate\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamProfileStack on Stack {\n    id\n    title\n    repls {\n      id\n      ...TeamProfileRepl\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamEduProfile on Team {\n    id\n    username\n    displayName\n    isAdmin\n    archived\n    needsMigrationToStacks\n    defaultTemplateStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n      capabilities {\n        isExpired: isExpiring(daysFromNow: 0)\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamProProfile on Team {\n    id\n    username\n    displayName\n    isMember\n    isAdmin\n    archived\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n    members {\n      id\n      permissions\n    }\n    organization {\n      id\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamProfileAllStacks on Team {\n    id\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    defaultReplStack {\n      id\n      ...TeamProfileStack\n    }\n    stacks {\n      id\n      ...TeamProfileStack\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment TeamCreateReplSubmissionOutput on CreateReplSubmissionOutput {\n    ... on Repl {\n      id\n      nextPagePathname\n      url\n      template {\n        id\n        ...TeamProfileReplTemplate\n      }\n    }\n    ... on UserError {\n      message\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function g(){var e=(0,i.Z)(["\n  query TeamProProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamProProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function Z(){var e=(0,i.Z)(["\n  query TeamEduProfile($teamname: String!) {\n    team: teamByUsername(username: $teamname) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Z=function(){return e},e}function b(){var e=(0,i.Z)(["\n  mutation TeamProProfilePinRepl($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n  mutation TeamProProfileUnpinRepl($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        pinnedToProfile\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}function w(){var e=(0,i.Z)(["\n  mutation TeamProfileArrangeStackItem($input: ArrangeStackItemInput!) {\n    arrangeStackItem(input: $input) {\n      ... on Team {\n        id\n        ...TeamProfileAllStacks\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function x(){var e=(0,i.Z)(["\n  mutation TeamProfileUpdateReplTemplate($input: UpdateReplTemplateInput!) {\n    updateReplTemplate(input: $input) {\n      ... on ReplTemplate {\n        id\n        repl {\n          id\n          ...TeamProfileRepl\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function T(){var e=(0,i.Z)(["\n  mutation TeamProfileMigrateTeamToStacks($teamId: Int!) {\n    migrateTeamToStacks(teamId: $teamId) {\n      ... on Team {\n        id\n        ...TeamEduProfile\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function R(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolution(\n    $input: CreateReplTemplateModelSolutionInput!\n  ) {\n    createReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function k(){var e=(0,i.Z)(["\n  mutation TeamProfileCreateReplTemplateModelSolutionFork(\n    $input: CreateReplTemplateModelSolutionForkInput!\n  ) {\n    createReplTemplateModelSolutionFork(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function C(){var e=(0,i.Z)(["\n  mutation TeamCreateReplSubmission($templateId: Int!) {\n    createReplSubmission(templateId: $templateId) {\n      ...TeamCreateReplSubmissionOutput\n    }\n  }\n  ","\n"]);return C=function(){return e},e}var E={},S=(0,o.Ps)(s()),I=(0,o.Ps)(u(),S,a.Pc),P=(0,o.Ps)(d(),I),_=(0,o.Ps)(p(),P),D=(0,o.Ps)(f(),_),U=(0,o.Ps)(h(),_),B=(0,o.Ps)(v(),_),A=(0,o.Ps)(m(),I),G=(0,o.Ps)(g(),U);function N(e){var n=(0,r.Z)({},E,e);return l.a(G,n)}var O=(0,o.Ps)(Z(),D);function M(e){var n=(0,r.Z)({},E,e);return l.a(O,n)}var L=(0,o.Ps)(b());function X(e){var n=(0,r.Z)({},E,e);return c.D(L,n)}var F=(0,o.Ps)(y());function z(e){var n=(0,r.Z)({},E,e);return c.D(F,n)}var W=(0,o.Ps)(w(),B);function j(e){var n=(0,r.Z)({},E,e);return c.D(W,n)}var H=(0,o.Ps)(x(),P);function V(e){var n=(0,r.Z)({},E,e);return c.D(H,n)}var q=(0,o.Ps)(T(),D);function Y(e){var n=(0,r.Z)({},E,e);return c.D(q,n)}var $=(0,o.Ps)(R(),P);function K(e){var n=(0,r.Z)({},E,e);return c.D($,n)}var J=(0,o.Ps)(k(),P);function Q(e){var n=(0,r.Z)({},E,e);return c.D(J,n)}var ee=(0,o.Ps)(C(),A);function ne(e){var n=(0,r.Z)({},E,e);return c.D(ee,n)}},29243:function(e,n,t){"use strict";t.d(n,{VK:function(){return f},dx:function(){return d}});var r=t(14251),i=t(32692),o=t(31230),a=t(20147),l=t(37887);function c(){var e=(0,i.Z)(["\n  fragment UserCardUser on User {\n    id\n    fullName\n    username\n    isHacker\n    url\n    bio\n    image\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    socials {\n      id\n      url\n      type\n    }\n    roles(only: [MODERATOR, PATRON, CONTENT_CREATOR, REPLIT_REP]) {\n      id\n      name\n      key\n      tagline\n    }\n    ...UserLabelUser\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=(0,i.Z)(["\n  query UserCard($username: String!) {\n    currentUser {\n      id\n    }\n    userByUsername(username: $username) {\n      id\n      ...UserCardUser\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var u={},d=(0,o.Ps)(c(),a.w),p=(0,o.Ps)(s(),d);function f(e){var n=(0,r.Z)({},u,e);return l.a(p,n)}},94718:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(14251),i=t(52875),o=t(35944),a=t(67294),l=t(44778),c=t(70804),s=t(69346),u=t(15085),d=t(90317),p=t(29243),f=t(57731),h=t(77365),v=t(41664),m=t.n(v),g=t(82447),Z=t(34901),b=t(47024),y=t(85565),w=t(30880),x=t(57981),T=t(93373),R=t(53924),k=t(33319),C=t(34847),E=s.K.span;function S(e){var n,t=e.user,a=e.isCurrentUser,c=void 0!==a&&a;return(0,o.tZ)(s.Z,{css:[u.l0.colWithGap(16)],children:(0,o.BX)(s.Z,{css:[u.l0.colWithGap(8)],children:[(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(12)],children:[(0,o.tZ)(m(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.tZ)(f.Z,{size:48,src:t.image,alt:t.username,css:[{border:"solid 1px ".concat(u.TV.backgroundHighest),backgroundColor:u.TV.backgroundDefault}]})})}),(0,o.BX)(s.Z,{css:[u.l0.flex.growAndShrink(1),u.l0.colWithGap(4)],children:[(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[(0,o.tZ)(m(),(0,i.Z)((0,r.Z)({passHref:!0},(0,g.Ru)(t)),{children:(0,o.tZ)(s.Z,{tag:"a",css:[u.l0.flex.growAndShrink(1)],children:(0,o.tZ)(u.xv,{css:[{color:u.TV.foregroundDefault,fontWeight:400}],variant:"subheadBig",children:t.fullName||t.username})})})),t.isFollowingCurrentUser?(0,o.tZ)(u.DR,{css:[u.l0.minWidth("fit-content")],text:"Follows you"}):null]}),(0,o.tZ)(s.Z,{css:[u.l0.rowWithGap(4),u.l0.align.center],children:(0,o.tZ)(m(),{href:"/@"+t.username,target:"_blank",rel:"noreferrer",children:(0,o.tZ)("a",{children:(0,o.BX)(u.xv,{color:"dimmest",css:[{fontWeight:300}],children:["@",t.username]})})})})]})]}),(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(16),u.l0.align.center],children:[c?null:(0,o.tZ)(b.Z,{user:t,subtle:!0,stretch:!0,small:!0}),(null===t||void 0===t||null===(n=t.socials)||void 0===n?void 0:n.length)&&!c?t.socials.slice(0,3).map((function(e){return"twitter"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(y.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"facebook"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(w.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"linkedin"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(x.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"github"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(T.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"youtube"===e.type?(0,o.tZ)("a",{target:"_blank",rel:"noreferrer",children:(0,o.tZ)(R.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):"website"===e.type?(0,o.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",children:(0,o.tZ)(k.Z,{size:16,color:u.TV.foregroundDimmest})},e.id+"-socialid"):void 0})):null]}),(0,o.BX)(s.Z,{css:[u.l0.rowWithGap(8),u.l0.flex.growAndShrink(1)],children:[(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followerCount})," ",(0,C.Z)("follower",t.followerCount)]}),(0,o.BX)(u.xv,{variant:"small",color:"dimmer",children:[(0,o.tZ)("span",{css:{color:u.TV.foregroundDefault,fontWeight:u.TV.fontWeightMedium},children:t.followCount})," ","following"]})]}),t.bio?(0,o.tZ)(u.xv,{css:{overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"},multiline:!0,children:(0,o.tZ)(l.ZP,{properties:{target:"_blank"},children:t.bio})}):null,t.roles&&t.roles.length||t.isAdmin?(0,o.BX)(s.Z,{css:[u.l0.flex.row,u.l0.flex.wrap,u.l0.pt(4),{display:"inline-flex",gap:"8px"}],children:[t.isHacker?(0,o.tZ)(Z._.Hacker,{}):null,t.isAdmin?(0,o.tZ)(Z._.Admin,{}):null,t.roles.map((function(e){if(e.key===d.SM.Moderator&&t.isAdmin)return null;var n=e.tagline?{"aria-label":e.tagline,"data-microtip-position":"top-right",role:"tooltip"}:void 0,a=u.TV.foregroundDefault,l=(0,o.tZ)(Z._.Default,{name:e.name},e.id);return e.key===d.SM.Moderator?l=(0,o.tZ)(Z._.Moderator,{},e.id):e.key===d.SM.ContentCreator?l=(0,o.tZ)(Z._.ContentCreator,{},e.id):e.key===d.SM.ReplitRep?l=(0,o.tZ)(Z._.ReplitRep,{},e.id):e.key===d.SM.Patron&&(l=(0,o.tZ)(Z._.Patron,{},e.id)),(0,o.tZ)("div",{children:(0,o.tZ)(s.Z,(0,i.Z)((0,r.Z)({},n),{css:[{color:a,fontSize:u.TV.fontSizeSmall}],children:l}))},e.id)}))]}):null]})})}function I(e){var n,t=e.username,r=e.children,i=e.inline,l=e.onUserClick,d=(0,a.useState)(!1),f=d[0],v=d[1],m=(0,a.useState)(!1),g=m[0],Z=m[1],b=(0,a.useRef)(!1);(0,a.useEffect)((function(){f&&(b.current=!0);var e=setTimeout((function(){Z(f)}),200);return function(){clearTimeout(e)}}),[f]);var y=(0,p.VK)({variables:{username:t},skip:!1===b.current}),w=y.data,x=y.loading,T=null===w||void 0===w?void 0:w.userByUsername,R=(null===w||void 0===w||null===(n=w.currentUser)||void 0===n?void 0:n.id)===(null===T||void 0===T?void 0:T.id);return(0,o.BX)(c.Z,{disableFocusLock:!0,isOpen:g,onClickOutside:function(){return Z(!1)},maxWidth:300,growToMaxWidth:!0,css:[{padding:16,background:u.TV.backgroundHigher,border:"solid 1px "+u.TV.backgroundHighest}],children:[i?(0,o.tZ)("span",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:r}):(0,o.tZ)(E,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:r}),(0,o.BX)(E,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[!x&&(T?(0,o.tZ)(S,{user:T,onUserClick:l,isCurrentUser:R}):(0,o.tZ)(u.xv,{color:"dimmer",children:"User doesn\u2019t exist"})),x?(0,o.tZ)(s.Z,{css:[u.l0.center,u.l0.width("100%"),u.l0.height("100%")],children:(0,o.tZ)(h.Z,{})}):null]})]})}},20147:function(e,n,t){"use strict";t.d(n,{w:function(){return c}});var r=t(32692),i=t(31230),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment UserLabelUser on User {\n    id\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}function l(){var e=(0,r.Z)(["\n  fragment UserLabelWithImageUser on User {\n    id\n    image\n    ...UserLabelUser\n  }\n  ","\n"]);return l=function(){return e},e}var c=(0,i.Ps)(a(),o._);l()},16092:function(e,n,t){"use strict";t.d(n,{P:function(){return c},_:function(){return l}});var r=t(32692),i=t(31230);function o(){var e=(0,r.Z)(["\n  fragment UserLinkUser on User {\n    id\n    url\n    username\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment UserLinkCurrentUser on CurrentUser {\n    id\n    url\n    username\n  }\n"]);return a=function(){return e},e}var l=(0,i.Ps)(o()),c=(0,i.Ps)(a())},26082:function(e,n,t){"use strict";var r=t(5152),i=t.n(r);n.Z=i()((function(){return Promise.all([t.e(8966),t.e(5499),t.e(5117),t.e(7068)]).then(t.bind(t,87068)).then((function(e){return e.EditReplTemplate}))}),{loadableGenerated:{webpack:function(){return[87068]}}})},70710:function(e,n,t){"use strict";t.d(n,{I$:function(){return T},Du:function(){return R},Cd:function(){return C}});var r=t(14251),i=t(32692),o=t(31230),a=t(9523);function l(){var e=(0,i.Z)(['\n  fragment ReplEnvironmentTourCurrentUser on CurrentUser {\n    id\n    hasSeenOldWorkspaceTour: tourSeen(name: "workspace-desktop-tour")\n  }\n']);return l=function(){return e},e}function c(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentTourRepl on Repl {\n    id\n    lesson {\n      id\n    }\n  }\n"]);return c=function(){return e},e}var s=(0,o.Ps)(l()),u=(0,o.Ps)(c()),d=t(86800),p=t(65711),f=t(6695);function h(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftCurrentUser on CurrentUser {\n    id\n    isFirewallMode\n  }\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment ReplEnvironmentHeaderLeftRepl on Repl {\n    id\n    isAlwaysOn\n    slug\n    url\n    ...WorkspaceHeaderReplMetadataRepl\n  }\n  ","\n"]);return v=function(){return e},e}var m=(0,o.Ps)(h()),g=(0,o.Ps)(v(),f.s),Z=t(37887);function b(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2CurrentUser on CurrentUser {\n    id\n    image\n    isFirewallMode\n    ...CrosisContextCurrentUser\n    ...ReplEnvironment2CurrentUserLayoutFlags\n    editorPreferences {\n      ...CurrentUserPreferences\n    }\n    ...ReplEnvironmentHeaderLeftCurrentUser\n    ...ReplEnvironmentTourCurrentUser\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return b=function(){return e},e}function y(){var e=(0,i.Z)(["\n  fragment ReplEnvironment2Repl on Repl {\n    id\n    title\n    layoutState\n    description\n    multiplayers {\n      id\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    origin {\n      id\n    }\n    language\n    config {\n      isVnc\n      isServer\n    }\n    lesson {\n      id\n    }\n    ...CrosisContextRepl\n    ...ReplEnvironmentHeaderLeftRepl\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}function w(){var e=(0,i.Z)(["\n  query ReplEnvironment2($url: String!) {\n    repl(url: $url) {\n      ... on Repl {\n        id\n        ...CrosisContextRepl\n        ...ReplEnvironment2Repl\n        ...ReplEnvironmentTourRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n        isOwner\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironment2CurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var x={},T=(0,o.Ps)(b(),a.D,d.SL,p.wO,m,s),R=(0,o.Ps)(y(),a.C,g),k=(0,o.Ps)(w(),a.C,R,u,T);function C(e){var n=(0,r.Z)({},x,e);return Z.a(k,n)}},14632:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return yf}});var r=t(34727),i=t(9941),o=t(70655),a=t(35944),l=t(70917),c=t(15519),s=t(92098),u=t(22975),d=t(68480),p=t(23384),f=t(15902),h=t(12215),v=t(53931),m=t(11163),g=t(67294),Z=t(60665),b=t(14251),y=t(32692),w=t(31230),x=t(37887);function T(){var e=(0,y.Z)(["\n  query RepricingAnnouncement {\n    currentUser {\n      id\n      url\n      username\n      pricesUpdate {\n        __typename\n        ... on CurrentUserPricesUpdateOptionOutputObject {\n          option\n        }\n      }\n    }\n  }\n"]);return T=function(){return e},e}var R={},k=(0,w.Ps)(T());function C(e){var n=(0,b.Z)({},R,e);return x.a(k,n)}var E=t(9625),S=t(15085),I=t(17551),P=t(38164),_=t(90317),D=t(73147),U=t(59247),B=t(19536),A=new Date("2023-01-03");function G(){var e,n=C().data,t=(0,h.Z)("workspace","repricing-announcement"),r=t.shouldDisplay,i=t.dismiss,o=t.register,l=(0,m.useRouter)(),c=(0,p.D)({controlName:"flag-hacker2022-for-president"});return g.useEffect((function(){c&&o()}),[o,c]),(0,f.Vg)(l)?null:c?"CurrentUserPricesUpdateOptionOutputObject"!==(null===n||void 0===n||null===(e=n.currentUser)||void 0===e?void 0:e.pricesUpdate.__typename)?null:n.currentUser.pricesUpdate.option===_.c1.General?(0,a.tZ)(N,{shouldDisplay:r,dismiss:i}):(0,a.tZ)(L,{shouldDisplay:r,dismiss:i,isHacker:n.currentUser.pricesUpdate.option===_.c1.LegacyHacker}):null}function N(e){var n=e.shouldDisplay,t=e.dismiss,r=C().data;if(!(null===r||void 0===r?void 0:r.currentUser))return null;var i,o={slides:[{title:"Introducing new levels of Boosts!",subtitle:(0,a.tZ)(a.HY,{children:"We've now added even more power with additional levels starting at 4x the base resources and going all the way up to 32x of the base resources."}),text:(0,a.BX)(a.HY,{children:["Boosts are a way to allow your Repls to utilize more resources and make them faster."," ",(0,a.tZ)("a",{href:D.TT.ABOUT_BOOSTED_REPLS,onClick:t,target:"_blank",children:"Learn more"})]}),backgroundImage:"/public/images/repricing-announcement.png",backgroundColor:(i=Z.S.values.global.accentPrimaryDefault,(0,l.iv)({backgroundColor:i})),position:"center"}],date:A};return(0,a.tZ)(v.Z,{announcement:o,showModal:n,onRequestClose:t})}function O(e){var n=e.price;return(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(2),S.l0.align.center],children:[(0,a.tZ)(P.Z,{}),(0,a.BX)(S.xv,{children:[n,"/day"]})]})}function M(e){var n=e.variant;return(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(32),S.l0.align.center],children:[(0,a.tZ)(S.G7,{css:[{width:40}],children:(0,a.tZ)(E.Z,{variant:n})}),(0,a.tZ)(S.xv,{css:[{width:150}],children:(0,B.Pr)(n)}),(0,a.tZ)(O,{price:U.z4[n]})]})}function L(e){var n=e.isHacker,t=e.shouldDisplay,r=e.dismiss;return(0,a.tZ)(S.u_,{isOpen:t,onRequestClose:r,centered:!0,fitContent:!0,children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.BX)(S.G7,{css:[S.l0.colWithGap(12)],children:[(0,a.tZ)(S.xv,{variant:"subheadBig",children:"Announcing more power and updated pricing"}),(0,a.tZ)(S.xv,{multiline:!0,children:n?"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing and Hacker plan benefits reflect these changes.":"We\u2019re launching more powerful machines for a more powerful  experience. Our new pricing reflects these changes."})]}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(8)],children:[(0,a.tZ)(S.xv,{variant:"subheadDefault",children:"Always On Repls"}),(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(4)],children:[n?(0,a.tZ)(S.xv,{children:"One included with plan, then "}):null,(0,a.tZ)(O,{price:20})]})]}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(16)],children:[(0,a.tZ)(S.xv,{variant:"subheadDefault",children:"Boosted Repls"}),n?(0,a.tZ)(S.xv,{children:"One 4x Boost included with plan, then:"}):null,(0,a.BX)(S.G7,{css:[S.l0.colWithGap(8)],children:[(0,a.tZ)(M,{variant:"boost_2cpu_2ram"}),(0,a.tZ)(S.RX,{}),(0,a.tZ)(M,{variant:"boost_4cpu_4ram"}),(0,a.tZ)(S.RX,{}),(0,a.tZ)(M,{variant:"boost_8cpu_8ram"}),(0,a.tZ)(S.RX,{}),(0,a.tZ)(M,{variant:"boost_16cpu_16ram"})]})]}),(0,a.BX)(S.xv,{multiline:!0,children:["For any of your Repls currently using Always On or Boost (up to 8x), your pricing ",n?"and benefits ":null,"won\u2019t change until March 2023."]}),(0,a.BX)(S.G7,{css:[S.l0.flex.row,S.l0.align.center,S.l0.justify.spaceBetween],children:[(0,a.tZ)(S.ZP,{text:"Learn more",iconRight:(0,a.tZ)(I.ExternalLink,{}),href:D.TT.REPRICING_BLOG_POST,target:"_blank",css:{width:120}}),(0,a.tZ)(S.zx,{text:"Got it",onClick:r,colorway:"primary",css:{width:120}})]})]})})}var X=t(70338),F=t(69779),z=t(91131),W=t(52875),j=t(69346),H=t(81255),V=t(33279),q=t(5257),Y=t(57263),$=t(53800);function K(e,n){var t=0,r=[];return n.forEach((function(n){var i=n.from,o=n.to,a=e.slice(t,i);a&&r.push({text:a,match:!1});var l=e.slice(i,o);l&&r.push({text:l,match:!0}),t=o})),t<e.length&&r.push({text:e.slice(t),match:!1}),r}var J=(0,l.iv)({transitionProperty:"color",transitionDuration:Y.H.duration,transitionTimingFunction:Y.H.timingFunction}),Q=(0,l.iv)([S.l0.flex.shrink(1),S.l0.truncate,J]),ee={normal:{matched:S.TV.foregroundDefault,unmatched:S.TV.foregroundDimmer},dimmed:{matched:S.TV.foregroundDimmer,unmatched:S.TV.foregroundDimmest}};function ne(e){var n,t=null===(n=e.highlight)||void 0===n?void 0:n.filter((function(e){return e.to>0})),r=e.dimmed?ee.dimmed:ee.normal;return(null===t||void 0===t?void 0:t.length)?(0,a.tZ)(S.G7,{css:Q,children:K(e.text,t).map((function(e,n){return(0,a.tZ)("span",{css:J,style:{fontWeight:e.match?S.TV.fontWeightBold:S.TV.fontWeightRegular,color:e.match?r.matched:r.unmatched},children:e.text},e.text+n)}))}):(0,a.tZ)(S.G7,{style:{color:r.matched},css:[Q,J],children:e.text})}var te=t(50009),re=t(21131),ie=t(18172),oe=(0,z.cn)({chat:"unread"}),ae=(0,z.cn)(null,(function(e,n,t){n(oe,(function(e){return(0,ie.ZP)(e,(function(e){t.indicatorType?e[t.paneType]=t.indicatorType:delete e[t.paneType]}))}))}));function le(e){var n=e.paneType,t=(0,re.Z)((function(){return(0,z.cn)((function(e){return n?e(oe)[n]:void 0}))}),[n]);return(0,z.Dv)(t)}var ce=(0,l.iv)([S.l0.borderRadius("full"),S.l0.position.absolute,S.l0.top(-3),S.l0.right(-3)]);function se(e){var n=e.color,t=void 0===n?S.TV.redStronger:n,r=e.small?6:8;return(0,a.tZ)(S.G7,{style:{backgroundColor:t,width:r,height:r},css:ce})}var ue=(0,l.iv)([S.l0.align.center,S.l0.p(4),S.l0.borderRadius(8),S.l0.rowWithGap(4),S.l0.position.relative,{fontSize:S.TV.fontSizeDefault,lineHeight:"normal"}]),de=(0,l.iv)({color:"inherit"});function pe(e){var n,t,r=null===(n=e.highlightRanges)||void 0===n?void 0:n.filter((function(e){return e.to>0})),i=le({paneType:null===(t=e.pane)||void 0===t?void 0:t.type});return(0,a.BX)(S.Tg,{elevated:!0,style:{color:e.active?S.TV.foregroundDefault:S.TV.foregroundDimmer},css:ue,children:[e.icon,(0,a.tZ)(S.xv,{css:de,children:(null===r||void 0===r?void 0:r.length)?(0,a.tZ)(te.xK,{style:{color:(e.active,S.TV.foregroundDimmest)},matchStyle:{fontWeight:S.TV.fontWeightBold,color:S.TV.foregroundDefault},source:e.label,matches:r.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label}),i?(0,a.tZ)(se,{small:!0}):null]})}S.KD.button;var fe=t(54992),he=(0,l.iv)({transitionDuration:Y.H.duration,transitionTimingFunction:Y.H.timingFunction}),ve={background:(0,l.iv)([he,{transitionProperty:"background-color"}]),opacity:(0,l.iv)([he,{transitionProperty:"opacity"}]),color:(0,l.iv)([he,{transitionProperty:"color"}])},me={root:(0,l.iv)([S.l0.p(8),ve.background,S.l0.align.center,S.l0.rowWithGap(8)]),iconSurface:(0,l.iv)([S.l0.p(8),S.l0.borderRadius(8),S.l0.position.relative,ve.background])},ge={root:(0,l.iv)([ve.opacity,{opacity:.7}]),active:(0,l.iv)({opacity:1})};function Ze(e){var n=e.pane,t=e.active,r=e.highlight,i=(0,$.Se)(),o=i.Icon({pane:n,size:16}),l=i.getTitle(n),c=le({paneType:n.type});return(0,a.BX)(S.Tg,{elevated:t,css:me.root,children:[(0,a.tZ)(S.Tg,{elevated:!0,css:me.iconSurface,children:(0,a.BX)(S.G7,{css:[ge.root,e.active&&ge.active],children:[o,c?(0,a.tZ)(se,{}):null]})}),(0,a.tZ)(ne,{dimmed:!t,text:l,highlight:r})]})}var be=(0,l.iv)([S.l0.p(8),ve.background]);function ye(e){return(0,a.tZ)(S.Tg,{elevated:e.active,css:be,children:e.children})}var we={root:(0,l.iv)([be,S.l0.rowWithGap(4),S.l0.align.center]),description:(0,l.iv)([S.l0.truncate,S.l0.flex.growAndShrink(1),{fontSize:S.TV.fontSizeSmall}]),shortcut:(0,l.iv)({justifySelf:"end"})};function xe(e){return(0,a.BX)(S.Tg,{elevated:e.active,css:we.root,children:[(0,a.tZ)(pe,{icon:e.icon,label:e.text,active:e.active,highlightRanges:e.highlight}),e.description?(0,a.tZ)(S.G7,{style:{color:e.active?S.TV.foregroundDimmer:S.TV.foregroundDimmest},css:we.description,children:e.description}):null,e.shortcut?(0,a.tZ)(S.G7,{css:we.shortcut,children:(0,a.tZ)(V.Z,{shortcut:e.shortcut,small:!0})}):null]})}function Te(e){var n=e.item,t=e.active,r=n.data,i=n.match.render,o="openPane"===r.type?r.pane:void 0,l=i&&"content"in i?i.content:void 0,c=i&&"ranges"in i?i.ranges:void 0;if(l)return(0,a.tZ)(ye,{active:t,children:(0,g.cloneElement)(l,{active:t})});var s=o&&!(0,fe.KM)(o)?o:null,u=r.label,d=r.icon;return s?(0,a.tZ)(Ze,{active:t,pane:s,highlight:c}):(0,a.tZ)(xe,{active:t,icon:d,text:u,highlight:c,description:r.description,shortcut:r.keyboardShortcut})}var Re=t(8941),ke={root:(0,l.iv)([S.l0.px(8),S.l0.pb(2),S.l0.rowWithGap(4),S.l0.align.center,{marginTop:8}]),text:(0,l.iv)([S.l0.flex.shrink(1)])};function Ce(e){var n=e.path.slice(e.currentPathIndex+1).filter((function(e){return e.data.label}));if(!n.length)return null;var t=(0,F.Z)(new Set(n.map((function(e){return e.data.label}))));return(0,a.tZ)(S.G7,{css:ke.root,children:t.map((function(e,n){return(0,a.BX)(g.Fragment,{children:[n>0?(0,a.tZ)(Re.Z,{size:12,color:S.TV.foregroundDimmest}):null,(0,a.tZ)(S.xv,{variant:"small",color:"dimmest",css:ke.text,children:e})]},e+n)}))})}var Ee=S.KD.div,Se={root:(0,l.iv)([S.l0.flex.shrink(1),S.l0.overflow("auto"),S.l0.pb(8)]),item:(0,l.iv)([{cursor:"pointer"}])};function Ie(e){var n=e.index,t=e.item,r=e.items[n+1];return!!r&&(!!r.isSection||t.path.length!==r.item.path.length)}function Pe(e){var n=e.items.length>0;return(0,a.tZ)(Ee,(0,W.Z)((0,b.Z)({},e.getMenuProps()),{css:Se.root,style:n?void 0:{height:0,padding:0},children:e.isLoading||n?e.items.map((function(n,t){if(n.isSection)return n.name?(0,a.tZ)(Ce,{path:n.path,currentPathIndex:e.currentPathIndex},n.path.map((function(e){return e.data.label})).join("")):null;var r=n.item,i=n.index,o=i===e.highlightedIndex;return(0,a.BX)(g.Fragment,{children:[(0,a.tZ)(Ee,(0,W.Z)((0,b.Z)({css:Se.item},e.getItemProps({item:r,index:i})),{children:(0,a.tZ)(Te,{item:r,active:o})})),Ie({item:r,index:t,items:e.items})?(0,a.tZ)(S.Tg,{elevated:!0,style:{margin:8,height:1}}):null]},(0,q.k)(r))})):null}))}var _e=(0,g.memo)(Pe),De=(Y.H.duration,Y.H.timingFunction,{container:(0,l.iv)([S.l0.p(8)]),surface:(0,l.iv)([S.gU.filled,S.l0.viewStyle,S.l0.flex.row,S.l0.align.center,S.l0.flex.growAndShrink(1),S.l0.height(32),{"&:focus-within":S.kN[":focus"]}]),input:(0,l.iv)([S.l0.viewStyle,S.l0.flex.growAndShrink(1),S.l0.fontSize("default"),S.l0.height("100%"),S.l0.px(4),{backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:S.TV.foregroundDimmest},"&:hover::placeholder":{color:S.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:S.TV.foregroundDimmest}}]),closeButton:(0,l.iv)([S.l0.reset.button,S.l0.viewStyle,S.l0.center,S.l0.height(32),S.l0.px(4),S.l0.cursor.pointer,S.l0.color.foregroundDimmest,{"&:hover":{color:S.TV.foregroundDefault}}])}),Ue={root:(0,l.iv)([S.l0.reset.button,S.l0.viewStyle,S.l0.rowWithGap(4),S.l0.align.center,S.l0.borderRadius(0),S.l0.px(4),S.l0.cursor.pointer,S.l0.color.foregroundDimmer,{"&:hover":{color:S.TV.foregroundDefault}}]),text:(0,l.iv)([S.l0.truncate,S.l0.flex.shrink(1),{fontSize:S.TV.fontSizeDefault}])};function Be(e){var n=e.command.data,t=n.label,r=n.icon;return(0,a.BX)("button",{css:Ue.root,onClick:e.onClick,children:[(0,g.cloneElement)(r,{size:16}),(0,a.tZ)(S.G7,{css:Ue.text,children:t}),(0,a.tZ)(Re.Z,{size:12})]})}function Ae(e){return(0,a.tZ)(a.HY,{children:e.path.map((function(n,t){if(0===t)return null;var r=n.data.label+t;return(0,a.tZ)(Be,{command:n,onClick:function(){return e.onClick(t)}},r)}))})}var Ge=t(67629),Ne=t(77365),Oe=j.K.div,Me={root:(0,l.iv)([H.l0.flex.growAndShrink(1),H.l0.overflow("hidden"),H.l0.maxHeight("70vh"),H.l0.borderRadius(8)]),inputRow:(0,l.iv)([H.l0.pr(8),S.gU.nofill,H.l0.flex.row,H.l0.align.center,{"&&:hover":{backgroundColor:"transparent"}}]),input:(0,l.iv)([De.input,H.l0.py(8)])};function Le(e){var n=(0,q.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:e.initialCommand,insertSectionHeaders:!0}),t=n.combobox,r=n.items.length>0,i=n.path.length>1,o=Boolean(n.inputValue)||i;return(0,a.BX)(S.Tg,{css:Me.root,elevated:!0,children:[(0,a.BX)(Oe,(0,W.Z)((0,b.Z)({},t.getComboboxProps()),{css:Me.inputRow,children:[(0,a.tZ)(Ae,{path:n.path,onClick:function(e){return n.resetToIndex({index:e,focus:!0})}}),(0,a.tZ)("input",(0,b.Z)({style:{paddingLeft:i?0:8},css:Me.input},t.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&0===n.items.length&&e.onSubmit?e.onSubmit(t.currentTarget.value):"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"===t.key&&n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),o?(0,a.tZ)("button",{css:De.closeButton,onClick:function(){n.setInputValue(""),n.resetToIndex({index:0,focus:!0})},children:n.isLoading?(0,a.tZ)(Ne.Z,{}):(0,a.tZ)(Ge.Z,{})}):null,!o&&n.keyboardShortcut?(0,a.tZ)(V.Z,{shortcut:n.keyboardShortcut,small:!0}):null]})),r?(0,a.tZ)(S.Tg,{elevated:!0,style:{height:1}}):null,(0,a.tZ)(_e,{items:n.itemsWithSections||[],getMenuProps:t.getMenuProps,getItemProps:t.getItemProps,highlightedIndex:t.highlightedIndex,isLoading:n.isLoading,currentPathIndex:n.path.length-1})]})}var Xe=t(99408),Fe=t(93910),ze=t(14994),We=t(41238),je=t(39715),He=t(91550),Ve=t(3218),qe=t(91296),Ye=t.n(qe),$e=t(87653),Ke=t(88961),Je=t(46806),Qe=t(63736);function en(e){var n=e.path,t=e.line;return(0,a.BX)(S.G7,{css:[S.l0.colWithGap(4),S.l0.align.start,S.l0.flex.growAndShrink(1),S.l0.py(4)],children:[(0,a.BX)(S.Tg,{elevated:!0,css:[S.l0.rowWithGap(4),S.l0.borderRadius(8),S.l0.p(2)],children:[(0,a.tZ)(Qe.Z,{path:n,size:12}),(0,a.BX)(S.xv,{variant:"small",children:[n,":",t.lineNumber]})]}),(0,a.tZ)(te.xK,{source:t.content,matches:t.matches})]})}function nn(){return(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8)],children:[(0,a.tZ)(Ke.Z,{}),(0,a.tZ)(S.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function tn(){return(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8)],children:[(0,a.tZ)(Ke.Z,{}),(0,a.tZ)(S.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function rn(){return(0,a.tZ)(S.G7,{children:(0,a.tZ)(S.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var on={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function an(e){var n,t=Ye()((function(e,n,t){(0,Je.C)(e).then(n).catch(t)}),200);return(0,je.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,a.tZ)($e.Z,{}),keyboardShortcut:e.keyboardShortcut?on:void 0},{match:(0,je.zf)({defaultScore:2}),commands:function(){var l=(0,r.Z)((function(r){var l,c,s,u,d,p,f,h,v,m,g,Z;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return r.search?!r.active&&e.activeOnly?[2,[]]:(l=Math.random(),n=l,[4,new Promise((function(n,i){t({query:r.search,container:e.container},n,i)}))]):[2,[]];case 1:if(c=o.sent(),s=c.results,u=c.error,d=c.isPartialResult,l!==n)return[2,[]];if(null!==u)return r.active?[2,[{data:{type:"error",label:"error",icon:(0,a.tZ)(Ke.Z,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(nn,{})}}}}]]:[2,[]];p=[],f=!0,h=!1,v=void 0;try{for(m=function(){var e=(0,i.Z)(Z.value,2),n=e[0];e[1].forEach((function(e){var t=e.matches[0].column;p.push((0,je.fA)({type:"openFile",label:n,icon:(0,a.tZ)(Qe.Z,{path:n}),deeplink:{path:n,line:e.lineNumber,col:t}},{match:function(){var i=Ve.Z.match(r.search,e.content);return{score:(null===i||void 0===i?void 0:i.score)||1,render:{content:(0,a.tZ)(en,{path:n,line:e})},key:[n,e.lineNumber,t].join(":")}}}))}))},g=Object.entries(s)[Symbol.iterator]();!(f=(Z=g.next()).done);f=!0)m()}catch(b){h=!0,v=b}finally{try{f||null==g.return||g.return()}finally{if(h)throw v}}if(0===p.length&&r.active)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(S.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(rn,{})}}}}]];if(r.active){if(0===p.length)return[2,[{data:{type:"output",label:"",icon:(0,a.tZ)(S.G7,{})},match:function(){return{score:1,render:{content:(0,a.tZ)(rn,{})}}}}]];d&&p.push({data:{type:"error",label:"error",icon:(0,a.tZ)(Ke.Z,{})},match:function(){return{score:1/0,render:{content:(0,a.tZ)(tn,{})}}}})}return[2,p]}}))}));return function(e){return l.apply(this,arguments)}}()})}var ln=t(95068),cn=t(12727),sn=t(42456),un=t(57353),dn=t(18374),pn=t(8357),fn=t(22371),hn=t(65456);function vn(){var e=(0,Xe.Z)().fs,n=(0,g.useState)({isLoading:!0,isTutorial:!1}),t=n[0],r=n[1];return(0,g.useEffect)((function(){e.watchDir(".",{onChange:function(e){r({isLoading:!1,isTutorial:e.some((function(e){return e.type===hn.Tv.Directory&&e.filename===fn.V}))})},onMoveOrDelete:function(){r({isLoading:!1,isTutorial:!1})},onError:function(){r({isLoading:!1,isTutorial:!1})}})}),[e]),t}var mn=t(40705),gn=t(25497);var Zn=t(69128),bn=t(63377);function yn(){var e=(0,y.Z)(["\n  query WorkspaceEduPaneEnabled($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        isModelSolution\n        isProject\n        isProjectFork\n        owner {\n          __typename\n          ... on Team {\n            id\n            isAdmin\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return yn=function(){return e},e}var wn={},xn=(0,w.Ps)(yn());function Tn(){var e,n=function(e){var n=(0,b.Z)({},wn,e);return x.a(xn,n)}({variables:{replId:(0,bn.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;if(!t)return!1;var r=t.owner;return!!r&&(t.isProjectFork&&!t.isModelSolution&&"Team"===r.__typename&&r.isAdmin)}function Rn(){var e=(0,y.Z)(["\n  fragment WorkspaceToolPanesRepl on Repl {\n    isProjectFork\n    isModelSolution\n    isProject\n    isProjectFork\n    owner {\n      __typename\n      ... on Team {\n        id\n        isAdmin\n      }\n      ... on User {\n        id\n      }\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n    lang {\n      id\n      key\n      engine\n      supportsGit\n      hasLibSearch\n      supportsPackager3\n      hasDAP\n    }\n    config {\n      isServer\n      isVnc\n    }\n  }\n"]);return Rn=function(){return e},e}function kn(){var e=(0,y.Z)(["\n  query WorkspaceToolPanes($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...WorkspaceToolPanesRepl\n      }\n    }\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n  ","\n"]);return kn=function(){return e},e}var Cn={},En=(0,w.Ps)(Rn()),Sn=(0,w.Ps)(kn(),En);var In=t(92876),Pn=t(50217),_n=t(75240),Dn=t(45528),Un=t(18962),Bn=t(87194),An=t(9523);function Gn(){var e=(0,y.Z)(["\n  query ReplEnvironment2LoadCurriculum($id: String!) {\n    currentUser {\n      id\n      isTeacher: hasRole(role: TEACHER)\n      ...CrosisContextCurrentUser\n    }\n    repl(id: $id) {\n      ... on Repl {\n        id\n        isProject\n        isProjectFork\n        isModelSolution\n        isModelSolutionFork\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        language\n        origin {\n          id\n          ...CrosisContextRepl\n          origin {\n            id\n            ...CrosisContextRepl\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Gn=function(){return e},e}var Nn={},On=(0,w.Ps)(Gn(),An.D,An.C);var Mn=t(25108),Ln=(0,z.cn)(!1);function Xn(){return(0,z.Dv)(Ln)}function Fn(){var e,n,t=(0,bn.Z)(),i=(0,Xe.Z)().fs,a=function(e){var n=(0,b.Z)({},Nn,e);return x.a(On,n)}({variables:{id:t}}).data,l=(0,z.b9)(Ln),c="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null,s="CurrentUser"===(null===a||void 0===a||null===(e=a.currentUser)||void 0===e?void 0:e.__typename)?a.currentUser:null,u="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.isModelSolutionFork,d=u?c&&(null===(n=c.origin)||void 0===n?void 0:n.origin):c&&c.origin||null,p=(0,Dn.b)("Repl"===(null===d||void 0===d?void 0:d.__typename)?{repl:d,currentUser:s||void 0}:null);g.useEffect((function(){c&&s&&c.isProject&&i.stat(".lesson").then((function(e){e.exists||i.createDir(".lesson")}))}),[i,s,c]),g.useEffect((function(){if(c&&(c.isProjectFork||u)&&d&&p){var e=(0,_n.Z)({onUnrecoverableError:function(e){Mn.error(e),In.$e((function(n){n.setTag("curriculum-authoring",!0),n.setExtra("originId",d.id),In.Tb(e)}))}}),n=(0,Bn.Z)({container:e});e.connect({context:p,fetchConnectionMetadata:function(){return(0,Pn.Z)({url:"/data/repls/".concat(c.id,"/get_repl_origin_guest_connection_metadata")})}});var t=e.onConnectionStateChanged(function(){var a=(0,r.Z)((function(r){var a,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r!==Un.e.CONNECTED)return[3,8];t(),o.label=1;case 1:return o.trys.push([1,6,7,8]),[4,i.copyDirFromRemote(".lesson",".lesson",n)];case 2:return(a=o.sent()).error?(In.$e((function(e){e.setTag("curriculum-authoring",!0),e.setExtra("originId",d.id),In.Tb(new Error("Error copying lesson: ".concat(a.error)))})),[3,5]):[3,3];case 3:return[4,i.stat(".lesson/instructions.md")];case 4:o.sent().exists&&l(!0),o.label=5;case 5:return[3,8];case 6:return c=o.sent(),In.$e((function(e){e.setTag("curriculum-authoring",!0),In.Tb(c)})),[3,8];case 7:return e.destroy(),[7];case 8:return[2]}}))}));return function(e){return a.apply(this,arguments)}}());return function(){return e.destroy()}}}),[i,p,c,d,u,l])}function zn(){var e,n=function(e){var n=(0,b.Z)({},Cn,e);return x.a(Sn,n)}({variables:{replId:(0,bn.Z)()}}).data,t="Repl"===(null===n||void 0===n||null===(e=n.repl)||void 0===e?void 0:e.__typename)?null===n||void 0===n?void 0:n.repl:null;return t?{repl:t,currentUser:(null===n||void 0===n?void 0:n.currentUser)||null}:{repl:null,currentUser:null}}var Wn=["education","tutorial","instructions","docs","chat","threadInbox","packager","git","debugger","shell","runnerOutput","envEditor","webview","vnc","database","neon","replAuth","markdown","autograder","unitTests","preferences","adminPanel","deployments","sshConfigurator","ghostwriterChat"],jn=["shell","git","packager","envEditor","database","unitTests","preferences","multiplayer","adminPanel"];function Hn(){var e=zn(),n=e.repl,t=e.currentUser,r=(0,m.useRouter)(),o=(0,f.T3)(),a=(0,p.D)({controlName:"flag-neon-databases"}),l=(0,p.D)({controlName:"flag-deployments"}),c=(0,p.D)({controlName:"flag-repl-auth-sidebar"}),s=(0,p.D)({controlName:"flag-series-of-tubes"}),u=(0,p.D)({controlName:"flag-ghostwriter-chat-ext"}),d=(0,Zn.Z)().language,h=Tn(),v=Xn(),Z=vn().isTutorial,b=(0,mn.x)(),y=function(){var e=(0,Xe.Z)().dotReplit,n=(0,g.useState)(!1),t=n[0],r=n[1];return(0,g.useEffect)((function(){return e.watch((function(e){var n,t;e.error?e.error===gn.Yt.NotFound&&r(!1):r(Boolean(null===e||void 0===e||null===(n=e.config)||void 0===n||null===(t=n.debugger)||void 0===t?void 0:t.support))}))})),t}(),w=(null===t||void 0===t?void 0:t.isAdmin)||Boolean(r.query.debug);return(0,re.Z)((function(){var e=[];if(!n||!t)return e;var r=Boolean(n.config.isServer),p=Boolean(n.config.isVnc),f=n.lang.supportsGit,m=n.lang.key.startsWith("html"),g=!m,x=Boolean(null===b||void 0===b?void 0:b.packageSearch),T=n.isProject||n.isProjectFork,R=y,k=!m,C=!m&&s,E=Boolean(c&&b),S=[[{type:"shell"},!0],[{type:"instructions"},v],[{type:"markdown",data:{path:""}},!0],[{type:"threadInbox"},!0],[{type:"chat"},!0],[{type:"docs"},!0],[{type:"webview"},r||m],[{type:"vnc"},p],[{type:"runnerOutput"},!m],[{type:"git"},f],[{type:"packager"},x],[{type:"envEditor"},g],[{type:"debugger"},R],[{type:"tutorial"},Z],[{type:"database"},k],[{type:"neon"},a],[{type:"replAuth"},E],[{type:"autograder"},T],[{type:"unitTests"},!T&&null!==d],[{type:"education"},Boolean(h)],[{type:"preferences"},!0],[{type:"adminPanel"},w],[{type:"deployments"},l],[{type:"sshConfigurator"},C],[{type:"ghostwriterChat"},u]],I=!0,P=!1,_=void 0;try{for(var D,U=S[Symbol.iterator]();!(I=(D=U.next()).done);I=!0){var B=(0,i.Z)(D.value,2),A=B[0];B[1]&&(o&&!jn.includes(A.type)||e.push(A))}}catch(G){P=!0,_=G}finally{try{I||null==U.return||U.return()}finally{if(P)throw _}}return function(e,n){return e.sort((function(e,t){return n.indexOf(e.type)-n.indexOf(t.type)}))}(e,o?jn:Wn)}),[n,t,a,l,c,s,u,d,h,v,Z,b,y,w,o])}var Vn=function(e,n,t){return{match:t||je.pl,data:{type:"openPane",pane:e,label:n.getTitle(e),icon:n.Icon({pane:e})}}};function qn(){var e=(0,$.Se)();return(0,re.Z)((function(){return(0,z.cn)((function(n){var t=n(ln.EP);return{data:{type:"context",label:"Recent",icon:(0,a.tZ)(ze.Z,{})},commands:function(n){var r=n.search;return t.map((function(n){var t=(0,fe.Dp)({path:n});return Vn({type:t,data:{path:n}},e,(function(e){return r?(0,je.pl)(e):{score:10}}))}))}}}))}),[e])}function Yn(){var e=(0,$.Se)(),n=Hn();return(0,re.Z)((function(){return(0,z.cn)((function(t){var r=t(cn.Eh).map((function(e){return t(e.data).type})),i=[],o=!0,a=!1,l=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;(0,fe.b)(u.type)&&r.includes(u.type)||i.push(Vn(u,e))}}catch(d){a=!0,l=d}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return i}))}),[n,e])}var $n={type:"context",icon:(0,a.tZ)(We.Z,{}),label:"",description:"Search for tools and files"};function Kn(e){var n=e.paneId,t=(0,Xe.Z)(),r=t.fs,i=t.container,o=Yn(),l=qn(),c=(0,sn.A)(),s=(0,un.T)(),u=function(e){var n=e.paneId,t=(0,pn.D)();return(0,re.Z)((function(){return function(e){var r=e.path,i={type:(0,fe.Dp)({path:r}),data:{path:r}};t({paneId:n,data:i,makeActive:!0})}}),[n,t])}({paneId:n}),d=(0,re.Z)((function(){return(0,z.cn)((function(e){var n=e(o),t=e(l),d={data:{type:"context",label:"Search",icon:(0,a.tZ)(dn.Z,{})},commands:function(){return[(0,He.i)({openFile:u,fs:r,shouldHideFile:s,getRecentFiles:c}),an({container:i})]}},p={data:{type:"context",label:"Tools",icon:(0,a.tZ)(dn.Z,{})},commands:function(){return(0,F.Z)(n)}};return{data:$n,commands:function(){return[t,d,p]}}}))}),[i,r,c,o,s,l,u]);return(0,z.Dv)(d)}var Jn=(0,z.cn)(!1),Qn=(0,z.cn)(null,(function(e,n,t){if(e(Jn))return n(et,null),void n(Jn,!1);t&&n(et,t),n(Jn,!0)})),et=(0,z.cn)(null),nt=(0,z.cn)([]);function tt(){var e=function(){var e=Yn();return(0,re.Z)((function(){return(0,z.cn)((function(n){var t=n(nt),r=n(e),i={data:{type:"context",label:"Tools",icon:(0,a.tZ)(dn.Z,{})},commands:function(){return r}};return{data:Fe.$,commands:function(){return(0,F.Z)(t).concat([i])}}}))}),[e])}(),n=(0,re.Z)((function(){return(0,z.cn)((function(n){var t=n(e),r=n(et);return r?[t,r]:t}))}),[e]);return(0,z.Dv)(n)}var rt=t(58967),it=t(16965),ot=t(47875);function at(e,n){if("object"!==typeof n)return null;var t="string"===typeof n.action?n.action:null;if(!t)return null;if("layout"===e){if("split"===t){var r="string"===typeof n.pane?{type:n.pane}:{type:"commands",data:{autoFocus:!1}};return{action:n.action,placement:n.placement,pane:r}}if("reset"===t)return{action:"resetLayout"}}if("file"===e){var i="string"===typeof n.path?n.path:null;return i&&("openOrCreate"===n.action||"delete"===n.action)?{action:n.action,path:i}:null}if("tabs"===e){if("close"===t&&"string"===typeof n.type)return{action:"closeTab",type:n.type};if("open"===t)return{action:"openTab",pane:"string"===typeof n.type?{type:n.type}:{type:"commands",data:{autoFocus:!1}}}}return"codegen"===e&&"generate"===t&&"string"===typeof n.prompt?{action:"generate",prompt:n.prompt}:null}var lt=t(71171),ct=t.n(lt),st=t(72676),ut=t(68963),dt=t(29351),pt=t(57416),ft=t(50146),ht=t(63567),vt=t(88055),mt=t(12771),gt=t(11731),Zt=(0,z.cn)(null,(function(e,n,t){var r=e((0,cn.z)(t.fromPaneId));if(r.isDialog){n(vt.$,r.paneId);var i=e(cn.Eh).some((function(e){return"tile"===e.type}));n(dt.g2,i?{panes:[t.data],placement:"leftOf",makeActive:!0}:{panes:[t.data],placement:"replace",makeActive:!0})}else n(pn.v,{paneId:t.fromPaneId,data:t.data,makeActive:!0})})),bt=(0,z.cn)(null,(function(e,n,t){var r=e(ln.g4),i=(0,mt._F)(r,"topRight"),o=e(cn.Eh).find((function(n){return e(n.data).type===t.pane.type}));if(o)n(gt.Oe,o.paneId);else if(i){var a=i.paneGroup.panes.find((function(n){var t=e((0,cn.z)(n));if(t.isHidden)return!1;var r=e(t.data);return"filetree"!==r.type&&(!t.isCommitted&&!(0,fe.Zh)(r.type))}));a?n(pn.v,{paneId:a,data:t.pane,makeActive:!0}):("debugger"===t.pane.type&&n(dt.gN,{pane:t.pane,edge:"left"}),n(gt.Je,{panes:[t.pane],paneGroupId:i.paneGroup.id,activate:!0,index:0}))}else n(dt.g2,{panes:[t.pane],placement:"rightOf",relativeTo:["tiling"],makeActive:!0})}));function yt(){return(0,z.b9)(bt)}var wt=t(51894),xt=t(17780),Tt=t(57418),Rt=t(3032),kt=t(78120);function Ct(e){return Et.apply(this,arguments)}function Et(){return(Et=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!xt.l)throw new Error("Expected apolloClient");return[4,xt.l.query({query:wt.R1,variables:{input:e}})];case 1:if("GenerateCodeResult"!==(n=t.sent().data).generateCode.__typename)throw new Error(n.generateCode.__typename);return[2,n.generateCode.code]}}))}))).apply(this,arguments)}var St=(0,z.cn)(null,(function(e,n){n(st.iH,{tiling:null,floating:[]})})),It=((0,z.cn)(null,(function(e,n){var t=ct()(),r=e(ln.g4);n(st.iH,(0,ie.ZP)(r,(function(e){(0,ut.m)(e,{id:ct()(),relativeTo:["tiling"],placement:"replace",panes:[t]})})))})),(0,z.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,i,a,l,c,s,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:switch(r=t.action,i=t.fs,r.action){case"openOrCreate":return[3,1];case"delete":return[3,7];case"split":return[3,9];case"openTab":return[3,10];case"closeTab":return[3,11];case"resetLayout":return[3,12];case"clearLayout":return[3,13];case"generate":return[3,14]}return[3,17];case 1:return[4,i.stat(r.path)];case 2:return o.sent().exists?[3,6]:[4,i.writeFile(r.path,"")];case 3:return o.sent(),[4,i.flush()];case 4:return o.sent(),[4,i.persist({skipDebounce:!0})];case 5:o.sent(),o.label=6;case 6:return n(Rt.U,{path:r.path}),[3,17];case 7:return[4,i.deleteFile(r.path)];case 8:return o.sent(),[3,17];case 9:return a=e(pt.J1),n(dt.g2,{panes:[r.pane],placement:r.placement,makeActive:!1,relativeTo:a||["tiling"]}),[3,17];case 10:return n(bt,{pane:r.pane}),[3,17];case 11:return"*"===r.type?n(St,{}):n(ft.AW,r.type),[3,17];case 12:return n(ht.B,{}),[3,17];case 13:return n(St,{}),[3,17];case 14:return(l=e(ln.QP))||(c=e(cn.Eh).find((function(n){return"codeEditor"===e(n.data).type})))&&"codeEditor"===(s=e(c.data)).type&&(l=s.data.path),l?[4,Ct({language:(0,Tt.Sf)(l),replId:t.replId,prompt:r.prompt})]:[2];case 15:return u=o.sent(),[4,new Promise((function(e,n){if(l)var t=i.watchTextFile(l,{onError:function(t){n(t),e()},onReady:function(n){var r=n.writeChange,i=n.initialContent;r(kt.as.of({from:i.length,insert:u},i.length)),t(),e()}});else n(new Error("Expected path"))}))];case 16:return o.sent(),[3,17];case 17:return[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())),Pt="https://llmide.amasad.repl.co";function _t(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch(Pt+"/"+encodeURIComponent(e),{mode:"cors"})];case 1:return[4,n.sent().json()];case 2:return[2,{json:n.sent(),error:null}];case 3:return[2,{json:null,error:n.sent()}];case 4:return[2]}}))}))).apply(this,arguments)}var Ut=(0,z.cn)(!1),Bt=(0,z.cn)(!1);function At(e){var n=e.isOpen,t=e.onDone,a=(0,Xe.Z)().fs,l=(0,it.Z)(t),c=(0,ot.Q)("flagGhostrunner"),s=(0,bn.Z)(),u=(0,re.Z)((function(){return(0,z.cn)(null,function(){var e=(0,r.Z)((function(e,n,t){var r,c,u,d,p,f,h,v,m;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e(ot.H).flagGhostrunner?(n(Ut,!0),[4,_t(t)]):[2];case 1:if((r=o.sent()).error)return n(Ut,!1),n(Bt,!0),[2];if(c=function(e){if("object"!==typeof e)return{error:"not an object",actions:null};var n=e&&"result"in e?e.result:null;if(!Array.isArray(n))return{error:"no commands",actions:null};var t=[],r=!0,o=!1,a=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var s=l.value;if("object"===typeof s){var u=!0,d=!1,p=void 0;try{for(var f,h=Object.entries(s)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=(0,i.Z)(f.value,2),g=at(v[0],v[1]);g&&t.push(g)}}catch(m){d=!0,p=m}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}}}catch(m){o=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return 0===t.length?{error:"no commands",actions:null}:{error:null,actions:t}}(r.json),!c.actions)return n(Ut,!1),n(Bt,!0),[2];u=!0,d=!1,p=void 0,o.label=2;case 2:o.trys.push([2,7,8,9]),f=c.actions[Symbol.iterator](),o.label=3;case 3:return(u=(h=f.next()).done)?[3,6]:(v=h.value,[4,n(It,{fs:a,action:v,replId:s})]);case 4:o.sent(),o.label=5;case 5:return u=!0,[3,3];case 6:return[3,9];case 7:return m=o.sent(),d=!0,p=m,[3,9];case 8:try{u||null==f.return||f.return()}finally{if(d)throw p}return[7];case 9:return n(Ut,!1),l.current(),[2]}}))}));return function(n,t,r){return e.apply(this,arguments)}}())}),[l,a,s]),d=(0,z.b9)(u);return(0,g.useEffect)((function(){if(c&&n&&window.webkitSpeechRecognition){var e=new window.webkitSpeechRecognition;e.onresult=function(e){var n=e.results[0][0].transcript;d(n)},e.start()}}),[d,c,n]),d}function Gt(){var e=(0,z.Dv)(Ut);return(0,z.Dv)(Bt)?(0,a.tZ)(Nt,{}):e?(0,a.tZ)(S.Tg,{elevated:!0,css:[S.l0.coverContainer,S.l0.borderRadius(8),S.l0.center],children:(0,a.tZ)(Ne.Z,{})}):null}function Nt(){var e=(0,z.b9)(Bt);return(0,g.useEffect)((function(){var n=setTimeout((function(){e(!1)}),600);return function(){clearTimeout(n)}}),[e]),(0,a.tZ)(S.Tg,{elevated:!0,css:[S.l0.coverContainer,S.l0.borderRadius(8),S.l0.center],children:(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8),S.l0.align.center],children:[(0,a.tZ)(Ke.Z,{color:S.TV.accentNegativeDefault}),(0,a.tZ)(S.xv,{children:"Something went wrong, try again"})]})})}function Ot(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,t=(0,z.b9)(nt);(0,g.useEffect)((function(){if(n)return t((function(n){return(0,F.Z)(n).concat([e])})),function(){t((function(n){return n.filter((function(n){return n!==e}))}))}}),[t,e,n])}function Mt(){var e=(0,z.Dv)(Jn),n=(0,z.b9)(Qn),t=tt(),r=(0,Xe.Z)().session,i=(0,rt.Z)("commandBar").trackTimeToLoadFileStart,o=yt();(0,g.useEffect)((function(){return r.onCommandBarToggled((function(t){t!==e&&n()}))}),[r,n,e]),(0,g.useEffect)((function(){r.setIsCommandBarOpen(e)}),[r,e]);var l=At({onDone:n,isOpen:e});return(0,a.BX)(S.u_,{hideCloseButton:!0,isOpen:e,onRequestClose:n,noPadding:!0,children:[(0,a.tZ)(Le,{onSubmit:l,onSelect:function(e){if("openFile"===e.data.type){var t=e.data.deeplink;i(t.path),r.openFile(t.path),r.updateDeeplink(t)}"openPane"===e.data.type&&o({pane:e.data.pane}),"action"===e.data.type&&e.data.run(),n()},initialCommand:t}),(0,a.tZ)(Gt,{})]})}var Lt=(0,g.memo)(Mt),Xt=t(46701),Ft=t(1144),zt=t(41709),Wt=t(80856);function jt(){var e=(0,z.b9)(gt.a4),n=(0,Wt.Z)({moveOrDeleteFile:e}),t=n.isConverging,r=n.didContentsDiverge,i=n.showMoreDetail,o=n.failedFiles,l=n.failedFilesOptions,c=n.selectedFile,s=n.setSelectedFile,u=n.reviewingPrompt,d=n.onChoice,p=n.local,f=n.remote,h=[S.l0.minHeight("7em"),S.l0.maxHeight("50vh"),S.l0.overflowY("auto"),{"> div":{display:"flex",alignItems:"stretch",width:"100%",height:"100%"},"> div > .cm-editor":{flex:"1 1 auto",width:"100%"}}];return(0,a.tZ)(S.u_,{css:[{maxHeight:"90%",maxWidth:"90%"}],preventClose:!0,isOpen:r,onRequestClose:function(){},children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.tZ)(Ft.h,{level:3,variant:"headerDefault",children:"Replit is out of sync!"}),(0,a.BX)(Ft.x,{multiline:!0,children:["Sometimes Replit has trouble making sure everyone's code is the same. Let us know which version of"," ",o.length>1?"these files":"this file"," you'd like to keep."," ",o.length>1?(0,a.BX)("strong",{children:["There are ",o.length," files impacted by this."]}):""]}),t?(0,a.tZ)(I.Loader,{}):(0,a.BX)(a.HY,{children:[l.length?(0,a.tZ)(S.Ph,{initialSelectedItem:l[0],selectedItem:l.find((function(e){return e.path===c})),items:l,onChange:function(e){s(e.path)}}):null,i?(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(16),S.l0.justify.start,S.l0.align.center,S.l0.pt(16),S.l0.p(8),S.l0.backgroundColor.redDimmest,S.l0.font.code],children:[(0,a.tZ)(Ft.x,{variant:"subheadDefault",children:"Debug View"}),(0,a.BX)(Ft.x,{children:["Divergence type: ",null===u||void 0===u?void 0:u.case]})]}):null,(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8)],children:[(0,a.BX)(S.G7,{css:[S.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(Ft.x,{variant:"subheadDefault",children:"My changes"}),(0,a.tZ)(S.Tg,{elevated:!0,css:[S.l0.flex.growAndShrink(1),S.l0.py(8)],children:(0,a.tZ)(S.G7,{css:h,children:(0,a.tZ)(zt.q,{diffViewer:p})})}),(0,a.BX)(S.G7,{css:[S.l0.pt(16)],children:[(0,a.tZ)(Ft.x,{multiline:!0,css:[S.l0.textAlign.center],children:"This might disrupt other people's work or create unexpected bugs."}),(0,a.tZ)(S.zx,{onClick:function(){d("local")},text:"Reset to Mine"})]})]}),(0,a.BX)(S.G7,{css:[S.l0.flex.growAndShrink(1),{flexBasis:0}],children:[(0,a.tZ)(Ft.x,{variant:"subheadDefault",children:"Shared changes"}),(0,a.tZ)(S.Tg,{elevated:!0,css:[S.l0.flex.growAndShrink(1),S.l0.py(8)],children:(0,a.tZ)(S.G7,{css:h,children:(0,a.tZ)(zt.q,{diffViewer:f})})}),(0,a.BX)(S.G7,{css:[S.l0.pt(16),S.l0.justify.end],children:[(0,a.tZ)(Ft.x,{multiline:!0,css:[S.l0.textAlign.center],children:"This is the safest option and won't disrupt other's work."}),(0,a.tZ)(S.zx,{onClick:function(){d("remote")},text:"Sync to Shared",colorway:"primary"})]})]})]})]})]})})}var Ht=t(60523),Vt=t(2858),qt=t(35621);function Yt(e){var n=e.children,t=g.useRef({fileMap:new Map});return(0,a.tZ)(Ht.Z.Provider,{value:t,children:n})}function $t(e){var n=e.ui,t=e.services,r=e.replId,i=e.replLanguage,o=e.children,l=(0,re.Z)((function(){return{id:r,language:i}}),[r,i]);return(0,a.tZ)($.kz,{value:n,children:(0,a.tZ)(Yt,{children:(0,a.tZ)(Vt.Z.Provider,{value:t,children:(0,a.tZ)(qt.Z.Provider,{value:l,children:o})})})})}var Kt=t(25602),Jt=t(89390),Qt=t(5768),er=function(){var e=(0,r.Z)((function(e,n){var t,r,i,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return(0,Kt.u9)()?[4,(0,Kt.mv)(e)]:[2,!1];case 1:return t=o.sent(),r=t.path,i=t.line,a=t.col,r?(n.openFile(r,{line:i,col:a}),[2,!0]):[2,!1]}}))}));return function(n,t){return e.apply(this,arguments)}}();function nr(){var e=(0,Xe.Z)(),n=e.fs,t=e.session,i=e.dotReplit,a=(0,bn.Z)(),l=(0,g.useRef)(!1),c=(0,z.Dv)(ln.QP),s=(0,it.Z)(c),u=(0,g.useState)(!1),d=u[0],p=u[1],f=(0,z.Dv)(Qt.Mn);(0,g.useEffect)((function(){if(d)if(c){var e=(0,Kt.YM)({path:c}),n=window.location.hash;n===c||n.startsWith(e+":")||(l.current=!0,window.location.hash=e)}else history.pushState("",document.title,window.location.pathname+window.location.search)}),[d,c]),(0,g.useEffect)((function(){function e(){return(e=(0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return f?s.current?(p(!0),[2]):[4,er(n,t)]:[2];case 1:return e=r.sent(),p(!0),e||s.current||"saved"===f?[2]:((0,Jt.P)(n,t,i,a),[2])}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t,i,a,s,f]),(0,g.useEffect)((function(){if(f){var e=function(){var e=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return l.current?(l.current=!1,[2]):[4,er(n,t)];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[f,n,t])}function tr(){return nr(),null}var rr=t(24888),ir=t(1557),or=t(37424);function ar(){var e=(0,Xe.Z)().fs,n=(0,g.useState)(!1),t=n[0],r=n[1],i=(0,g.useState)(!1),o=i[0],l=i[1],c=(0,or.D)();(0,g.useEffect)((function(){if(!o)return e.onDiskQuotaExceeded((function(){r(!0)}))}),[e,o]);var s=function(){r(!1)};return(0,a.tZ)(S.u_,{isOpen:t,onRequestClose:s,children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.BX)(S.h4,{level:3,variant:"headerDefault",children:["Oops! This Repl's disk is full"," ",(0,a.tZ)(ir.Z,{color:S.TV.accentNegativeDefault,size:20})]}),(0,a.BX)(S.xv,{multiline:!0,variant:"subheadDefault",children:["Please free up space by deleting some files. You can open the file tree by clicking the ",(0,a.tZ)(rr.Z,{})," icon on the left."]}),(0,a.tZ)(S.xv,{multiline:!0,children:"You can check how much space you are using from the Repl Resources section under the file tree."}),(0,a.tZ)(S.xv,{multiline:!0,variant:"small",children:"We apologize for the inconvenience. We are working on a solution to allow you to boost your disk limits."}),(0,a.BX)(S.G7,{css:S.l0.rowWithGap(8),tag:"label",children:[(0,a.tZ)(S.XZ,{id:c,checked:o,onChange:function(e){return l(Boolean(e.currentTarget.value))}}),(0,a.tZ)(S.xv,{multiline:!0,variant:"small",children:"Do not show this message again for this session."})]}),(0,a.tZ)(S.zx,{onClick:s,text:"Close"})]})})}var lr=t(63848),cr=t(92271);function sr(){var e=(0,lr.K)(),n=(0,z.Dv)(ln._E),t=(0,cr.P9)();if(!e)return null;var r=e.rect,i="detachPreview"===e.type?e.progress:1,o="detachPreview"===e.type?e.rect.height:8,l="detachPreview"===e.type&&i<.98?H.TV.foregroundDefault:H.TV.accentPrimaryDefault,c="detachPreview"===e.type?void 0:H.TV.accentPrimaryDimmer;return(0,a.tZ)("div",{style:{position:"absolute",border:"1px ".concat(i<.98?"dashed":"solid"),pointerEvents:"none",width:r.width,height:r.height,backgroundColor:c,borderColor:l,borderRadius:o,zIndex:t,opacity:"detachPreview"===e.type?.5*i:.2,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:n?"transform 140ms, width 140ms, height 140ms, border-radius 140ms":void 0},children:"detachPreview"===e.type?(0,a.tZ)(ur,{progress:i}):null})}function ur(e){var n=e.progress;return(0,a.tZ)("div",{style:{width:"100%",height:"100%",transform:"scale(".concat(n,")"),background:"radial-gradient(transparent, ".concat(H.TV.backgroundHighest,")"),borderRadius:"100%"}})}var dr=(0,g.memo)(sr),pr=t(61193),fr=t(43530),hr=t(4368),vr=t(92002);function mr(){var e=(0,y.Z)(["\n  query ExtensionStore {\n    extensionList {\n      id\n      url\n      name\n      description\n      user {\n        id\n        username\n        displayName\n      }\n    }\n  }\n"]);return mr=function(){return e},e}var gr=(0,w.Ps)(mr());function Zr(){var e=(0,pr.c)("flag-iframe-extensions"),n=e.enabled,t=e.loading,i=(0,z.b9)(dt.g2),l=g.useCallback((function(e){i({panes:[{data:e,type:"extension"}],makeActive:!0,placement:"rightOf"})}),[i]);return Ot({match:je.pl,commands:function(e){return e.active||""!==e.search?[{match:je.pl,data:{type:"action",label:"URL",icon:(0,a.tZ)(vr.Z,{}),description:"Add an extension by URL",run:function(){var e=prompt("insert extension url");e&&l({url:e,name:"Extension"})}}},{match:je.pl,data:{type:"context",label:"Store",icon:(0,a.tZ)(hr.Z,{}),description:"Browse the extension store"},commands:function(){var e=(0,r.Z)((function(e){var n,t,r;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return e.active?[4,null===xt.l||void 0===xt.l?void 0:xt.l.query({query:gr})]:[2,[]];case 1:return!(n=i.sent())||n.error?[2,[]]:(t=n.data.extensionList)?[2,t.map((function(e){return{match:je.pl,data:{type:"action",label:e.name,icon:(0,a.tZ)(hr.Z,{}),description:null!==(r=e.description)&&void 0!==r?r:"",run:function(){e.url&&l({url:e.url,name:e.name})}}}}))]:[2,[]]}}))}));return function(n){return e.apply(this,arguments)}}()},{match:je.pl,data:{type:"action",label:"Docs",icon:(0,a.tZ)(fr.Z,{}),description:"Read the extensions docs",run:function(){l({url:"/extensions-docs",name:"Extension"})}}}]:[]},data:{type:"context",label:"Extensions",icon:(0,a.tZ)(hr.Z,{}),description:"Manage extensions"}},{enabled:!t&&n}),null}var br=t(51995),yr=t(91082),wr=t(83475),xr=t(9117),Tr=t(48920),Rr=t(11070),kr=t(1879),Cr={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"Enter"};function Er(){var e=(0,z.b9)(Qn),n=(0,g.useState)(!1),t=n[0],r=n[1],i=(0,sn.A)(),o=(0,Xe.Z)(),l=o.fs,c=o.container,s=o.runner,u=(0,wr.L7)(s),d=(0,un.T)(),p=(0,Rt.C)();(0,xr.x)(Fe.q,{run:e}),(0,xr.x)(He.q,{run:function(){e(He.i({openFile:p,fs:l,shouldHideFile:d,getRecentFiles:i}))}}),(0,xr.x)(on,{run:function(){e(an({container:c,keyboardShortcut:!0}))}}),Ot(He.i({openFile:p,fs:l,shouldHideFile:d,getRecentFiles:i,keyboardShortcut:!0}));var f=(0,ot.Q)("flagGhostrunner");return Ot(an({container:c,activeOnly:f})),Ot({match:je.pl,data:{type:"action",icon:(0,a.tZ)(br.Z,{}),label:"Run",description:"Run Repl",run:function(){s.run()},keyboardShortcut:Cr}},{enabled:u===Tr.A.IDLE}),(0,xr.x)(Cr,{run:function(){u===Tr.A.RUNNING&&s.stopRun(),s.run()},enabled:u!==Tr.A.OFFLINE}),Ot({match:je.pl,data:{type:"action",icon:(0,a.tZ)(yr.Z,{}),label:"Stop",description:"Stop Repl",run:function(){s.stopRun()}}},{enabled:u===Tr.A.RUNNING}),Ot({match:(0,je.zf)({defaultScore:.5}),data:{type:"action",label:"Create",icon:(0,a.tZ)(vr.Z,{}),description:"Create a new Repl",run:function(){r(!0)}}}),(0,a.tZ)(kr.Z,{isOpen:t,onRequestClose:function(){return r(!1)},maxWidth:600,centered:!0,children:(0,a.tZ)(Rr.Z,{})})}var Sr=(0,g.memo)(Er),Ir=t(67573);var Pr=t(48505),_r=t(56124),Dr=t(48869),Ur=t(42895),Br=t(6307);function Ar(e,n,t){var r=!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)?32:0;if(t){var i=2/3,o=Math.max(e.width,r*i),a=Math.max(e.height,r*i),l="left"===t?1:-1,c=n?0:l*(o-e.width)/2,s=n?l*(a-e.height)/2:0;return{width:n?e.width:o,height:n?a:e.height,x:n?e.x:e.x-(o-e.width)/2+c,y:n?e.y-(a-e.height)/2+s:e.y}}var u=Math.max(e.width,r),d=Math.max(e.height,r);return{width:n?e.width:u,height:n?d:e.height,x:n?e.x:e.x-(u-e.width)/2,y:n?e.y-(d-e.height)/2:e.y}}var Gr,Nr="--grip-color",Or="var(".concat(Nr,")"),Mr=(0,l.iv)((Gr={},(0,Ir.Z)(Gr,Nr,H.TV.outlineDimmest),(0,Ir.Z)(Gr,":active, :hover",(0,Ir.Z)({},Nr,H.TV.foregroundDefault)),Gr)),Lr=(0,l.iv)([H.l0.position.absolute,H.l0.center,{minWidth:8,minHeight:8},Mr]),Xr=(0,l.iv)({":hover":{transform:"scaleX(4)"}}),Fr=(0,l.iv)({":hover":{transform:"scaleY(4)"}}),zr=(0,l.iv)([H.l0.height("200vh"),H.l0.width("200vw"),{transform:"translate(-50%, -50%)"}]),Wr=(0,l.iv)([{backgroundColor:Or,transition:"background-color"},H.l0.borderRadius(4)]),jr=(0,l.iv)([Wr,{transitionDuration:"140ms"}]);function Hr(e){var n=e.snapped,t=e.stacked;return"left"===n?t?(0,a.tZ)(Dr.Z,{color:Or}):(0,a.tZ)(Re.Z,{color:Or}):t?(0,a.tZ)(_r.Z,{color:Or}):(0,a.tZ)(Pr.Z,{color:Or})}var Vr=function(e){var n,t,r;return n=100/e*1,t=.08,r=.12,Math.min(Math.max(n,t),r)},qr=function(e){return{default:(0,l.iv)([H.l0.height("horizontal"===e?2:24),H.l0.width("horizontal"===e?24:2),Wr]),active:(0,l.iv)([H.l0.height("horizontal"===e?1:"calc(100%)"),H.l0.width("horizontal"===e?"calc(100%)":1),H.l0.backgroundColor.accentPrimaryDefault]),shared:(0,l.iv)([H.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])}},Yr=qr("horizontal"),$r=qr("vertical");function Kr(e){var n=e.rect,t=e.onPointerDown,r=e.onDoubleClick,i=e.stacked,o=e.snapped,l=e.zIndexHovered,c=e.zIndex,s=e.isActive,u=Ar(n,i,o),d=(0,Ur.T)(),p=(i?n.width:n.height)<24,f=i?Yr:$r,h=i?"row-resize":"col-resize";return(0,a.BX)(a.HY,{children:[(0,a.BX)(j.Z,{onPointerDown:t,onDoubleClick:r,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},style:{width:u.width,height:u.height,transform:"translate(".concat(u.x,"px, ").concat(u.y,"px)"),visibility:p?"hidden":void 0,cursor:h},css:[Lr,{zIndex:c},!s&&{":hover":{zIndex:l}}],children:[(0,a.tZ)(j.Z,{css:[H.l0.coverContainer,!s&&(i?Fr:Xr),s&&zr]}),o?(0,a.tZ)(Hr,{snapped:o,stacked:i}):(0,a.tZ)(j.Z,{className:"grip-line",style:{transitionDuration:d?"0s":"".concat(Vr(i?n.width:n.height),"s")},css:[jr,s?f.active:f.default,f.shared]})]}),s?(0,a.tZ)(Br.a,{cursor:h}):null]})}var Jr=t(91885);function Qr(e,n){var t=n.leftPath,r=n.percent,i=n.snapPercent,o=void 0===i?0:i,a=(0,mt.KC)(e,t);if(!a||!(0,Jr.r)(a))throw new Error("Expected leftNode");var l=(0,Jr.I)(t),c=(0,mt.KC)(e,l);if("split"!==(null===c||void 0===c?void 0:c.type))throw new Error("Expected splitNode");var s=c.children.indexOf(a);if(-1===s)throw new Error("Expected leftNodeIndex");var u=s+1,d=c.children[u];if(!d)throw new Error("Expected rightNode");if(r<=o){if(a.percent=0,r<0&&s>0)for(var p=Math.abs(r),f=s-1;p>0;){var h=c.children[f];if(h.percent>p){h.percent-=p;break}if(p-=h.percent,h.percent=0,0===f)break;f--}var v=c.children.reduce((function(e,n){return n===d?e:e+n.percent}),0);d.percent=100-v}else{var m=a.percent+d.percent,g=c.children.slice(s).reduce((function(e,n){return e+n.percent}),0);if(r>m-o){if(a.percent=Math.min(g,Math.max(m,r)),d.percent=0,r>m&&u<c.children.length-1)for(var Z=r-m,b=u+1;Z>0;){var y=c.children[b];if(y.percent>Z){y.percent-=Z;break}if(Z-=y.percent,y.percent=0,b===c.children.length-1)break;b++}}else{var w=a.percent-r;d.percent=d.percent+w,a.percent=r}}}var ei=t(37806);function ni(e){var n=e.layout,t=e.splitPath,r=e.tilingOptions,i=function(e,n){var t=n.splitPath,r=(0,mt.KC)(e,t);if(!r||"split"!==r.type)throw new Error("Expected split node");for(var i=100,o=(0,Jr.I)(t);o.length;){var a=(0,mt.KC)(e,o);if(!a)break;o=(0,Jr.I)(o),"split"===a.type&&a.stacked===r.stacked&&(i*=a.percent/100)}return i}(n,{splitPath:t}),o=(0,mt.KC)(n,t);if("split"!==(null===o||void 0===o?void 0:o.type))throw new Error("Expected split node");var a=r.size,l=r.gap,c=r.headerHeight,s=r.inset,u=void 0===s?{top:0,bottom:0,left:0,right:0}:s,d=o.children.length,p=o.stacked?l*(d-1)+c*d:l*(d-1);return i/100*((o.stacked?a.height-(u.top+u.bottom):a.width-(u.left+u.right))-p)}var ti=t(78648),ri=(0,z.cn)(null),ii=(0,z.cn)(null,(function(e,n,t){if("end"!==t.type)if("update"!==t.type){var r=e(ln.g4),i=t.stacked?window.innerHeight:window.innerWidth,o=(0,mt.KC)(r,t.leftPath);if(!o||!(0,Jr.r)(o)){var a=new Error("Expected left node");throw n(ei.xm,{error:a,tags:{layoutstate:!0}}),a}var l=(0,Jr.I)(t.leftPath),c=o.percent,s=st.pc/i*100,u=null;try{u=ni({splitPath:l,layout:r,tilingOptions:e(st.Hs)})}catch(w){throw n(ei.xm,{error:w,tags:{layoutstate:!0}}),w}if(null===u)throw new Error("Expected resizeDistance");n(ri,{stacked:t.stacked,leftPath:t.leftPath,startPercent:c,resizeDistance:u,snapPercent:s,initialLayout:r})}else{var d=e(ri);if(!d){var p=new Error("Expected tilingResize");throw n(ei.xm,{error:p,tags:{layoutstate:!0}}),p}var f=d.stacked,h=d.leftPath,v=d.startPercent,m=d.resizeDistance,g=d.initialLayout,Z=d.snapPercent,b=v+(f?t.moveDelta.y:t.moveDelta.x)/m*100,y=(0,ie.ZP)(g,(function(e){Qr(e,{leftPath:h,percent:b,snapPercent:Z})}));n(st.iH,y)}else n(ri,null)}));var oi=t(64824),ai=(0,z.cn)(null,(function(e,n,t){var r=e(ln.g4),i=(0,ie.ZP)(r,(function(e){Qr(e,{leftPath:t.leftPath,percent:t.percent})}));n(st.iH,i)}));var li=t(93096),ci=t.n(li);function si(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=e.pageX,i=e.pageY,o={x:r,y:i},a={x:0,y:0};n.start&&n.start({mouse:o,shiftKey:e.shiftKey});var l=ci()((function(e){var t={x:e.pageX,y:e.pageY};a={x:t.x-o.x,y:t.y-o.y},n.move({delta:a,shiftKey:e.shiftKey,mouse:t})}),t),c=function(){l.cancel(),document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",c),document.removeEventListener("touchcancel",c),n.end&&n.end({delta:a,shiftKey:e.shiftKey})};document.addEventListener("pointermove",l),document.addEventListener("pointerup",c),document.addEventListener("touchcancel",c)}function ui(e){var n=e.handleId,t=(0,z.Dv)((0,cn.vv)(n)),r=(0,z.b9)(ii),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,g.useRef)(e),t=(0,z.b9)(ai),r=(0,oi.lV)((0,g.useCallback)((function(e){return e(ln.g4)}),[]));return(0,g.useCallback)((function(i){i.snapped?t({leftPath:i.leftPath,percent:n.current}):Promise.resolve(r()).then((function(r){var o=(0,mt.KC)(r,i.leftPath);if(!o||!(0,Jr.r)(o))throw new Error("Expected split or paneGroup");n.current=o.percent,t({leftPath:i.leftPath,percent:e})}))}),[e,t,r])}(),o=(0,cr.bJ)(),l=function(e){var n=e.handleId,t=(0,re.Z)((function(){return(0,z.cn)((function(e){var t=e(ri);return!!t&&n===(0,ti.xH)({leftPath:t.leftPath})}))}),[n]);return(0,z.Dv)(t)}({handleId:n});return(0,a.tZ)(Kr,{isActive:l,zIndex:l?o.active:o.normal,zIndexHovered:o.hovered,snapped:t.snapped,rect:t.rect,stacked:t.stacked,onDoubleClick:function(){i(t)},onPointerDown:function(e){si(e,{start:function(){r({type:"start",leftPath:t.leftPath,stacked:t.stacked})},move:function(e){var n=e.delta;r({type:"update",moveDelta:n})},end:function(){r({type:"end"})}})}})}var di=(0,g.memo)(ui),pi=t(60977);function fi(){var e=(0,y.Z)(["\n  fragment ReplEnvironmentAvatarMenuCurrentUser on CurrentUser {\n    id\n    url\n    username\n    image\n    isHacker\n  }\n"]);return fi=function(){return e},e}function hi(){var e=(0,y.Z)(["\n  query ReplEnvironmentAvatarMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentAvatarMenuCurrentUser\n    }\n  }\n  ","\n"]);return hi=function(){return e},e}var vi={},mi=(0,w.Ps)(fi()),gi=(0,w.Ps)(hi(),mi);var Zi=t(50319);function bi(){var e=(0,y.Z)(["\n  fragment MarkLessonCompleteLesson on UserCourseLesson {\n    id\n    lessonSlug\n    timeCompleted\n    course {\n      id\n      courseSlug\n    }\n  }\n"]);return bi=function(){return e},e}function yi(){var e=(0,y.Z)(["\n  mutation MarkLessonAsComplete($input: CompleteUserCourseLessonInput!) {\n    completeUserCourseLesson(input: $input) {\n      ... on UpdatedUserCourseLesson {\n        __typename\n        userCourseLesson {\n          id\n          timeCompleted\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return yi=function(){return e},e}var wi={},xi=(0,w.Ps)(bi()),Ti=(0,w.Ps)(yi());var Ri=t(6695);function ki(){var e=(0,y.Z)(["\n  fragment ReplEnvironmentHeaderCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    isFirewallMode\n    isExplorer: hasRole(role: EXPLORER)\n    ...ReplEnvironmentAvatarMenuCurrentUser\n  }\n  ","\n"]);return ki=function(){return e},e}function Ci(){var e=(0,y.Z)(["\n  fragment ReplEnvironmentHeaderRepl on Repl {\n    id\n    slug\n    url\n    isAlwaysOn\n    isOwner\n    isPrivate\n    workspaceCta\n    rootOriginReplUrl\n    lang {\n      id\n      engine\n    }\n    origin {\n      id\n    }\n    currentUserPermissions {\n      editMultiplayers\n      inviteGuests\n      containerWrite\n    }\n    owner {\n      ... on Team {\n        id\n        capabilities {\n          isEducationPlan\n        }\n      }\n      ... on User {\n        id\n      }\n    }\n    template {\n      id\n      isGroupProject\n    }\n    lesson {\n      id\n      ...MarkLessonCompleteLesson\n    }\n    multiplayers {\n      id\n    }\n  }\n  ","\n"]);return Ci=function(){return e},e}function Ei(){var e=(0,y.Z)(["\n  query ReplEnvironmentHeader($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...ReplEnvironmentHeaderRepl\n        ...WorkspaceHeaderReplMetadataRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplEnvironmentHeaderCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ei=function(){return e},e}var Si={},Ii=(0,w.Ps)(ki(),mi),Pi=(0,w.Ps)(Ci(),xi),_i=(0,w.Ps)(Ei(),Pi,Ri.s,Ii);var Di=t(26473),Ui=t(70804),Bi=t(87603),Ai=t.n(Bi),Gi=t(66060);function Ni(e){var n=e.user,t=e.onClick;return(0,a.tZ)(Gi.ZP,{placement:"bottom",tooltip:"Observe ".concat(n.username),children:function(e,r){return(0,a.tZ)(j.Z,(0,W.Z)((0,b.Z)({},e),{innerRef:r,onClick:t,children:(0,a.tZ)(S.qE,{size:32,src:n.image||null,username:n.username,ringColor:n.color,css:[H.l0.cursor.pointer,{transition:"all 0.2s ease","&:hover":{filter:"brightness(95%)",boxShadow:H.TV.shadow1}}]})}))}})}var Oi=t(94184),Mi=t.n(Oi);function Li(){var e=(0,y.Z)(["\n  fragment UserListModalUser on User {\n    id\n    username\n    image\n  }\n"]);return Li=function(){return e},e}function Xi(){var e=(0,y.Z)(["\n  fragment UserListModalReplPermission on ReplPermission {\n    id\n    type\n    user {\n      id\n      ...UserListModalUser\n    }\n  }\n  ","\n"]);return Xi=function(){return e},e}function Fi(){var e=(0,y.Z)(["\n  query UserListModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        user {\n          id\n          ...UserListModalUser\n        }\n        permissions {\n          id\n          ...UserListModalReplPermission\n        }\n      }\n      ... on ReplRedirect {\n        replUrl\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n    currentUser {\n      id\n    }\n  }\n  ","\n  ","\n"]);return Fi=function(){return e},e}var zi={},Wi=(0,w.Ps)(Li()),ji=(0,w.Ps)(Xi(),Wi),Hi=(0,w.Ps)(Fi(),Wi,ji);var Vi=t(58502);function qi(){var e=(0,Xe.Z)(),n=e.session,t=e.presence;return g.useCallback((function(e){var r=e.username,i=e.id,o=t.getFollowedUser();if((null===o||void 0===o?void 0:o.username)!==r){t.followUser(r);var a=t.getActiveFileForUser(i),l=n.getActiveFile();a&&a!==l&&n.openFile(a)}else t.unfollowUser()}),[n,t])}var Yi=t(34140);function $i(e){var n=e.hideModal,t=e.isOpen,r=(0,bn.Z)(),i=(0,Xe.Z)().presence,o=(0,Vi.Z)({presence:i});return(0,a.tZ)(S.u_,{isOpen:t,onRequestClose:n,children:(0,a.tZ)(Ji,{replId:r,activeUsers:o,hideModal:n})})}function Ki(e,n){return n.some((function(n){return n.id===e}))}function Ji(e){var n=e.replId,t=e.activeUsers,r=e.hideModal,i=function(e){var n=(0,b.Z)({},zi,e);return x.a(Hi,n)}({variables:{replId:n}}),o=i.data,l=i.loading,c=i.error;if(l)return(0,a.tZ)(S.G7,{css:[S.l0.flex.row,S.l0.justify.center,S.l0.p(32)],children:(0,a.tZ)(Ne.Z,{})});if(c)return(0,a.tZ)("div",{children:c.message});if("Repl"===(null===o||void 0===o?void 0:o.repl.__typename)){var s=o.repl,u=o.currentUser,d=s.user,p=d&&t.find((function(e){return e.username===d.username})),f=s.permissions.filter((function(e){var n=e.user;return n&&Ki(n.id,t)})),h=s.permissions.filter((function(e){var n=e.user;return n&&!Ki(n.id,t)}));return(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.tZ)(S.h4,{level:1,variant:"headerDefault",children:"Multiplayers"}),(0,a.tZ)(S.xv,{multiline:!0,children:"Users can interact with this Repl in real time."}),(0,a.tZ)(S.G7,{css:[S.l0.maxHeight(330),{overflowY:"auto"}],children:(0,a.BX)(S.G7,{children:[d?(0,a.tZ)(eo,(0,W.Z)((0,b.Z)({},d),{isOnline:Boolean(p),color:p?p.color:"transparent",isOwner:!0,hideModal:r,canClickAvatar:Boolean(p)&&d.id!==(null===u||void 0===u?void 0:u.id),type:_.aQ.Rw})):null,f.map((function(e){var n=e.type,i=e.user;if(!i)throw new Error("Expected user");var o=t.find((function(e){return e.username===i.username}));if(!o)throw new Error("Expected user online");var l=i.id!==(null===u||void 0===u?void 0:u.id);return(0,a.tZ)(eo,(0,W.Z)((0,b.Z)({type:n},i),{isOnline:!0,canClickAvatar:l,color:o.color,hideModal:r,isOwner:!1}),"chat-user-list-".concat(i.username))})),h.map((function(e){var n=e.type,t=e.user;if(!t)throw new Error("Expected user");return(0,a.tZ)(eo,(0,W.Z)((0,b.Z)({type:n},t),{canClickAvatar:!1,isOnline:!1,color:"transparent",hideModal:r,isOwner:!1}),"chat-user-list-".concat(t.username))}))]})})]})}return"ReplRedirect"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["This Repl has moved to"," ",(0,a.tZ)("a",{href:o.repl.replUrl,children:o.repl.replUrl})]}):"SubscriptionExpiredError"===(null===o||void 0===o?void 0:o.repl.__typename)?(0,a.BX)("div",{children:["Your subscription has expired.",(0,a.tZ)("a",{href:"/pricing",children:"Upgrade here"})]}):null}var Qi={r:"read only",rw:"can edit"};function eo(e){var n=e.type,t=e.id,r=e.username,i=e.image,o=e.isOnline,l=e.isOwner,c=e.color,s=e.hideModal,u=e.canClickAvatar,d=qi(),p=function(){u&&(d({username:r,id:t}),s())};return(0,a.BX)("div",{className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" "+(Mi()("user-list-item-wrapper",{online:o})||""),children:[(0,a.BX)("div",{role:"button",onClick:p,onKeyDown:p,tabIndex:0,className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" image",children:[(0,a.tZ)("img",{src:i,alt:"",className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" "+((o?"":"offline")||"")}),(0,a.BX)(Yi.T,{children:["Observe ",r]})]}),(0,a.BX)("div",{className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]])+" info",children:[(0,a.BX)("div",{className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:[(0,a.BX)("a",{href:"/@".concat(r),target:"_blank",className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:["@",r]}),!o&&" (offline)"]}),(0,a.tZ)("div",{className:Ai().dynamic([["8abf4fce485dcead",[u?"pointer":"auto",c]]]),children:l?"owner":Qi[n]})]}),(0,a.tZ)(Ai(),{id:"8abf4fce485dcead",dynamic:[u?"pointer":"auto",c],children:".user-list-item-wrapper.__jsx-style-dynamic-selector{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;cursor:".concat(u?"pointer":"auto","}img.__jsx-style-dynamic-selector{width:40px;height:40px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:3px solid ").concat(c,";background:white;-o-object-fit:cover;object-fit:cover}.info.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:var(--space-8)}img.offline.__jsx-style-dynamic-selector{-webkit-filter:grayscale(100%);filter:grayscale(100%)}.user-list-item-wrapper.online.__jsx-style-dynamic-selector{-webkit-box-ordinal-group:1;-webkit-order:0;-moz-box-ordinal-group:1;-ms-flex-order:0;order:0}")})]})}var no=t(14314);function to(e){var n=(0,i.Z)(g.useState(!1),2),t=n[0],r=n[1],o=(0,no.aG)(),l=o.length-3;return 0===o.length?null:(0,a.BX)(S.G7,{tag:"ul",className:"multiplayer-users-container",css:[S.l0.px(8),S.l0.rowWithGap(4),S.l0.align.center],"aria-live":"polite","aria-relevant":"additions removals","aria-label":"online users",children:[l>0?(0,a.tZ)("li",{className:Ai().dynamic([["9e6f75ce31331994",[Y.j.mobileMax+100]]]),children:(0,a.tZ)(S.zx,{onClick:function(){return r(!0)},text:"+ ".concat(l),css:{background:"none"}})}):null,o.slice(0,3).map((function(n){return(0,a.tZ)("li",{className:Ai().dynamic([["9e6f75ce31331994",[Y.j.mobileMax+100]]]),children:(0,a.tZ)(Ni,{user:n,onClick:function(){return e.onAvatarClick(n)}})},n.id)})),(0,a.tZ)($i,{isOpen:t,hideModal:function(){return r(!1)}}),(0,a.tZ)(Ai(),{id:"9e6f75ce31331994",dynamic:[Y.j.mobileMax+100],children:".multiplayer-users-container.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{list-style-type:none}@media only screen and (max-width:".concat(Y.j.mobileMax+100,"px){.multiplayer-users-container.__jsx-style-dynamic-selector{display:none}}")})]})}var ro=t(34193),io=t(8121),oo=t(62881),ao=t(19526),lo=t(18757),co=t(64184),so=t(82893),uo=t(28898),po=t(93058),fo=t(30019),ho=t(44781),vo=t(27206),mo=t(69049),go=t(6951);function Zo(e){var n=e.value,t=e.onButtonPress,r=e.statusText,i=void 0===r?"":r,o=e.image,l=e.filterValue,c=e.type,s=e.Icon;return(0,a.BX)("div",{className:"jsx-a16e88ad40d0e05c "+(Mi()("multiplayer-item",{"is-editable":!!t})||""),children:[(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(uo.Z,{size:"s",url:null!==o&&void 0!==o?o:""}),(0,a.tZ)("div",{className:"jsx-a16e88ad40d0e05c label",children:l?(0,a.tZ)(te.gr,{source:n,match:l}):"".concat(n," ").concat(i)}),!!t&&(0,a.tZ)(go.Z,{className:"remove-button",border:!1,filled:!1,"aria-label":"Remove ".concat(c||"email invite"),role:"tooltip","data-microtip-position":"left",onClick:t,children:s?(0,a.tZ)(s,{size:12,className:"jsx-a16e88ad40d0e05c"}):null})]}),(0,a.tZ)(Ai(),{id:"a16e88ad40d0e05c",children:".multiplayer-item.jsx-a16e88ad40d0e05c{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c{padding-right:var(--space-8)}.multiplayer-item.is-editable.jsx-a16e88ad40d0e05c:hover{background-color:var(--background-root)}.label.jsx-a16e88ad40d0e05c{margin-right:auto}"})]})}var bo=t(4158);function yo(e){var n=e.email,t=e.onInvite,r=e.onCancel;return(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa root",children:[(0,a.tZ)(fo.Z,{level:3,align:"center",children:"Are you sure?"}),(0,a.BX)(ho.Z,{align:"center",children:[(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa message",children:"Adding an external user as a guest to this repl will give the user read and write access. Please confirm the below email address before inviting the user as a guest."}),(0,a.tZ)("p",{className:"jsx-1a6ae4ac10e8f1fa email",children:n})]}),(0,a.BX)("div",{className:"jsx-1a6ae4ac10e8f1fa controls",children:[(0,a.tZ)(go.Z,{onClick:r,children:"Cancel"}),(0,a.tZ)(go.Z,{filled:!0,color:"primary",onClick:t,children:"Invite"})]}),(0,a.tZ)(Ai(),{id:"1a6ae4ac10e8f1fa",children:".root.jsx-1a6ae4ac10e8f1fa{color:var(--foreground-default);padding:var(--space-24);display:grid;grid-gap:var(--space-24)}.controls.jsx-1a6ae4ac10e8f1fa{display:grid;grid-gap:var(--space-8);grid-auto-flow:column}.message.jsx-1a6ae4ac10e8f1fa{padding-bottom:var(--space-16)}"})]})}var wo=t(75474),xo=t(34847);function To(e){var n,t,r=e.replId,o=(0,io.JT)({variables:{replId:r}}),l=o.data,c=o.loading,s=(null===l||void 0===l||null===(n=l.currentUser)||void 0===n?void 0:n.id)||null,u=(0,po.Z)(),d=u.showConfirm,p=u.showError,f=(0,i.Z)(g.useState(""),2),h=f[0],v=f[1],m=(0,i.Z)((0,io.fS)({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.addMultiplayerUser.user;(0,pi.j)(pi.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"username"});var t=n?"@".concat(n.username):"Member";d("".concat(t," added"))}}),2),Z=m[0],b=m[1],y=(0,i.Z)((0,io.HM)({onError:function(e){return p(e.message)},onCompleted:function(e){var n=e.removeMultiplayerUser.user,t=n?"@".concat(n.username):"Member";d("".concat(t," removed"))}}),2),w=y[0],x=y[1],T="Repl"===(null===l||void 0===l?void 0:l.repl.__typename)?l.repl:null,R=(0,i.Z)((0,oo.Sv)({onError:function(e){p(e.message)},update:function(e,n){var t,i=null===(t=n.data)||void 0===t?void 0:t.createMultiplayerInvite2;if(i)if("UserError"!==i.__typename){if("MultiplayerInvite"===i.__typename){var o=i.email;return(0,pi.j)(pi.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"}),void d("Invited ".concat(o," via email"))}if("ReplPermission"===i.__typename){e.modify({id:e.identify({__typename:"Repl",id:r}),fields:{permissions:function(n){var t=e.writeFragment({data:i,fragment:oo.L1});return(0,F.Z)(n).concat([t])}}});var a=i.user;(0,pi.j)(pi.U3.MULTIPLAYER_INVITED,{replId:r,inviteMethod:"email"});var l=a?"@".concat(a.username):"Member";d("".concat(l," added"))}}else p(i.message)}}),2),k=R[0],C=R[1],E=(0,i.Z)((0,oo.Ej)({onError:function(e){return p(e.message)},onCompleted:function(e){if("UserError"!==e.deleteMultiplayerInvite.__typename){if("MultiplayerInvite"===e.deleteMultiplayerInvite.__typename){var n=e.deleteMultiplayerInvite.email;d("Invite for ".concat(n," deleted"))}}else p(e.deleteMultiplayerInvite.message)}}),2),S=E[0],I=E[1];if(T&&!T.owner)throw new Error("Cannot manage members on anon repls");if((null===T||void 0===T?void 0:T.owner)&&"Team"!==(null===T||void 0===T?void 0:T.owner.__typename))throw new Error("Expect repl owned by a team");var P,D,U,B="Team"===(null===T||void 0===T||null===(t=T.owner)||void 0===t?void 0:t.__typename)?T.owner:null,A=null!==(P=null===T||void 0===T?void 0:T.permissions.reduce((function(e,n){return n.user?(0,F.Z)(e).concat([n.user.username]):e}),[]))&&void 0!==P?P:[],G=null===T||void 0===T?void 0:T.permissions.reduce((function(e,n){if(!n.user)return e;var t=n.user;return!h||Ve.Z.filter(h,[t.username]).length>0?((null===B||void 0===B?void 0:B.members.some((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t.id})))||e.users.push(t),e):e}),{users:[]}),N=null===T||void 0===T?void 0:T.multiplayerInvites.filter((function(e){return!h||Ve.Z.filter(h,[e.email]).length>0})),O=null===B||void 0===B?void 0:B.members.reduce((function(e,n){if(!n.user)return e;var t=n.user;if(!(!h||Ve.Z.filter(h,[t.username]).length>0))return e;var r=n.permissions&&n.permissions!==_.SV.Member,i=null===T||void 0===T?void 0:T.permissions.find((function(e){var n;return e.user&&(null===(n=e.user)||void 0===n?void 0:n.id)===t.id}));return r?e.teamAdmins.push(t):(null===i||void 0===i?void 0:i.type)?e.withPermission.push(t):e.withoutPermission.push(t),e}),{teamAdmins:[],withPermission:[],withoutPermission:[]}),M=null===O||void 0===O?void 0:O.teamAdmins.some((function(e){return e.id===s})),L=(null!==(D=null===G||void 0===G?void 0:G.users.length)&&void 0!==D?D:0)+(null!==(U=null===N||void 0===N?void 0:N.length)&&void 0!==U?U:0),X=null===T||void 0===T?void 0:T.currentUserPermissions.editMultiplayers,z=null===T||void 0===T?void 0:T.currentUserPermissions.inviteGuests,W=Boolean(O&&!O.teamAdmins.length&&!O.withPermission.length&&(!(null===G||void 0===G?void 0:G.users.length)&&!(null===N||void 0===N?void 0:N.length)&&z||!z&&!O.withoutPermission.length)),j=(0,i.Z)(g.useState(null),2),H=j[0],V=j[1];return(0,a.BX)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" root",children:[(0,a.BX)(ao.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(ao.Ug,{children:[(0,a.BX)(fo.Z,{level:5,foreground:c?3:1,children:[X?"Add or remove members from this repl":null,c?"Loading...":null]}),X&&z&&!c?(0,a.tZ)("div",{"aria-label":" Add team members or invite external guests via email or username","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" information-icon-container",children:(0,a.tZ)(bo.Z,{})}):null]}),z?(0,a.tZ)(mo.Z,{existingUsernames:A,onSubmit:function(e){!!e.match(/.+@.+/)&&!C.loading?V(e):b.loading||Z({variables:{username:e,replId:r,type:"rw"}}),v("")},placeholder:X?"Search for users or invite guests":"Filter users",isDisabled:c,onChange:function(e){return v(e)}}):(0,a.tZ)(vo.ZP,{disabled:c,value:h,onChange:function(e){return v(e.currentTarget.value)},placeholder:X?"Filter team members to add or remove":"Filter team members"}),(0,a.tZ)(ro.Z,{isOpen:!!H,onRequestClose:function(){return V(null)},children:H?(0,a.tZ)(yo,{email:H,onInvite:function(){k({variables:{email:H,replId:r,type:"rw"}}),V(null)},onCancel:function(){return V(null)}}):null}),(0,a.BX)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" "+(Mi()("multiplayers-list",{"is-empty":W})||""),children:[(null===O||void 0===O?void 0:O.withPermission.length)?(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" list-heading",children:(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(lo.Z,{size:12}),(0,a.BX)(ho.Z,{foreground:2,size:"small",children:[null===O||void 0===O?void 0:O.withPermission.length," member",1===(null===O||void 0===O?void 0:O.withPermission.length)?"":"s"," with access"]})]})}):null,null===O||void 0===O?void 0:O.withPermission.map((function(e){return(0,a.tZ)(Zo,{value:e.username,image:e.image,statusText:"(can edit)",type:"member",onButtonPress:M?function(){x.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:Ge.Z},e.id)})),!!L&&(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" list-heading",children:(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(lo.Z,{size:12}),(0,a.BX)(ho.Z,{foreground:2,size:"small",children:[(0,xo.Z)("guest",L,!0),"with access"]})]})}),null===G||void 0===G?void 0:G.users.map((function(e){return(0,a.tZ)(Zo,{value:e.username,image:e.image,statusText:"(can edit)",type:"guest",onButtonPress:M?function(){x.loading||w({variables:{replId:r,username:e.username}})}:void 0,Icon:Ge.Z},e.id)})),null===N||void 0===N?void 0:N.map((function(e){return(0,a.tZ)(Zo,{value:e.email,statusText:"(pending)",onButtonPress:M?function(){I.loading||S({variables:{replId:r,email:e.email}})}:void 0,Icon:Ge.Z},e.email)})),!z&&(null===O||void 0===O?void 0:O.withoutPermission.length)?(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" list-heading",children:(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(co.Z,{size:12}),(0,a.BX)(ho.Z,{foreground:2,size:"small",children:[(0,xo.Z)("member",null===O||void 0===O?void 0:O.withoutPermission.length,!0),"without access"]})]})}):null,!z&&(null===O||void 0===O?void 0:O.withoutPermission.map((function(e){return(0,a.tZ)(Zo,{value:e.username,image:e.image,type:"member",onButtonPress:X?function(){b.loading||Z({variables:{replId:r,username:e.username,type:"rw"}})}:void 0,Icon:vr.Z},e.id)}))),(null===O||void 0===O?void 0:O.teamAdmins.length)?(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" list-heading",children:(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(so.Z,{size:12}),(0,a.tZ)(ho.Z,{foreground:2,size:"small",children:"Team admins cannot be removed from repls"})]})}):null,null===O||void 0===O?void 0:O.teamAdmins.map((function(e){return(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" "+(Mi()("multiplayer-item",{"is-editable":X})||""),children:(0,a.BX)(ao.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(uo.Z,{size:"s",url:e.image}),(0,a.tZ)("div",{className:Ai().dynamic([["dc131772cdbb2add",[Y.j.mobileMax]]])+" label",children:h?(0,a.tZ)(te.gr,{source:e.username,match:h}):e.username})]})},e.id)})),W?(0,a.BX)(ho.Z,{foreground:2,align:"center",children:['No members matching "',h,'" found']}):null]}),X||c?null:(0,a.tZ)(ho.Z,{foreground:2,size:"small",children:"Only admins can add and remove members to multiplayer"}),X&&z?(0,a.tZ)(wo.Z,{replId:r}):null]}),(0,a.tZ)(Ai(),{id:"dc131772cdbb2add",dynamic:[Y.j.mobileMax],children:".root.__jsx-style-dynamic-selector{padding:var(--space-16);color:var(--foreground-default)}.multiplayers-list.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);height:300px;overflow-y:auto}.multiplayers-list.is-empty.__jsx-style-dynamic-selector{display:grid;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-16);word-break:break-word}.multiplayer-item.__jsx-style-dynamic-selector{padding:var(--space-4)var(--space-16)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector{padding-right:var(--space-8)}.multiplayer-item.is-editable.__jsx-style-dynamic-selector:hover{background-color:var(--background-root)}.list-heading.__jsx-style-dynamic-selector{padding:var(--space-16)var(--space-16)0}.label.__jsx-style-dynamic-selector{margin-right:auto}.information-icon-container.__jsx-style-dynamic-selector{margin-left:5px}@media screen and (min-width:".concat(Y.j.mobileMax,"px){.root.__jsx-style-dynamic-selector{padding:var(--space-48)}}")})]})}var Ro=t(15153);function ko(e){var n=e.children,t=e.showPopover,r=(0,h.Z)("announcement","add-guest-new-user"),o=r.shouldDisplay,l=r.register,c=r.dismiss,s=(0,i.Z)(g.useState(!1),2),u=s[0],d=s[1],p=(0,i.Z)(g.useState(!1),2),f=p[0],v=p[1];g.useEffect((function(){t&&!f&&l()}),[f,l,t]);var m=o&&!f;return(0,a.BX)(Ui.Z,{onClickOutside:function(){return v(!0)},isOpen:m,showArrow:!0,borderColor:"var(--accent-purple-default)",children:[n,(0,a.BX)(ao.gC,{spacing:2,align:"stretch",children:[(0,a.BX)(ao.Ug,{spacing:1,children:[(0,a.tZ)(Ro.Z,{}),(0,a.tZ)(fo.Z,{level:5,children:"Invite guests to your repl!"})]}),(0,a.BX)(ho.Z,{children:[" ","Add external guests to your repl for interviews and collaborative projects."," "]}),(0,a.tZ)(ao.Ug,{spacing:1,justify:"end",children:(0,a.tZ)(go.Z,{loading:u,onClick:function(){d(!0),c()},children:"Got it"})})]})]})}var Co=t(17467);function Eo(e){var n=e.replId;return(0,a.BX)("div",{className:Ai().dynamic([["73cdb9c447ce4102",[Y.j.mobileMax]]]),children:[(0,a.BX)(ao.gC,{spacing:2,align:"stretch",children:[(0,a.tZ)(fo.Z,{level:4,children:"Invite"}),(0,a.tZ)(Co.Z,{replId:n}),(0,a.tZ)(wo.Z,{replId:n})]}),(0,a.tZ)(Ai(),{id:"73cdb9c447ce4102",dynamic:[Y.j.mobileMax],children:"div.__jsx-style-dynamic-selector{padding:var(--space-16)}@media screen and (min-width:".concat(Y.j.mobileMax,"px){div.__jsx-style-dynamic-selector{padding:var(--space-32)}}")})]})}(0,z.cn)(null,(function(e,n,t){var r=e(cn.Eh).find((function(e){return e.isDialog}));r?n(vt.$,r.paneId):n(Io,t)}));var So=(0,z.cn)(null,(function(e,n,t){var r=e(cn.Eh).find((function(e){return e.isDialog}));if(r){var i=e(r.data);i.type!==i.type?(n(vt.$,r.paneId),n(Io,t)):n(pn.v,{paneId:r.paneId,data:t.pane})}else n(Io,t)})),Io=(0,z.cn)(null,(function(e,n,t){if(!e(cn.Eh).find((function(e){return e.isDialog}))){var r=e(ln.g4),i=e(cn.CK),o=ct()(),a=i.x+i.width,l=i.y+i.height,c=t.maxWidth||a,s=t.maxHeight||l,u=Math.min(c,.8*a),d=Math.min(s,.8*l),p={width:u,height:d,x:a/2-u/2-i.x,y:l/2-d/2-i.y},f=(0,ie.ZP)(r,(function(e){try{(0,ut.m)(e,{id:ct()(),isFloating:!0,panes:[o],rect:p})}catch(t){throw n(ei.xm,{error:t,tags:{layoutstate:!0}}),t}}));n(st.iH,f),n(pt.W1,o);var h=(0,cn.z)(o),v=e(h);n(pt.W1,o),n(h,(0,W.Z)((0,b.Z)({},v),{isDialog:!0})),n(v.data,t.pane)}})),Po=(0,z.cn)(null,(function(e,n){var t=e(cn.Eh).find((function(e){return e.isDialog}));t&&n(vt.$,t.paneId)})),_o=t(35642),Do=t(61756),Uo=t(26082),Bo=t(17495),Ao=t(42325),Go=t(88075);function No(e){var n,t=e.replId,r=e.onDone,o=e.isResubmit,l=e.lastUpdated,c=e.openIOtesterPane,s=(0,Xe.Z)().iotester,u=(0,Ao.CH)({variables:{replId:t}}),d=s.lastRunAt.getTime()>l,p=(0,Bo.xh)({variables:{replId:t}}).data,f="Repl"===(null===p||void 0===p?void 0:p.repl.__typename)?p.repl:null,h=(null===f||void 0===f?void 0:f.template)||null,v=(null===h||void 0===h?void 0:h.dueDate)||null,m=(new Date).toISOString(),g=(0,po.Z)(),Z=g.showConfirm,b=g.showError,y=(0,i.Z)((0,Bo.xA)({variables:{replId:t},onCompleted:function(e){var n=e.submitRepl;"UserError"!==n.__typename?"Repl"===n.__typename&&(Z("Repl submitted"),r()):b(n.message)},onError:function(e){b(e.message)}}),2),w=y[0],x=y[1],T=d&&s.lastRunDidPass;return"Repl"===(null===(n=u.data)||void 0===n?void 0:n.repl.__typename)&&u.data.repl.ioTests.length>0&&!T?(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Ft.h,{variant:"headerDefault",level:2,children:d?"Fix test failures before submitting":"Run tests before submitting"}),(0,a.tZ)(Ft.x,{multiline:!0,children:d?"Input/Output tests did not pass.":"Input/Output tests have not been run since this Repl was last changed."}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Do.ZP,{disabled:x.loading,colorway:"primary",onClick:function(){c(),r()},text:"View tests"}),(0,a.tZ)(Do.ZP,{disabled:x.loading,onClick:function(){return w()},iconLeft:(0,a.tZ)(Go.Z,{}),text:"Submit anyway"})]})]}):(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Ft.h,{variant:"headerDefault",level:2,children:o?" Resubmit Repl":"Submit Repl"}),(0,a.tZ)(Ft.x,{multiline:!0,children:o?"This will re-notify Team admins about your submission.":"This will submit your Repl for review and notify the Team's admins."}),v&&v<m?(0,a.tZ)(Ft.x,{multiline:!0,css:[H.l0.color.accentNegativeStronger],children:"Note: Your submission is past the due date and will be marked late."}):null,(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Do.ZP,{disabled:x.loading,onClick:r,text:"Cancel"}),(0,a.tZ)(Do.ZP,{colorway:"primary",disabled:x.loading,onClick:function(){return w()},iconLeft:(0,a.tZ)(Go.Z,{}),text:o?"Submit again":"Submit"})]})]})}var Oo=t(40381),Mo=t(48551),Lo=t(19923);function Xo(){var e=(0,y.Z)(["\n  query UpdateModelSolutionModal($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n        origin {\n          id\n          ...TeamProfileRepl\n          template {\n            id\n            dueDate\n          }\n          unitTests {\n            tests {\n              id\n            }\n          }\n          ioTests {\n            id\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Xo=function(){return e},e}function Fo(){var e=(0,y.Z)(["\n  mutation UpdateModelSolution($input: UpdateReplTemplateModelSolutionInput!) {\n    updateReplTemplateModelSolution(input: $input) {\n      ... on Repl {\n        id\n        ...TeamProfileRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Fo=function(){return e},e}var zo={},Wo=(0,w.Ps)(Xo(),Lo.vs);var jo=(0,w.Ps)(Fo(),Lo.vs);var Ho,Vo=t(28479),qo=function(e){var n,t,r,o,l,c,s,u,d,p=e.replId,f=e.onDone,h=(0,po.Z)(),v=h.showConfirm,m=h.showError,Z=function(e){var n=(0,b.Z)({},zo,e);return x.a(Wo,n)}({variables:{replId:p},onCompleted:function(e){var n,t,r=e.repl;"Repl"===r.__typename&&(null===(n=r.origin)||void 0===n||null===(t=n.template)||void 0===t?void 0:t.modelSolution)&&"ReplTemplateModelSolution"===r.origin.template.modelSolution.__typename&&(I(r.origin.template.modelSolution.visibleAfterSubmitting),D(r.origin.template.modelSolution.visibleAfterPassingTests),A(r.origin.template.modelSolution.visibleAfterDueDate))}}),y=Z.data,w=Z.loading,T=(0,i.Z)(function(e){var n=(0,b.Z)({},zo,e);return Zi.D(jo,n)}({onError:function(e){return m(e)},onCompleted:function(){v("Updated solution"),f()}}),2),R=T[0],k=T[1],C=(0,i.Z)(g.useState(!1),2),E=C[0],I=C[1],P=(0,i.Z)(g.useState(!1),2),_=P[0],D=P[1],U=(0,i.Z)(g.useState(!1),2),B=U[0],A=U[1],G=(0,i.Z)(g.useState(),2),N=G[0],O=G[1],M=(0,or.H)();if(g.useEffect((function(){var e="Students can ";if(E||B||_){e+="view the solution after";var n=[];E&&n.push("submitting their project"),_&&n.push("passing all tests"),B&&n.push("the due date has passed");for(var t=0;t<n.length;t++)t>0&&(e+=",",t===n.length-1&&(e+=" and")),e+=" "+n[t];e+="."}else e+="never view the solution.";O(e)}),[E,_,B]),w)return(0,a.tZ)(S.G7,{css:[S.l0.center],children:(0,a.tZ)(Ne.Z,{})});var L="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&"Team"===(null===(n=y.repl.owner)||void 0===n?void 0:n.__typename)&&(null===(t=y.repl.owner)||void 0===t?void 0:t.id),X="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(r=y.repl.origin)||void 0===r||null===(o=r.template)||void 0===o?void 0:o.modelSolution);if(!X)return null;var F=X.id,z="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&((null===(l=y.repl.origin)||void 0===l?void 0:l.ioTests.length)||(null===(c=y.repl.origin)||void 0===c||null===(s=c.unitTests)||void 0===s?void 0:s.tests.length)),W="Repl"===(null===y||void 0===y?void 0:y.repl.__typename)&&(null===(u=y.repl.origin)||void 0===u||null===(d=u.template)||void 0===d?void 0:d.dueDate);return(0,a.tZ)("form",{onSubmit:function(e){e.preventDefault(),L&&F&&R({variables:{input:{teamId:L,solutionId:F,visibleAfterSubmitting:E,visibleAfterPassingTests:_,visibleAfterDueDate:B}}})},children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.tZ)(S.h4,{level:1,variant:"headerDefault",children:"Update solution"}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(16)],children:[(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8)],children:[(0,a.tZ)(S.XZ,{id:M("availableAfterSubmitting"),checked:E,onChange:function(){return I(!E)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterSubmitting"),children:(0,a.tZ)(S.xv,{children:"Available after submitting"})})]}),(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8)],children:[(0,a.tZ)(S.XZ,{id:M("availableAfterPassingTests"),checked:_,onChange:function(){return D(!_)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterPassingTests"),children:(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(4)],children:[(0,a.tZ)(S.xv,{children:"Available after passing tests"}),(0,a.BX)(S.xv,{children:["(",z?"".concat(z," ").concat((0,xo.Z)("test",z)," defined"):"no tests exist yet",")"]})]})})]}),(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8),{verticalAlign:"baseline"}],children:[(0,a.tZ)(S.XZ,{id:M("availableAfterDueDate"),checked:B,onChange:function(){return A(!B)}}),(0,a.tZ)("label",{htmlFor:M("availableAfterDueDate"),children:(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(4)],children:[(0,a.tZ)(S.xv,{children:"Available after due date"}),(0,a.BX)(S.xv,{css:{textDecoration:"italic"},children:["(",W?(0,Vo.p)(W):"no due date set yet",")"]})]})})]})]}),(0,a.tZ)(S.E_,{text:"".concat(N),colorway:E||_||B?"positive":"negative"}),(0,a.tZ)(S.G7,{css:{alignItems:"end"},children:(0,a.tZ)(S.zx,{type:"submit",stretch:!1,colorway:"primary",text:"".concat(k.loading?"Saving...":"Save"),iconLeft:(0,a.tZ)(Go.Z,{}),disabled:k.loading})})]})})},Yo=(Ho={},(0,Ir.Z)(Ho,_.Sy.PublishTemplate,"Publish project"),(0,Ir.Z)(Ho,_.Sy.EditTemplate,"Edit project"),(0,Ir.Z)(Ho,_.Sy.Submit,"Submit"),(0,Ir.Z)(Ho,_.Sy.Resubmit,"Resubmit"),(0,Ir.Z)(Ho,_.Sy.UpdateModelSolution,"Update solution"),Ho);function $o(e){var n=e.cta,t=e.replId,r=e.isGroupProject,o=e.openIOtesterPane,l=(0,i.Z)(g.useState(null),2),c=l[0],s=l[1],u=function(){return s(null)},d=(0,Oo.Z)(),p=(0,Xe.Z)().fs,f=(0,i.Z)(g.useState(0),2),h=f[0],v=f[1];g.useEffect((function(){if(d&&!(0,Mo.T3)(d)&&!(0,Mo.sL)(d)){var e=p.watchTextFile(d,{onChange:function(e){e.changeSource===hn.Fl.Local&&v(Date.now())}});return e}}),[d,p,v]);var m=Boolean(c&&[_.Sy.PublishTemplate,_.Sy.EditTemplate].includes(c));return g.useEffect((function(){n===_.Sy.ReviewSubmission&&(_o.Z.get("annotations/educationModalDismissed")||(s(n),_o.Z.set("annotations/educationModalDismissed",!0)))}),[n]),(0,a.BX)(a.HY,{children:[Yo[n]&&(0,a.tZ)(Do.ZP,{onClick:function(){return s(n)},text:Yo[n],iconLeft:(0,a.tZ)(Go.Z,{})}),(0,a.tZ)(kr.Z,{isOpen:c===_.Sy.Submit||c===_.Sy.Resubmit,onRequestClose:u,maxWidth:512,children:(0,a.tZ)(No,{replId:t,onDone:u,isResubmit:c===_.Sy.Resubmit,lastUpdated:h,openIOtesterPane:o})}),(0,a.tZ)(ro.Z,{preventClose:!0,isOpen:m,onRequestClose:u,width:r?"large":"medium",children:(0,a.tZ)(Uo.Z,{replId:t,onDone:u})}),(0,a.tZ)(kr.Z,{isOpen:c===_.Sy.UpdateModelSolution,onRequestClose:u,maxWidth:600,children:(0,a.tZ)(qo,{replId:t,onDone:u})})]})}var Ko=t(95596),Jo=t(95901),Qo=t(36228),ea=t(6625),na=t(88679),ta=t(48287),ra=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""},ia=function(e){var n=e.hideModal,t=(0,Xe.Z)(),l=t.dotReplit,c=t.session,s=(0,ea.Z)(),u=(0,po.Z)().showError,d=(0,i.Z)(g.useState(!1),2),p=d[0],f=d[1],h=(0,i.Z)(g.useState(""),2),v=h[0],m=h[1],Z=g.useCallback((function(){n(),c.openFile(na.Z)}),[c,n]),b=g.useCallback((function(){return u("Failed to update run command, please try again or contact support")}),[u]),y=(0,i.Z)(g.useState(null),2),w=y[0],x=y[1];g.useEffect((function(){var e=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return[4,l.getConfig()];case 1:return n=r.sent(),s.current?(n.errorMessage?x({error:n.error,errorMessage:n.errorMessage}):x(null),t=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.run,m(ra(t)),[2]):[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[l,s]);var T=g.useCallback((0,r.Z)((function(){var e;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),e=v?(0,ta.KQ)(v):(0,ta.xz)("run"),f(!0),[4,l.updateDotReplit([e])];case 1:return t.sent(),n(),[3,4];case 2:return t.sent(),b(),[3,4];case 3:return f(!1),[7];case 4:return[2]}}))})),[v,b,l,n]);return(0,a.BX)(S.G7,{css:[H.l0.colWithGap(8),H.l0.p(2),p&&H.l0.cursor.progress],children:[(0,a.tZ)(S.h4,{level:1,variant:"text",css:[H.l0.fontWeight.normal,H.l0.color.foregroundDimmer],children:"Run Command"}),w?(0,a.tZ)(S.xv,{children:w.errorMessage}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(S.II,{value:v,onChange:function(e){return m(e.target.value)},spellCheck:!1}),(0,a.BX)(S.G7,{css:[H.l0.rowWithGap(12),H.l0.mt(12)],children:[(0,a.tZ)(Do.ZP,{onClick:Z,text:"Advanced"}),(0,a.tZ)(S.G7,{css:H.l0.flex.grow(1)}),(0,a.tZ)(Do.ZP,{colorway:"blue",text:"Save",onClick:T})]})]})]})},oa=t(98146),aa=t(42699),la=t(71255),ca=t(85565),sa=t(80437),ua=t(97808),da=t(41034),pa=t(79500),fa=t(30880),ha=t(57981),va="https://linkedin.com/sharing/share-offsite";var ma="https://www.facebook.com/dialog/share?display=page&app_id=1775481339348651";var ga=function(e){var n=e.lessonSlug,t=e.courseSlug,r=(0,po.Z)().showConfirm;if(!n||!t)return null;var i=(0,ua.QW)(t),o=(0,ua.qv)(t,n);if(!o)return null;var l=o.ordinalLabel,c=(0,ua.tD)(i.socialSharingText,o),s="".concat(c," ").concat(i.sharableLink),u=(0,la.Z)({text:c,url:i.sharableLink}),d=function(e){var n=e.url;return"".concat(va,"?url=").concat(encodeURIComponent(n))}({url:i.sharableLink}),p=function(e){var n=e.url,t=e.hashtag,r=e.redirectBackTo,i=new URLSearchParams;i.append("href",n),r&&i.append("redirect_uri",r),t&&(t.startsWith("#")||(t="#".concat(t)),i.append("hashtag",t));var o=i.toString();return"".concat(ma,"&").concat(o)}({url:i.sharableLink,hashtag:i.socialHashtag}),f=[{url:u,icon:ca.Z,base:la.c,cta:"Share on Twitter",color:sa.Z.brands.twitter},{url:d,icon:ha.Z,base:va,cta:"",color:sa.Z.brands.linkedin},{url:p,icon:fa.Z,base:ma,cta:"",color:sa.Z.brands.facebook}];return(0,a.BX)(j.Z,{children:[(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(16),H.l0.align.center,H.l0.pr(24)],children:[(0,a.tZ)(j.Z,{css:{fontSize:48},children:"\ud83e\udd73"}),(0,a.BX)(Ft.x,{variant:"headerDefault",children:["Congrats on completing ",l,"!"]})]}),(0,a.tZ)(Ft.x,{variant:"subheadDefault",css:[H.l0.py(12)],children:"Share your progress"}),(0,a.BX)(j.Z,{css:[H.l0.position.relative,H.l0.borderRadius(8),H.l0.backgroundColor.backgroundHigher,H.l0.py(8),H.l0.px(12)],children:[(0,a.tZ)(j.Z,{css:H.l0.pr(16),children:s}),(0,a.tZ)(S.hU,{css:[H.l0.position.absolute,H.l0.top(8),H.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,pa.Z)(s),(0,aa.l)({action:"copied_share_text",lessonSlug:n,courseSlug:t,origin:"lesson_complete_modal"})},children:(0,a.tZ)(da.Z,{size:16})})]}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(16),H.l0.justify.center,H.l0.pt(16),H.l0.align.center],children:[(0,a.tZ)(S.ZP,{outlined:!0,text:"Back to the learning hub",href:"/learn/".concat(t,"/hub")}),(0,a.tZ)(j.Z,{css:[H.l0.rowWithGap(8),H.l0.align.center],children:f.map((function(e){var r=e.url,i=e.icon,o=e.base,l=e.cta,c=e.color;return(0,a.tZ)(Do.ZP,{css:[{backgroundColor:c,color:"white"}],onClick:function(){window.open(r,"_blank"),(0,pi.j)(pi.U3.EXTERNAL_LINK_VIEWED,{url:o,placement:"lesson-complete-modal",campaign:t,lessonSlug:n})},text:l,iconLeft:(0,a.tZ)(i,{})},r)}))})]})]})},Za=function(e){var n=e.lesson,t=(0,po.Z)().showError,r=(0,oa.$0)().fireCircularBurstFrom,o=(0,g.useRef)(null),l=(0,Ur.T)(),c=(0,g.useState)(!1),s=c[0],u=c[1],d=(0,i.Z)(function(e){var n=(0,b.Z)({},wi,e);return Zi.D(Ti,n)}({onError:function(){return t("Something went wrong")},onCompleted:function(e){var i,a;"UpdatedUserCourseLesson"!==(null===(i=e.completeUserCourseLesson)||void 0===i?void 0:i.__typename)?t((null===(a=e.completeUserCourseLesson)||void 0===a?void 0:a.message)||"Something went wrong"):e.completeUserCourseLesson.userCourseLesson.id===n.id?(o.current&&!l&&r({element:o.current}),u(!0)):t("Something went wrong")}}),2),p=d[0],f=d[1].loading;return(0,a.BX)(a.HY,{children:[null!==n.timeCompleted?(0,a.tZ)(S.zx,{ref:o,disabled:!0,text:"Lesson completed \ud83c\udf89",colorway:"primary"}):(0,a.tZ)(S.zx,{iconLeft:f?(0,a.tZ)(Ne.Z,{}):void 0,onClick:function(){(0,aa.l)({action:"completed",lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug}),p({variables:{input:{userLessonId:n.id}}})},text:f?"Verifying\u2026":"Mark lesson as complete",colorway:"primary",css:[f&&S.pt.backgroundPulse()]}),(0,a.tZ)(S.u_,{isOpen:s,onRequestClose:function(){return u(!1)},children:(0,a.tZ)(ga,{lessonSlug:n.lessonSlug,courseSlug:n.course.courseSlug})})]})},ba=t(92162),ya=t(87514);function wa(e){var n=e.lesson,t=(0,ba.Un)(),r=(0,ba.$x)();return t?(0,a.tZ)(Za,{lesson:n}):(0,a.tZ)(S.zx,{colorway:"primary",iconLeft:(0,a.tZ)(ya.Z,{}),text:"Show tutorial",onClick:function(){return r()}})}var xa=t(36316),Ta=t(8608);function Ra(e){var n=e.repl,t=(0,i.Z)(g.useState(!1),2),r=t[0],o=t[1];return(0,a.BX)(Ui.Z,{isOpen:r,maxWidth:460,onClickOutside:function(){},padding:0,gap:8,placement:"bottom-start",growToMaxWidth:!0,zIndex:d.Is-1,elevated:!1,children:[(0,a.tZ)(S.G7,{tag:"button",dataCy:"ws-repl-info-container",onClick:function(){o(!0)},css:[S.l0.flex.growAndShrink(1),S.l0.align.center,S.l0.cursor.pointer,S.l0.rowWithGap(8),S.l0.p(4),S.l0.borderRadius(8),S.l0.color.foregroundDefault,r&&{pointerEvents:"none"},{border:"1px solid transparent",backgroundColor:"transparent","&:hover":{borderColor:S.TV.outlineDimmest}}],children:(0,a.tZ)(xa.Z,{repl:n})}),(0,a.tZ)(S.Tg,{background:"default",css:[S.l0.borderRadius(8)],children:(0,a.tZ)(Ta.Z,{setIsEditing:o})})]})}var ka=t(3462),Ca=t(85485),Ea=t(14868),Sa=t(3411),Ia=t(72533),Pa=t(57996),_a=t(85861),Da=t(34385),Ua=t(97838),Ba=t(59387),Aa=t(13772),Ga=t(41664),Na=t.n(Ga),Oa=t(58889);function Ma(){var e=(0,y.Z)(["\n  fragment ReplEnvironmentNavMenuCurrentUser on CurrentUser {\n    id\n    ...LayoutSidebarCurrentUser\n  }\n  ","\n"]);return Ma=function(){return e},e}function La(){var e=(0,y.Z)(["\n  query ReplEnvironmentNavMenu {\n    currentUser {\n      id\n      ...ReplEnvironmentNavMenuCurrentUser\n    }\n  }\n  ","\n"]);return La=function(){return e},e}var Xa={},Fa=(0,w.Ps)(Ma(),Oa.d),za=(0,w.Ps)(La(),Fa);var Wa={button:(0,l.iv)([S.l0.py(4),S.l0.viewStyle,S.l0.reset.button,S.l0.rowWithGap(2),S.l0.align.center,S.l0.color.foregroundDefault,S.l0.cursor.pointer,{":hover svg":{fill:S.TV.foregroundDefault}}]),surface:(0,l.iv)([S.l0.borderRadius(8),S.l0.width(200),S.l0.maxHeight("80vh"),S.l0.maxWidth("80vw"),S.l0.overflowY("auto")]),ctas:(0,l.iv)([S.l0.colWithGap(8),S.l0.p(8),{borderBottom:"1px solid",borderColor:S.TV.outlineDimmer}]),items:(0,l.iv)([{"& > a:last-of-type":S.l0.borderRadius(0,0,8,8)}]),link:(0,l.iv)([S.l0.viewStyle,S.l0.rowWithGap(4),S.l0.color.foregroundDefault,S.l0.p(8),S.l0.align.center,S.gU.listItem]),linkText:(0,l.iv)(S.l0.flex.shrink(1))},ja=(0,l.iv)([S.l0.reset,S.l0.p(8),S.l0.width("100%"),S.l0.cursor.pointer,S.l0.justify.spaceBetween,S.l0.flex.row,S.l0.align.center,{borderTop:"1px solid ".concat(S.TV.outlineDimmer),backgroundColor:"transparent"}]);function Ha(){var e=(0,_a.Fg)(),n=e.isDarkColorScheme,t=e.isSaving,r=e.setActiveTheme;return t?(0,a.BX)(S.G7,{tag:"button",disabled:!0,css:ja,children:[(0,a.tZ)(S.xv,{children:"Saving..."}),(0,a.tZ)(Ne.Z,{size:16})]}):n?(0,a.BX)(S.G7,{tag:"button",onClick:function(){r("replitLight")},css:ja,children:[(0,a.tZ)(S.xv,{children:"Light Theme"}),(0,a.tZ)(Aa.Z,{size:16})]}):(0,a.BX)(S.G7,{tag:"button",onClick:function(){r("replitDark")},css:ja,children:[(0,a.tZ)(S.xv,{children:"Dark Theme"}),(0,a.tZ)(Ba.Z,{size:16})]})}function Va(){var e=(0,Da.Z)(Qo.y.GlobalNavButton),n=function(e){var n=(0,b.Z)({},Xa,e);return x.a(za,n)}().data,t=(0,Sa.N)({currentUser:(null===n||void 0===n?void 0:n.currentUser)||void 0}),r=(0,g.useState)(!1),i=r[0],o=r[1],l=(0,g.useState)(null),c=l[0],s=l[1];return(0,a.BX)(a.HY,{children:[(0,a.BX)(Ui.Z,{isOpen:i,onClickOutside:function(){return o(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){return o(!i)},css:Wa.button,"data-cy":"global-nav-dropdown-btn",children:[(0,a.tZ)(Pa.N2,{color:S.TV.foregroundDefault,size:20}),(0,a.tZ)(Dr.Z,{color:S.TV.foregroundDimmest,size:12})]}),(0,a.BX)(S.Tg,{elevated:!0,css:Wa.surface,children:[(0,a.BX)(S.G7,{css:Wa.ctas,children:[(0,a.tZ)(S.zx,{"data-cy":"global-nav-dropdown-new-repl-btn",text:"Create",iconLeft:(0,a.tZ)(vr.Z,{}),colorway:"primary",onClick:function(){o(!1),s("create")}}),(0,a.tZ)(S.zx,{text:"Power Up",iconLeft:(0,a.tZ)(Ua.Z,{}),outlined:!0,onClick:function(){o(!1),s("upgrade")}})]}),(0,a.tZ)(S.G7,{css:Wa.items,children:t.map((function(e){return(0,a.tZ)(Na(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.BX)("a",{css:Wa.link,children:[e.icon,(0,a.tZ)(S.xv,{css:Wa.linkText,children:e.label}),e.tag||null]})},e.label)}))}),(0,a.tZ)(Ha,{})]})]}),(0,a.tZ)(Ia.Z,{isOpen:"upgrade"===c,onRequestClose:function(){return s(null)},context:"workspace_menu_nav"}),(0,a.tZ)(S.u_,{isOpen:"create"===c,onRequestClose:function(){return s(null)},children:(0,a.tZ)(Rr.Z,{})})]})}var qa=t(92069);function Ya(){var e=(0,Ea.Iv)(),n=(0,Ea.W8)(),t=(0,Da.Z)(Qo.y.SidebarButton),r=(n?"Close":"Open")+" sidebar";return(0,a.tZ)(S.u,{tooltip:r,placement:"right",children:(0,a.tZ)(S.G7,{tag:"button",alt:r,innerRef:t,css:[S.l0.reset.button,S.l0.height(16),S.l0.width(16),S.l0.center,S.l0.cursor.pointer,{opacity:.75,transition:"opacity 0.1s","&:hover":{opacity:1}}],onClick:function(){return e()},children:(0,a.BX)(S.G7,{css:[S.l0.flex.row,S.l0.align.center,{height:14,width:16,border:"1px solid ".concat(S.TV.foregroundDefault),borderRadius:S.TV.borderRadius2}],children:[(0,a.tZ)(S.G7,{css:{height:"100%",width:n?"40%":"20%",backgroundColor:n?S.TV.foregroundDefault:"transparent",borderRight:"1px solid ".concat(S.TV.foregroundDefault),transition:"0.1s ease-out width, 0.1s background-color"}}),(0,a.tZ)(S.G7,{})]})})})}function $a(){return(0,a.tZ)(l.xB,{styles:[{".toggle":{display:"none"}}]})}function Ka(e){var n=e.repl,t=e.currentUser;return(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.start,S.l0.width("calc(50% - ".concat((wr.al.small+8)/2,"px)")),(0,Ir.Z)({},(0,Ca.et)("tabletMax"),[S.l0.width("calc(50% - ".concat((wr.al.large+8)/2,"px)"))])],children:[(0,a.tZ)(Ya,{}),(0,a.tZ)($a,{}),(0,a.tZ)(Va,{}),(0,a.tZ)(S.G7,{css:[S.l0.flex.shrink(1),S.l0.maxWidth(530),S.l0.align.center,{"& > span":[S.l0.viewStyle,S.l0.flex.shrink(1)]}],children:(0,a.tZ)(Ra,{repl:n})}),(0,a.tZ)(qa.m,{}),(null===t||void 0===t?void 0:t.isFirewallMode)?(0,a.tZ)(ka.Z,{isWorkspace:!0}):null]})}var Ja=t(82447),Qa=function(e){return function(){(0,pi.j)(pi.U3.SIDEBAR_LAYOUT_NAV_CLICK,{target:e})}},el={button:(0,l.iv)([S.l0.py(4),S.l0.viewStyle,S.l0.reset.button,S.l0.rowWithGap(2),S.l0.align.center,S.l0.color.foregroundDefault,S.l0.cursor.pointer,{":hover svg":{fill:S.TV.foregroundDefault}}]),surface:(0,l.iv)([S.l0.borderRadius(8),S.l0.minWidth(80),{"& > a:first-of-type":S.l0.borderRadius(8,8,0,0)},{"& > a:last-of-type":S.l0.borderRadius(0,0,8,8)}]),link:(0,l.iv)([S.l0.viewStyle,S.l0.color.foregroundDefault,S.l0.p(8),S.gU.listItem])};function nl(){var e=(0,Da.Z)(Qo.y.AvatarButton),n=function(e){var n=(0,b.Z)({},vi,e);return x.a(gi,n)}().data,t=(0,g.useState)(!1),r=t[0],i=t[1],o=null===n||void 0===n?void 0:n.currentUser,l=o?(0,Ja.Ru)(o):null,c=l?[{label:"Profile",trackingLabel:"Profile",as:l.as,href:l.href},{label:"Account",trackingLabel:"Account",dataCy:"avatar-dropdown-account-link",as:"/account",href:"/account"},{trackingLabel:"CLUI",label:"CLUI",as:"/~/cli",href:"/~/cli"},{trackingLabel:"Log out",label:"Log out",href:"/logout"}]:[];return(0,a.BX)(Ui.Z,{isOpen:r,onClickOutside:function(){return i(!1)},gap:4,padding:0,placement:"bottom-start",children:[(0,a.BX)("button",{ref:e,onClick:function(){i(!r)},css:el.button,children:[(0,a.tZ)(S.qE,{size:24,src:(null===o||void 0===o?void 0:o.image)||null,username:(null===o||void 0===o?void 0:o.username)||""}),(0,a.tZ)(Dr.Z,{color:S.TV.foregroundDimmest,size:12})]}),(0,a.tZ)(S.Tg,{elevated:!0,css:el.surface,children:c.map((function(e){return(0,a.tZ)(Na(),{passHref:!0,as:e.as,href:e.href,prefetch:!1,children:(0,a.tZ)("a",{onClick:function(){Qa(e.trackingLabel)},onKeyDown:function(){Qa(e.trackingLabel)},css:el.link,children:e.label})},e.label)}))})]})}var tl=t(97776),rl=t(98099),il=function(e){var n=(0,rl.Z)(e,{onReceiveAnnotationUpdate:function(){}}).generalThread;return(0,g.useMemo)((function(){return n?n.messages.filter((function(e){return!1===e.seen})).length:0}),[n])},ol=t(75026),al={container:(0,l.iv)([S.l0.position.relative])};var ll=function(){var e=(0,bn.Z)(),n=il(e),t=(0,z.b9)(gt.rl);return(0,a.BX)(S.G7,{css:al.container,children:[n>0?(0,a.tZ)(se,{}):null,(0,a.tZ)(S.zx,{text:"Chat",iconLeft:(0,a.tZ)(ol.Z,{}),onClick:function(){t()}})]})},cl=[_.Sy.Submit,_.Sy.Resubmit,_.Sy.UpdateModelSolution,_.Sy.PublishTemplate,_.Sy.EditTemplate,_.Sy.ReviewSubmission],sl={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"M"},ul={root:(0,l.iv)([S.l0.height(60),S.l0.width("100%"),S.l0.top(0),S.l0.left(0),S.l0.flex.row,S.l0.align.center,S.l0.justify.spaceBetween,S.l0.py(8),S.l0.px(12),S.l0.position.absolute]),center:(0,l.iv)([S.l0.position.absolute,S.l0.height(42),S.l0.justify.center,{transform:"translate(-50%, -50%)",left:"50%",top:"50%"}]),configButton:(0,l.iv)([S.l0.position.absolute,S.l0.right(-29),S.l0.top(8)]),right:(0,l.iv)([S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.end])};function dl(e){var n,t,r,o,l=(0,m.useRouter)(),c=(0,Xe.Z)().runner,s=(0,bn.Z)(),u=(0,i.Z)(g.useState(!1),2),d=u[0],p=u[1],f=(0,Jo.e)(Qo.y.Run),h=(0,Jo.e)(Qo.y.Share),v=(0,Da.Z)(Qo.y.NotificationsButton),Z=(0,i.Z)(g.useState(!1),2),y=Z[0],w=Z[1],T=function(e){var n=(0,b.Z)({},Si,e);return x.a(_i,n)}({variables:{id:s}}).data,R=(0,z.b9)(So),k=qi(),C=(0,z.b9)(Qn),E=(0,pr.c)("flag-run-button-editor"),I=E.enabled,P=E.loading,_="Repl"===(null===T||void 0===T?void 0:T.repl.__typename)?T.repl:null,D=(null===_||void 0===_?void 0:_.multiplayers)&&_.multiplayers.length>0,U=(0,g.useRef)(null),B=(0,g.useRef)(null),A=(0,g.useRef)(d&&(null===h||void 0===h?void 0:h.isActive));(0,g.useEffect)((function(){A.current&&!(null===h||void 0===h?void 0:h.isActive)&&p(!1),A.current=d&&(null===h||void 0===h?void 0:h.isActive)}),[h,d]),(0,g.useEffect)((function(){(null===h||void 0===h?void 0:h.isActive)&&(d&&B.current?null===h||void 0===h||h.delegateTooltip(B.current):h.delegateTooltip(U.current))}),[h,d,B]);var G="Team"===(null===_||void 0===_||null===(n=_.owner)||void 0===n?void 0:n.__typename),N=Boolean("Team"===(null===_||void 0===_||null===(t=_.owner)||void 0===t?void 0:t.__typename)&&(null===(r=null===_||void 0===_?void 0:_.owner.capabilities)||void 0===r?void 0:r.isEducationPlan)),O=cl.find((function(e){return e===(null===_||void 0===_?void 0:_.workspaceCta)})),M=!N&&(null===_||void 0===_?void 0:_.currentUserPermissions.editMultiplayers);return(0,xr.x)(sl,{enabled:!N,run:function(){p(!0)}}),Ot({match:je.pl,data:{type:"action",label:"Multiplayer",icon:(0,a.tZ)(Ko.Z,{}),description:"Open multiplayer mode",run:function(){p(!0)},keyboardShortcut:sl}},{enabled:!N}),(0,a.BX)(S.Tg,{tag:"header",css:ul.root,children:[(0,a.tZ)(Ka,{repl:e.repl,currentUser:e.currentUser}),(0,a.tZ)(S.G7,{innerRef:null===f||void 0===f?void 0:f.delegateTooltip,dataCy:"ws-run-btn",onClick:function(){(null===f||void 0===f?void 0:f.isActive)&&f.next()},css:ul.center,children:!P&&I?(0,a.BX)(a.HY,{children:[(0,a.BX)(Ui.Z,{onClickOutside:function(){return w(!1)},isOpen:y,padding:8,children:[(0,a.tZ)(wr.ZP,{runner:c,disableTooltip:null===f||void 0===f?void 0:f.isActive}),(0,a.tZ)(ia,{hideModal:function(){return w(!1)}})]}),(0,a.tZ)(S.G7,{css:ul.configButton,children:(0,a.tZ)(S.hU,{alt:"Configure Repl run",size:28,onClick:function(){w((function(e){return!e}))},css:[S.l0.color.foregroundDimmest],children:(0,a.tZ)(Dr.Z,{})})})]}):(0,a.tZ)(wr.ZP,{runner:c,disableTooltip:null===f||void 0===f?void 0:f.isActive})}),(0,a.BX)(S.G7,{css:ul.right,children:[(null===_||void 0===_?void 0:_.lesson)?(0,a.tZ)(wa,{lesson:_.lesson}):null,D?(0,a.tZ)(ll,{}):null,(0,a.tZ)(to,{onAvatarClick:k}),O?(0,a.tZ)($o,{cta:O,replId:s,isGroupProject:Boolean(null===_||void 0===_||null===(o=_.template)||void 0===o?void 0:o.isGroupProject),openIOtesterPane:function(){R({pane:{type:"autograder"}})}}):null,M?(0,a.tZ)(S.G7,{innerRef:U,children:(0,a.tZ)(ko,{showPopover:_.currentUserPermissions.inviteGuests,children:(0,a.tZ)(S.zx,{onClick:function(){(0,pi.j)(pi.U3.INVITE_MODAL_OPENED,{language:_.lang.id,replId:_.id,source:"replEnvironment"}),p(!0)},iconLeft:(0,a.tZ)(Di.Z,{}),text:"Invite"})})}):null,(0,a.tZ)(S.hU,{size:24,onClick:function(){C()},tooltipDelay:500,alt:"Search & run commands",tooltipContents:(0,a.BX)(S.G7,{children:[(0,a.tZ)(S.xv,{children:"Search & run commands"}),(0,a.tZ)(S.G7,{css:[S.l0.center,S.l0.pt(4)],children:(0,a.tZ)(V.Z,{shortcut:Fe.q})})]}),tooltipPlacement:"bottom-end",children:(0,a.tZ)($e.Z,{})}),(0,a.BX)(a.HY,{children:[(0,a.tZ)(S.G7,{innerRef:v,children:(0,a.tZ)(tl.Z,{sidebarIsOpen:!0,pathname:l.pathname,showCount:!1})}),(0,a.tZ)(nl,{})]})]}),(0,a.tZ)(ro.Z,{isOpen:d,onRequestClose:function(){return p(!1)},children:(0,a.tZ)(S.G7,{innerRef:B,children:G?(0,a.tZ)(To,{replId:s}):(0,a.tZ)(Eo,{replId:s})})})]})}var pl=(0,g.memo)(dl),fl=t(62991),hl=t.n(fl),vl=t(88662),ml=t(7182),gl=t(45432),Zl=t.n(gl);class bl extends g.Component{constructor(e){super(e),this._osInstance=null,this._osTargetRef=g.createRef()}osInstance(){return this._osInstance}osTarget(){return this._osTargetRef.current||null}componentDidMount(){this._osInstance=Zl()(this.osTarget(),this.props.options||{},this.props.extensions),yl(this._osInstance,this.props.className)}componentWillUnmount(){Zl().valid(this._osInstance)&&(this._osInstance.destroy(),this._osInstance=null)}componentDidUpdate(e){Zl().valid(this._osInstance)&&(this._osInstance.options(this.props.options),e.className!==this.props.className&&yl(this._osInstance,this.props.className))}render(){const e=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(this.props,["options","extensions","children","className"]);return g.createElement("div",Object.assign({className:"os-host"},e,{ref:this._osTargetRef}),g.createElement("div",{className:"os-resize-observer-host"}),g.createElement("div",{className:"os-padding"},g.createElement("div",{className:"os-viewport"},g.createElement("div",{className:"os-content"},this.props.children))),g.createElement("div",{className:"os-scrollbar os-scrollbar-horizontal "},g.createElement("div",{className:"os-scrollbar-track"},g.createElement("div",{className:"os-scrollbar-handle"}))),g.createElement("div",{className:"os-scrollbar os-scrollbar-vertical"},g.createElement("div",{className:"os-scrollbar-track"},g.createElement("div",{className:"os-scrollbar-handle"}))),g.createElement("div",{className:"os-scrollbar-corner"}))}}function yl(e,n){if(Zl().valid(e)){const{host:t}=e.getElements(),r=new RegExp(`(^os-host([-_].+|)$)|${e.options().className.replace(/\s/g,"$|")}$`,"g"),i=t.className.split(" ").filter((e=>e.match(r))).join(" ");t.className=`${i} ${n||""}`}}var wl={overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave"}};var xl=t(53201),Tl=t(49906),Rl=t(37432);var kl=t(1855),Cl=S.KD.button,El=(0,l.iv)([S.l0.display.inlineFlex,S.l0.height("100%")]),Sl=(0,l.iv)([S.l0.cursor.pointer,S.l0.center,S.l0.rowWithGap(4),S.l0.pl(8),S.l0.pr(4),S.l0.height("100%"),{backgroundColor:"transparent",border:"none",font:"inherit",lineHeight:"normal",color:"inherit"}]);function Il(e){var n=e.onClick;return(0,a.tZ)(S.hU,{tooltipHidden:!0,onClick:n,alt:"Close",size:18,css:[{"&& svg":{width:12,height:12,minWidth:"unset",minHeight:"unset"},borderRadius:6},S.gU.nofill],children:(0,a.tZ)(Ge.Z,{})})}function Pl(e){var n=(0,Xe.Z)().fs,t=e.split("/"),r=t.pop(),i=t.join("/"),o=(0,g.useState)(!1),a=o[0],l=o[1],c=function(e){var n=e.path,t=e.initialExpanded,r=(0,Xe.Z)().fs;return(0,Rl.Z)({path:n,initialExpanded:t,fs:r})}({path:i.length>0?i:".",initialExpanded:!0}).children,s=null===c||void 0===c?void 0:c.filter((function(e){return e.filename!==r}));return{fileName:r,parentPath:i,renaming:a,siblings:s,handleRename:function(){l(!0)},handleCancel:function(){l(!1)},handleSubmit:function(t){var r=i.length>0?i+"/"+t:t;n.moveFile(e,r),l(!1)}}}function _l(e){var n=e.filePath,t=e.title,r=e.onClick,i=e.onClose,o=e.isActive,l=e.innerRef,c=e.icon,s=e.onPointerDown,u=Pl(n),d=u.fileName,p=u.parentPath,f=u.renaming,h=u.siblings,v=u.handleRename,m=u.handleSubmit,g=u.handleCancel,Z=t.startsWith("History - ")?"History - ".concat(d):t;return(0,a.tZ)(S.u,{tooltip:n,placement:"bottom",isDisabled:!p,maxWidth:"calc(100vw - ".concat(S.TV.space16,")"),children:function(e,n){return(0,a.BX)(S.Tg,(0,W.Z)((0,b.Z)({innerRef:(0,kl.l)(l,n),css:[El,o?S.gU.filled:S.gU.nofill,o?S.l0.color.foregroundDefault:S.l0.color.foregroundDimmer,S.l0.flex.row,S.l0.align.center,S.l0.pr(4)]},e),{children:[f?(0,a.tZ)(Tl.Z,{onSubmit:m,onCancel:g,loading:!1,siblings:h||[],parentPath:p,type:hn.Tv.File,initialValue:d,rename:!0}):(0,a.BX)(Cl,{onPointerDown:s,onDoubleClick:v,css:[Sl],onClick:r,children:[(0,a.tZ)(S.G7,{css:{opacity:o?1:.6},children:c||null}),(0,a.tZ)(S.xv,{children:Z})]}),(0,a.tZ)(Il,{onClick:i})]}))}})}function Dl(e){var n=e.title,t=e.onClick,r=e.onClose,i=e.isActive,o=e.innerRef,l=e.icon,c=e.onPointerDown;return(0,a.BX)(S.Tg,{innerRef:o,css:[El,i?S.gU.filled:S.gU.nofill,i?S.l0.color.foregroundDefault:S.l0.color.foregroundDimmer,S.l0.flex.row,S.l0.align.center,S.l0.pr(4)],children:[(0,a.BX)(Cl,{css:[Sl],onClick:t,onPointerDown:c,children:[(0,a.tZ)(S.G7,{css:{opacity:i?1:.6},children:l||null}),(0,a.tZ)(S.xv,{children:n})]}),(0,a.tZ)(Il,{onClick:r})]})}var Ul=t(78217),Bl=S.KD.div;function Al(e){var n=e.paneId,t=e.paneGroupId,r=e.isActive,o=e.onClick,l=e.onClose,c=e.dragGroup,s=e.scrollIntoViewIfNeeded,u=(0,re.Z)((function(){return(0,z.cn)((function(e){return e(e((0,cn.z)(n)).data)}))}),[n]),d=(0,z.Dv)(u),p=(0,$.Se)(),f=p.getTitle(d),h=p.Icon({pane:d,size:16}),v=(0,g.useRef)(null);(0,g.useEffect)((function(){r&&v.current&&s(v.current)}),[s,r]);var m=(0,i.Z)((0,xl.c)({type:ml.z.Pane,item:function(){var e,t=(null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect().width)||80;return{type:ml.z.Pane,paneId:n,width:t}},collect:function(e){return{isDragging:e.isDragging()}}}),2),Z=m[0].isDragging,b=m[1],y=(0,z.b9)(gt.c);(0,g.useEffect)((function(){return y(Z)}),[y,Z]);var w,x=(0,Ul.q6)({paneGroupId:t}).dnd,T=x&&c?function(e){1!==e.button&&si(e,{start:x.start,move:x.update,end:x.end})}:void 0;return(0,a.tZ)(Bl,{css:Z?[S.l0.width(0),S.l0.visibility.hidden]:[S.l0.px(2)],onMouseDown:function(e){1===e.button&&l()},children:(0,fe.KM)(d)?(0,a.tZ)(_l,{onPointerDown:T,innerRef:T?void 0:(0,kl.l)(b,v),filePath:null!==(w=d.data.path)&&void 0!==w?w:"",title:(0,Mo.UO)(f),isActive:r,icon:h,onClick:function(){(0,pi.j)(pi.U3.WS_TAB_OPENED,{paneType:d.type}),o()},onClose:function(){(0,pi.j)(pi.U3.WS_TAB_CLOSED,{paneType:d.type}),l()}}):(0,a.tZ)(Dl,{onPointerDown:T,innerRef:T?void 0:(0,kl.l)(b,v),title:f,isActive:r,icon:h,onClick:function(){(0,pi.j)(pi.U3.WS_TAB_OPENED,{paneType:d.type}),o()},onClose:function(){(0,pi.j)(pi.U3.WS_TAB_CLOSED,{paneType:d.type}),l()}})})}function Gl(){var e=(0,y.Z)(["\n  query ReplEnvironmentHeaderContainer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        language\n      }\n    }\n  }\n"]);return Gl=function(){return e},e}var Nl={},Ol=(0,w.Ps)(Gl());var Ml=t(18455);function Ll(){var e=(0,Xe.Z)().presence,n=(0,i.Z)(g.useState(e.getFollowingUsers()),2),t=n[0],r=n[1];return g.useEffect((function(){return r(e.getFollowingUsers()),e.onFollowingUsersChanged((function(e){r(e.followingUsers)}))}),[e]),t}var Xl={root:(0,l.iv)([S.l0.rowWithGap(4),S.l0.align.center]),text:(0,l.iv)([S.l0.flex.shrink(1),S.l0.align.center]),username:(0,l.iv)([S.l0.flex.shrink(2),S.l0.maxWidth(140),S.l0.truncate])};function Fl(){var e=Ll();return 0===e.length?null:1===e.length?(0,a.tZ)(zl,{user:e[0]}):(0,a.BX)(S.xv,{variant:"small",color:"dimmest",css:Xl.text,children:[e.length," users are observing you"]})}function zl(e){var n=e.user,t=n.id,r=n.username,i=n.color,o=(0,no.pu)([t]),l={id:t,username:r,color:i,image:null===o||void 0===o?void 0:o.get(t)};return(0,a.BX)(S.G7,{css:Xl.root,children:[(0,a.tZ)(S.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(S.xv,{variant:"small",color:"dimmer",css:Xl.username,children:r}),(0,a.tZ)(S.xv,{variant:"small",color:"dimmest",css:Xl.text,children:"is observing you"})]})}var Wl={root:(0,l.iv)([S.l0.rowWithGap(4),S.l0.align.center]),text:(0,l.iv)([S.l0.flex.shrink(1),S.l0.align.center]),username:(0,l.iv)([S.l0.flex.shrink(2),S.l0.maxWidth(140),S.l0.truncate])};function jl(e){var n=e.id,t=e.username,r=e.color,i=(0,no.pu)([n]),o=(0,Xe.Z)().presence,l={id:n,username:t,color:r,image:null===i||void 0===i?void 0:i.get(n)};return(0,a.BX)(S.G7,{css:Wl.root,children:[(0,a.tZ)(S.qE,{size:16,src:l.image||null,username:l.username,ringColor:l.color}),(0,a.tZ)(S.xv,{css:Wl.text,variant:"small",color:"dimmest",children:"Observing"}),(0,a.tZ)(S.xv,{css:Wl.username,variant:"small",color:"dimmer",children:t}),(0,a.tZ)(S.hU,{alt:"Stop observing",size:18,onClick:function(){o.unfollowUser()},children:(0,a.tZ)(Ge.Z,{})})]})}var Hl=t(22414);var Vl=t(86601);function ql(e){var n=e.activeFile,t=e.paneId,r=function(e){var n=(0,b.Z)({},Nl,e);return x.a(Ol,n)}({variables:{replId:(0,bn.Z)()}}).data,i="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl.language:"",o=(0,z.Dv)(gt.bg),l=(0,z.b9)(gt.ao),c=(0,z.b9)(gt.Ky),s=n&&(0,Mo.gK)(n),u=function(e){var n=e.paneId,t=(0,Vl.Z)(),r=(0,pt.cr)({paneId:n});return t&&r?t:null}({paneId:t}),d=function(e){var n=e.paneId,t=Ll();return(0,pt.cr)({paneId:n})&&t.length>0?t:null}({paneId:t}),p=function(){var e=(0,it.Z)((0,z.Dv)(Hl.$));return(0,g.useCallback)((function(){setTimeout((function(){var n;return null===(n=e.current)||void 0===n?void 0:n.focus()}),0)}),[e])}(),f=(0,pt.cr)({paneId:t}),h=null;return u?h=(0,a.tZ)(jl,{id:u.id,username:u.username,color:u.color}):s&&n?h=o?(0,a.tZ)(S.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(co.Z,{}),text:"Close preview",onClick:function(){l({type:"markdown"}),p()}}):(0,a.tZ)(S.zx,{css:{backgroundColor:"transparent"},iconLeft:(0,a.tZ)(lo.Z,{}),text:"Open preview",onClick:function(){n&&(c({type:"markdown",data:{path:n}}),p())}}):n&&(h=(0,a.tZ)(Ml.q,{filePath:n,replLanguage:i,disableKeyboardShortcut:!f})),null!==h||d?(0,a.BX)(S.G7,{css:[S.l0.px(4),S.l0.rowWithGap(8)],children:[d&&n?(0,a.tZ)(Fl,{}):null,h]}):null}var Yl=t(64718),$l=t(59369),Kl=t(89295),Jl=t(94860),Ql=t(73148),ec=t(87534),nc=t(99932),tc=t(90849),rc=t(87671),ic=t(66843),oc=t(53761),ac=(0,z.cn)(null,(function(e,n,t){var r=e(ln.g4),i=e((0,cn.z)(t)),o=i.rectAtom,a=i.type,l=e(o),c=(0,mt.Rh)(r,t);if(!c){var s=new Error("Expected pane");throw n(ei.xm,{error:s,tags:{layoutstate:!0}}),s}if("tile"!==a){var u=e(cn.Eh).filter((function(e){return"tile"===e.type&&!e.isHidden})),d=e(cn.M0),p={x:l.x+l.width/2,y:l.y+l.height/2},f=u.find((function(n){var t=e(n.rectAtom);return(0,ti.V0)(p,{x:t.x,y:t.y-d,width:t.width,height:t.height+d})})),h="leftOf";f&&(h=(0,ti.QN)(p,e(f.rectAtom)).placement),n(st.iH,(0,ie.ZP)(r,(function(e){(0,oc.$C)(e,{paneGroupPath:c.paneGroupPath,to:(null===f||void 0===f?void 0:f.paneId)||["tiling"],placement:h})})))}else n(st.iH,(0,ie.ZP)(r,(function(e){(0,oc.MB)(e,{paneGroupPath:c.paneGroupPath,rect:{x:l.x-16,y:l.y-16,width:l.width,height:l.height}})})))}));var lc=t(90145);function cc(e){var n=e.paneId,t=e.paneGroupId,r=(0,z.b9)(ac),i=(0,rc.e3)(),o=(0,rc.lI)(),l=(0,rc.Bd)(),c=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,z.cn)((function(e){return"floating"===e((0,cn.z)(n)).type}))}),[n]);return(0,z.Dv)(t)}({paneId:n}),s=(0,Yl.Lo)(),u=s.maximizePaneGroup,d=s.restoreMaximizedPaneGroup;if((0,Yl.rX)({paneGroupId:t}))return(0,a.tZ)(S.hU,{onClick:function(){return d()},alt:"Restore",children:(0,a.tZ)(Jl.Z,{})});var p={label:"Maximize",icon:(0,a.tZ)(Kl.Z,{}),run:function(){return u({paneGroupId:t})}},f=c?[p]:[{label:"Insert Left",icon:(0,a.tZ)(ec.Z,{}),run:function(){l({placement:"leftOf",paneId:n}),(0,pi.j)(pi.U3.WS_SPLIT_USED,{action:"opened",placement:"leftOf"})}},{label:"Insert Right",icon:(0,a.tZ)(nc.Z,{}),run:function(){l({placement:"rightOf",paneId:n}),(0,pi.j)(pi.U3.WS_SPLIT_USED,{action:"opened",placement:"rightOf"})}},{label:"Insert Up",icon:(0,a.tZ)(tc.Z,{}),run:function(){l({placement:"above",paneId:n}),(0,pi.j)(pi.U3.WS_SPLIT_USED,{action:"opened",placement:"above"})}},{label:"Insert Down",icon:(0,a.tZ)(Ql.Z,{}),run:function(){l({placement:"below",paneId:n}),(0,pi.j)(pi.U3.WS_SPLIT_USED,{action:"opened",placement:"below"})}},p];return(i||c)&&(f.splice(f.length-1,0,{label:c?"Unfloat":"Float",icon:c?(0,a.tZ)(lc.Z,{}):(0,a.tZ)(ic.Z,{}),run:function(){r(n)}}),f.push({label:"Close",icon:(0,a.tZ)(Ge.Z,{}),run:function(){o({paneGroupId:t}),(0,pi.j)(pi.U3.WS_SPLIT_USED,{action:"closed"})}})),(0,a.tZ)($l.Z,{resetOnSelect:!0,label:"Pane Actions",items:f,onItemClick:function(e){e.run()}})}var sc=(0,g.memo)(cc),uc=S.KD.div,dc=(0,l.iv)([S.l0.flex.growAndShrink(1),S.l0.minWidth(16),S.l0.height("100%")]);function pc(e){var n=e.paneGroupId,t=(0,Ul.q6)({paneGroupId:n}),r=t.isDragging,i=t.dnd,o=(0,Yl.Lo)().toggleMaximizedPaneGroup;if(!i)return null;var l=r?"grabbing":"grab";return(0,a.tZ)(uc,{onDoubleClick:function(){o({paneGroupId:n})},css:[dc],style:{cursor:l},onPointerDown:function(e){si(e,{start:i.start,move:i.update,end:i.end})}})}var fc=j.K.div,hc=(0,l.iv)([S.l0.width("100%"),S.l0.position.absolute,S.l0.left(0),{cursor:"ns-resize",zIndex:1,":hover":{transform:"scaleY(4)"}}]),vc=(0,l.iv)([S.l0.height("100%"),S.l0.position.absolute,S.l0.top(0),{cursor:"ew-resize",zIndex:1,":hover":{transform:"scaleX(4)"}}]),mc=(0,l.iv)([S.l0.position.absolute,{zIndex:2,transform:"scale(2)",":hover":{transform:"scale(4)"}}]);function gc(e){var n="topLeft"===e||"topRight"===e?"bottom":"top";return{transformOrigin:"".concat("topLeft"===e||"bottomLeft"===e?"right":"left"," ").concat(n)}}var Zc={topLeft:(0,l.iv)([S.l0.top(0),S.l0.left(0),gc("topLeft")]),topRight:(0,l.iv)([S.l0.top(0),S.l0.right(0),gc("topRight")]),bottomLeft:(0,l.iv)([S.l0.bottom(0),S.l0.left(0),gc("bottomLeft")]),bottomRight:(0,l.iv)([S.l0.bottom(0),S.l0.right(0),gc("bottomRight")])};function bc(e){var n=e.edge,t=e.size,r=e.onPointerDown;if("top"===n||"bottom"===n)return(0,a.tZ)(fc,{onPointerDown:r,style:(0,Ir.Z)({height:t},n,-t),css:hc});if("right"===n||"left"===n)return(0,a.tZ)(fc,{onPointerDown:r,style:(0,Ir.Z)({width:t},n,-t),css:vc});var i="topLeft"===n||"bottomRight"===n?"nwse-resize":"nesw-resize";return(0,a.tZ)(fc,{onPointerDown:r,style:{height:t,width:t,cursor:i},css:[mc,Zc[n]]})}var yc=(0,z.cn)(null),wc=(0,z.cn)(null,(function(e,n,t){var r=e(ln.g4);if("end"===t.type)return n(yc,null),void n(st.iH,r);if("update"!==t.type){var i=e(cn.Eh).find((function(e){return e.paneId===t.paneId}));if(!i){var o=new Error("Expected pane");throw n(ei.xm,{error:o,tags:{layoutstate:!0}}),o}n(pt.W1,t.paneId),n(yc,{paneId:t.paneId,edge:t.edge,rectStart:e(i.rectAtom)})}else{var a=e(yc);if(!a){var l=new Error("Expected floatingResizeState");throw n(ei.xm,{error:l,tags:{layoutstate:!0}}),l}var c=(0,ti.XR)(a.rectStart,{delta:t.moveDelta,edge:a.edge}),s=a.paneId,u=(0,ie.ZP)(r,(function(t){var r=t.floating.find((function(e){return e.panes.includes(s)}));if(!r){var i=new Error("Expected floating");throw n(ei.xm,{error:i,tags:{layoutstate:!0}}),i}var o=e(cn.M0),a=r.rect;a.x=c.x,a.y=c.y-o,a.width=c.width,a.height=c.height+o}));n(st.iH,u)}}));function xc(e){var n=e.paneId,t=e.onChange,r=(0,re.Z)((function(){return(0,z.cn)((function(e){var t=e((0,cn.z)(n));return e(t.rectAtom).width}))}),[n]),i=(0,z.Dv)(r),o=(0,it.Z)(t),a=(0,re.Z)((function(){return ci()((function(){o.current()}),500)}),[o]);return(0,g.useEffect)(a,[i,a]),null}function Tc(e){var n=(0,cn.Xs)(e),t=(0,re.Z)((function(){return(0,z.cn)((function(e){var t=e(n);return e((0,cn.z)(t.panes[t.activeIndex])).paneId}))}),[n]);return(0,z.Dv)(t)}function Rc(e){var n=e.headerId,t=(0,z.b9)(gt.Oe),r=(0,z.b9)(gt.Je),o=(0,z.b9)(gt.SG),l=(0,z.b9)(vt.U),c=(0,z.Dv)(gt.c),s=function(e){var n=(0,cn.Xs)(e),t=(0,z.Dv)((0,re.Z)((function(){return(0,z.cn)((function(e){return e(n).activeIndex}))}),[n])),r=(0,z.Dv)((0,re.Z)((function(){return(0,oi.kv)(n,(function(e){return e.path}),hl())}),[n])),i=(0,z.Dv)((0,re.Z)((function(){return(0,oi.kv)(n,(function(e){return e.panes}),hl())}),[n])),o=Tc(e),a=(0,re.Z)((function(){return(0,z.cn)((function(e){var t=e(n),r=e((0,cn.z)(t.panes[t.activeIndex])),i=e(r.data);return(0,fe.KM)(i)?(0,fe.DQ)(i):null}))}),[n]);return{activeIndex:t,path:r,panes:i,activeTabPaneId:o,activeFile:(0,z.Dv)(a)}}(n),u=s.activeIndex,d=s.panes,p=s.activeTabPaneId,f=s.activeFile,h=function(){var e,n=(0,g.useRef)(null),t=null===(e=n.current)||void 0===e?void 0:e.osInstance(),r=(0,g.useRef)(0),i=(0,g.useRef)(0),o=(0,_a.Fg)().isDarkColorScheme,a=(0,Ur.T)();return{options:wl,handleWheel:function(e){if(t&&0!==e.deltaY&&0===e.deltaX){var n=e.deltaY<0?-1:1,o=i.current!==n?t.scroll().position.x:r.current,a=25*n,l=t.scroll().max.x;r.current=Math.max(0,Math.min(l,o-a)),i.current=n;var c=function(){if(t){var e=t.scroll().position.x,n=r.current-e,i=Math.round(e+n/10);0!==n&&(t.scroll({x:i}),window.requestAnimationFrame(c))}};window.requestAnimationFrame(c)}},ref:n,className:o?"os-theme-light":"os-theme-dark",update:(null===t||void 0===t?void 0:t.update)?function(){return t.update()}:null,scrollIntoViewIfNeeded:function(e){null===t||void 0===t||t.scroll({el:e,scroll:"ifneeded",block:"nearest"},a?0:160)}}}(),v=(0,i.Z)((0,vl.L)({accept:[hn.Tv.File,ml.z.Pane,ml.z.NewPane],hover:function(e,n){var t=n.getSourceClientOffset();t&&w({item:e,panes:d,sourceClientOffset:t.x})},collect:function(e){return{isOver:e.isOver()}},drop:function(e,t){if(!t.didDrop()){var i=null!==(null===x||void 0===x?void 0:x.index)?null===x||void 0===x?void 0:x.index:d.length;if(e.type!==hn.Tv.File&&e.type!==hn.Tv.Directory)if(e.type!==ml.z.NewPane){if("paneId"in e){var a=d.includes(e.paneId)?d.length-1:d.length;o({paneId:e.paneId,index:void 0!==i&&i<a?i:a,toPaneGroupId:n})}}else r({activate:!0,paneGroupId:n,index:i,panes:[e.pane]});else{var l=e.nodes.filter((function(e){return e.type===hn.Tv.File})).map((function(e){return{type:(0,fe.Dp)({path:e.path}),data:{path:e.path}}}));l.length>0&&r({activate:!0,paneGroupId:n,index:i,panes:l})}}}}),2),m=v[0],Z=v[1],b=function(e){var n=e.isOver,t=(0,g.useState)(null),r=t[0],i=t[1],o=(0,g.useRef)(null),a=(0,g.useRef)([]);(0,g.useEffect)((function(){if(!n)return a.current=[],void i(null);o.current&&(a.current=(0,F.Z)(o.current.children).map((function(e){var n=e.getBoundingClientRect();return n.x+n.width/2})))}),[n]);var l=(0,g.useCallback)((function(e){if(0!==a.current.length){var n=e.item.type===ml.z.Pane?e.item:null,t=(null===n||void 0===n?void 0:n.paneId)||null,r=t?e.panes.indexOf(t):-1,o=(null===n||void 0===n?void 0:n.width)||80,l=a.current.map((function(e,n){return-1===r||r<n?e:e+o/2})).findIndex((function(n){return n>e.sourceClientOffset})),c=-1===l,s=-1===r?e.panes.length:e.panes.length-1;i({index:c?s:Math.min(l,s),paneId:t,width:o})}}),[]);return{tabContainerRef:o,hover:l,dropState:r}}({isOver:m.isOver}),y=b.tabContainerRef,w=b.hover,x=b.dropState,T=x?x.index:null;if((null===x||void 0===x?void 0:x.paneId)&&null!==T){var R=d.indexOf(x.paneId);R>-1&&R<T&&T++}var k=x&&null!==T?(0,F.Z)(d.slice(0,T)).concat([x],(0,F.Z)(d.slice(T))):d;return(0,a.BX)(a.HY,{children:[(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(2),S.l0.flex.growAndShrink(1),S.l0.align.center,S.l0.height("100%")],innerRef:Z,children:[(0,a.tZ)(S.G7,{css:[S.l0.flex.row,S.l0.flex.shrink(1),S.l0.align.center,S.l0.height("100%")],children:(0,a.tZ)(bl,{style:{height:"100%",width:"100%"},className:h.className,options:{overflowBehavior:{y:"hidden"},scrollbars:{autoHide:"leave",visibility:c?"hidden":"auto"}},onWheel:h.handleWheel,ref:h.ref,children:(0,a.tZ)(S.G7,{innerRef:y,css:[S.l0.flex.row,S.l0.height("100%"),S.l0.py(4),S.l0.px(2)],children:k.map((function(e,r){var i=u===r;return"string"!==typeof e?(0,a.tZ)(S.G7,{css:[S.l0.px(2)],children:(0,a.tZ)(S.G7,{css:[S.l0.borderRadius(8),S.l0.width(e.width),S.l0.height(28),S.l0.backgroundColor.accentPrimaryDimmest,{border:"1px dashed ".concat(S.TV.accentPrimaryDefault)}]})},"preview"):(0,a.tZ)(Al,{dragGroup:1===d.length,paneId:e,paneGroupId:n,isActive:i,onClick:function(){t(e)},onClose:function(){l(e)},scrollIntoViewIfNeeded:h.scrollIntoViewIfNeeded},e)}))})})}),(0,a.tZ)(S.hU,{alt:"New tab",tooltipHidden:!0,onClick:function(){r({paneGroupId:n,activate:!0,panes:[{type:"commands",data:{autoFocus:!0}}]})},children:(0,a.tZ)(vr.Z,{})}),(0,a.tZ)(pc,{paneGroupId:n})]}),(0,a.tZ)(ql,{headerId:n,paneId:p,activeFile:f}),(0,a.tZ)(S.G7,{css:S.l0.px(4),children:(0,a.tZ)(sc,{paneId:p,paneGroupId:n})}),h.update?(0,a.tZ)(xc,{paneId:p,onChange:h.update}):null]})}var kc=(0,g.memo)(Rc),Cc=(0,l.iv)([S.l0.borderRadius(8,8,0,0),S.l0.position.absolute,S.l0.flex.row,S.l0.align.center],{borderBottom:"1px solid ".concat(S.TV.backgroundHigher)}),Ec=["top","right","left","topRight","topLeft"];function Sc(e){var n=e.headerId,t=function(e){var n=e.headerId,t=(0,cn.Xs)(n),r=(0,re.Z)((function(){return(0,z.cn)((function(e){return"floating"===e(t).path[0]}))}),[t]);return(0,z.Dv)(r)}({headerId:n}),r=Tc(n),i=(0,z.b9)(wc);return t?(0,a.tZ)(a.HY,{children:Ec.map((function(e){return(0,a.tZ)(bc,{size:8,edge:e,onPointerDown:function(n){si(n,{start:function(){i({type:"start",paneId:r,edge:e})},move:function(e){var n=e.delta;i({type:"update",moveDelta:n})},end:function(){i({type:"end"})}})}},e)}))}):null}var Ic=(0,g.memo)(Sc);function Pc(e){var n=e.headerId,t=(0,cn.Xs)(n),r=Tc(n),i=(0,Yl.XP)({paneGroupId:n}),o=(0,re.Z)((function(){return(0,z.cn)((function(e){return e(e(t).rectAtom)}))}),[t]),l=(0,z.Dv)(o),c=(0,cr.w8)(r),s=(0,Ul.cI)({paneId:r}),u=i||l,d=(0,Ul.FD)({paneId:r}),p=(0,pt.Xo)();return(0,a.BX)(S.Tg,{elevated:!0,css:Cc,style:{transform:s?"scale(".concat(s.scale,")"):void 0,transformOrigin:s?"".concat(s.originX," bottom"):void 0,width:u.width,height:u.height,top:Math.round(u.y),left:Math.round(u.x),zIndex:c,transitionProperty:d?"all":void 0,transitionDuration:d?"140ms":void 0,transitionTimingFunction:d?"ease-out":void 0},onMouseDown:function(){p(r)},children:[(0,a.tZ)(kc,{headerId:n}),(0,a.tZ)(Ic,{headerId:n})]})}var _c=(0,g.memo)(Pc);function Dc(){var e=(0,y.Z)(["\n  query BrowserNotifications($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      image\n    }\n  }\n"]);return Dc=function(){return e},e}var Uc=(0,w.Ps)(Dc());function Bc(e){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return null===xt.l?[2]:[4,xt.l.query({query:Uc,variables:{username:e}})];case 1:return[2,null===(t=r.sent().data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.image]}}))}))).apply(this,arguments)}function Gc(){return"Notification"in window?"true"===_o.Z.get(Xc,"string")?"dismissed":window.Notification.permission:"denied"}function Nc(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){try{window.Notification.requestPermission().then()}catch(n){return[2,new Promise((function(e){window.Notification.requestPermission((function(n){e(n)}))}))]}return[2,window.Notification.requestPermission()]}))}))).apply(this,arguments)}function Mc(){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Nc()];case 1:return e.sent(),Fc(!1),[2]}}))}))).apply(this,arguments)}var Xc="notifications/dismissedModal";function Fc(e){_o.Z.set(Xc,String(e))}var zc={};function Wc(){return(Wc=(0,r.Z)((function(e){var n,t,r,i,a,l,c,s,u,d,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.title,t=e.body,r=e.badge,i=e.icon,a=e.iconByUsername,l=e.tag,c=e.onClick,s=e.cacheDuration,u=void 0===s?0:s,!document.hidden&&document.hasFocus()?[2]:"granted"!==Gc()?[2]:(d=Date.now(),l in zc&&zc[l]+u>d?[2]:a?[4,Bc(a)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return p=new window.Notification(n,{body:t,badge:r||"/public/images/logo-grayscale.png",icon:i||"/public/images/icon-square.png",tag:l}),setTimeout((function(){p.close()}),1e4),p.addEventListener("click",(function(){window.focus(),p.close()})),c&&p.addEventListener("click",c),zc[l]=d,[2]}}))}))).apply(this,arguments)}var jc=t(20431);var Hc=t(93160),Vc=t(13482),qc=["bottom","right","left","bottomRight","bottomLeft"],Yc=(0,l.iv)([H.l0.coverContainer,H.l0.borderRadius(0,0,8,8)]),$c="--fixed-position-offset-x",Kc="--fixed-position-offset-y",Jc=function(e){return"var(".concat(e,")")},Qc=(0,l.iv)({transform:"translate(".concat(Jc($c),", ").concat(Jc(Kc),")")}),es=(0,l.iv)([H.l0.coverContainer,!Vc.gn&&{"& .cm-editor > .cm-tooltip":Qc,"& .cm-editor > .cm-tooltip.cm-tooltip-thread":{left:"0px !important",transform:"translateY(".concat(Jc(Kc),"px)")},".cm-custom-context-menu":Qc}]);function ns(e){var n,t=e.resizable&&e.onResizeControlPointerDown?qc.map((function(n){return(0,a.tZ)(bc,{size:8,edge:n,onPointerDown:function(t){if(!e.onResizeControlPointerDown)throw new Error("Expected onResizeControlMouseDown");e.onResizeControlPointerDown(t,n)}},n)})):null,r=e.rect;return(0,a.tZ)(j.Z,{style:(n={zIndex:e.zIndex,position:"absolute",width:r.width,height:r.height,transform:"translate(".concat(Math.round(r.x),"px, ").concat(Math.round(r.y),"px)"),transition:e.animate?"transform 140ms ease-out":void 0,transitionTimingFunction:"ease-out",visibility:e.hidden?"hidden":void 0,opacity:e.hidden?0:void 0},(0,Ir.Z)(n,$c,-e.viewportInset.x+"px"),(0,Ir.Z)(n,Kc,-e.viewportInset.y+"px"),n),css:{"&:hover":{zIndex:e.zIndexHovered}},children:(0,a.BX)(Hc.Z,{onMouseDown:e.onMouseDown,onContextMenu:e.onMouseDown,elevated:!0,css:Yc,className:e.className,children:[(0,a.tZ)(j.Z,{innerRef:e.innerRef,css:es,children:e.children}),t]})})}var ts=(0,l.iv)([H.l0.width("100%"),H.l0.flex.growAndShrink(1),{overflow:"auto"}]);function rs(e){return(0,a.tZ)(j.Z,{css:ts,style:{pointerEvents:e.disableInteractions?"none":void 0,userSelect:e.disableInteractions?"none":void 0},children:e.children})}var is=t(24894),os=(0,z.cn)((function(e){return Boolean(e(Ul.sx)||e(yc)||e(ri)||e(gt.c)||e(is.xM))}));var as=t(46091);var ls={base:(0,l.iv)([S.l0.position.absolute,S.l0.borderRadius(8),{pointerEvents:"none",border:"1px solid",transitionProperty:"border, box-shadow",transitionDuration:Y.H.duration,transitionTimingFunction:Y.H.timingFunction}]),floating:(0,l.iv)([{borderColor:S.TV.outlineDimmest},S.l0.shadow(2)]),dragging:(0,l.iv)([{borderColor:S.TV.outlineStronger},S.l0.shadow(3)]),active:(0,l.iv)([{borderColor:S.TV.outlineDimmer}])};function cs(e){var n=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,z.cn)((function(e){if(e(Yl.Xu))return null;var t=e((0,cn.z)(n)),r=n===e(Ul.WB),i=n===e(pt.J1),o="floating"===t.type;if(!(o||r||i))return null;var a=e(cn.M0),l=e(t.rectAtom);return{style:{width:l.width+2,height:l.height+a+2,top:-(a+1),left:-1},isActive:i,isBeingDragged:r,isFloating:o}}))}),[n]);return(0,z.Dv)(t)}({paneId:e.paneId});return n?(0,a.tZ)(S.G7,{css:[ls.base,n.isFloating&&ls.floating,n.isActive&&ls.active,n.isBeingDragged&&ls.dragging],style:n.style}):null}var ss=(0,g.memo)(cs);var us=t(10693);function ds(e){var n=e.paneId,t=(0,z.Dv)(cn.CK),r=(0,z.Dv)((0,cn.z)(n)),o=(0,Yl.Je)(n),l=(0,pt.cr)({paneId:n}),c=(0,Ul.cI)({paneId:n}),s=(0,z.b9)(wc),u=(0,pt.Xo)(),d="floating"===r.type&&!r.isDialog,p=(0,Ul.FD)({paneId:n}),f=Boolean(o),h=(0,cr.MD)(n),v=(0,z.Dv)(os),m=function(e){var n=e.paneId,t=(0,re.Z)((function(){return(0,z.cn)((function(e){if(e(Yl.Xu)===n)return e(Yl.Ep);var t=e((0,cn.z)(n));return e(t.rectAtom)}))}),[n]);return(0,z.Dv)(t)}({paneId:n}),g={x:t.x+m.x,y:t.y+m.y},Z=function(e){var n=e.paneId,t=(0,i.Z)((0,vl.L)({accept:[hn.Tv.File,ml.z.Pane,ml.z.NewPane],collect:function(e){return{isOver:e.isOver()}},hover:function(e,t){var r=t.getClientOffset();r&&a.drag({pageX:r.x,pageY:r.y,over:n})},drop:function(e,t){var r=t.getClientOffset();if(r)if(e.type!==ml.z.Pane){if(e.type===hn.Tv.File||e.type===hn.Tv.Directory){var i=e.nodes.filter((function(e){return e.type===hn.Tv.File})).map((function(e){return{type:(0,fe.Dp)({path:e.path}),data:{path:e.path}}}));i.length>0&&a.drop({type:"newPaneGroup",panes:i,pageX:r.x,pageY:r.y,over:n})}if(e.type===ml.z.NewPane){var o=e.pane;a.drop({type:"newPaneGroup",panes:[o],pageX:r.x,pageY:r.y,over:n})}}else a.drop({type:"pane",paneId:e.paneId,pageX:r.x,pageY:r.y,over:n})}}),2),r=t[0].isOver,o=t[1],a=(0,as.s)({isOver:r});return o}({paneId:n}),b="tile"===r.type;return(0,a.BX)(a.HY,{children:[r.isDialog?(0,a.tZ)(hs,{}):null,(0,a.BX)(ns,{css:{transform:c?"scale(".concat(c.scale,")"):void 0,transformOrigin:c?"".concat(c.originX," top"):void 0},innerRef:b?Z:void 0,zIndex:h.normal,zIndexHovered:h.hovered,hidden:r.isHidden,viewportInset:g,active:l,rect:m,animate:p,floating:f,resizable:d,onMouseDown:function(){u(n)},onResizeControlPointerDown:function(e,t){si(e,{start:function(){s({type:"start",paneId:n,edge:t})},move:function(e){var n=e.delta;s({type:"update",moveDelta:n})},end:function(){s({type:"end"})}})},children:[(0,a.tZ)(ss,{paneId:n}),(0,a.tZ)(us.Z,{bsod:!0,tags:(0,re.Z)((function(){return{paneType:r.type}}),[r.type]),children:(0,a.tZ)(rs,{disableInteractions:v,children:(0,a.tZ)(fs,{paneId:n,dataAtom:r.data,isHidden:r.isHidden})})},n)]})]})}function ps(e){var n=e.paneId,t=e.isHidden,r=e.dataAtom,i=(0,z.Dv)(r),o=(0,$.Se)().Content,l=(0,z.b9)(Zt),c=function(e){l({fromPaneId:n,data:e})};return(0,a.tZ)(o,{pane:i,options:{paneId:n,isHidden:t,replacePane:c,openPane:c}})}var fs=(0,g.memo)(ps);function hs(){var e=(0,z.b9)(Po);return(0,a.tZ)(S.G7,{onClick:function(){return e()},css:[S.l0.coverContainer,S.l0.position.fixed,S.l0.backgroundColor.backgroundOverlay]})}var vs=(0,g.memo)(ds),ms=(0,z.cn)((function(e){var n=e(pt.J1);if(!n)return null;var t=e((0,cn.z)(n)).rectAtom,r=e(t),i=e(cn.M0);return{x:r.x,y:r.y-i,width:r.width,height:r.height+i}}));function gs(){var e=(0,z.Dv)(ms),n=(0,Vl.Z)();return e&&n?(0,a.tZ)("div",{css:[H.l0.position.absolute,H.l0.width(e.width),H.l0.height(e.height),H.l0.borderRadius(4),{boxShadow:"0 0 0 3px ".concat(n.color),pointerEvents:"none",zIndex:3,transform:"translate(".concat(Math.round(e.x),"px, ").concat(Math.round(e.y),"px)")}]}):null}var Zs=(0,g.memo)(gs),bs=t(77723),ys=40,ws=(0,z.cn)({}),xs=(0,z.cn)(null,(function(e,n,t){n(ws,(function(e){return(0,ie.ZP)(e,(function(e){e[t.id]=t.preferredHeight}))}))}));var Ts=(0,z.cn)([]),Rs=(0,z.cn)(0),ks=(0,z.cn)(null,(function(e,n,t){var r=t.height,i=t.sections,o=r-i.length*ys;n(Rs,r),n(Ts,i.map((function(e){var n=e.id,t=e.percent;return{id:n,height:0===t?0:o*(t/100)}})))}));function Cs(e){return(0,z.Dv)(function(e){return(0,re.Z)((function(){return(0,z.cn)((function(n){var t;return ys+((null===(t=n(Ts).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)||0)}))}),[e])}(e))}var Es=(0,z.cn)((function(e){return e(Ts).map((function(e){return e.id}))}));var Ss=(0,z.cn)(null,(function(e,n,t){n(Rs,t),n(Ts,(function(e){return(0,ie.ZP)(e,(function(e){var n=e.reduce((function(e,n){return e+n.height}),0),r=t-e.length*ys,i=e.filter((function(e){return e.height>0})),o=(r-n)/i.length,a=!0,l=!1,c=void 0;try{for(var s,u=i[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var d=s.value;d.height=Math.max(0,d.height+o)}}catch(p){l=!0,c=p}finally{try{a||null==u.return||u.return()}finally{if(l)throw c}}}))}))}));var Is=t(90051),Ps=t(33101),_s=t(16495);function Ds(e){(0,g.useEffect)((function(){e((0,_s.r)(),{captureDraggingState:!0})}),[e])}var Us={root:S.l0.px(4),rowWrap:(0,l.iv)([S.l0.borderRadius(8)]),row:(0,l.iv)([S.gU.nofill,S.l0.rowWithGap(8),S.l0.p(4),S.l0.minHeight(32),S.l0.align.center,{transition:"initial"}]),icon:(0,l.iv)([S.l0.position.relative,{"& > svg":S.l0.color.foregroundDimmer}]),textWrap:[S.l0.colWithGap(2),S.l0.flex.growAndShrink(1)],heading:[S.l0.flex.growAndShrink(1),{opacity:.5}],text:[S.l0.flex.growAndShrink(1)]};function Bs(e){var n=e.title,t=e.icon,r=e.active,i=e.highlightRanges,o=e.heading,l=e.dragRef;return(0,a.tZ)(S.G7,{css:Us.root,children:(0,a.tZ)(S.Tg,{elevated:r,css:Us.rowWrap,children:(0,a.BX)(S.Tg,{innerRef:l,css:Us.row,children:[(0,a.tZ)(S.G7,{css:Us.icon,children:t}),(0,a.BX)(S.G7,{css:Us.textWrap,children:[o?(0,a.tZ)(S.xv,{variant:"small",color:"dimmest",css:Us.heading,children:o}):null,(0,a.tZ)(S.xv,{css:Us.text,color:(null===i||void 0===i?void 0:i.length)?"dimmest":"default",children:(null===i||void 0===i?void 0:i.length)?(0,a.tZ)(te.xK,{style:{color:S.TV.foregroundDimmest},matchStyle:{fontWeight:S.TV.fontWeightBold,color:S.TV.foregroundDefault},source:n,matches:i.map((function(e){return{column:e.from,length:e.to-e.from}}))}):n})]})]})})})}function As(e){var n=e.pane,t=e.active,r=e.highlightRanges,o=e.title,l=e.heading,c=(0,$.Se)().Icon({pane:n}),s=(0,as.N)(),u=(0,i.Z)((0,xl.c)({type:ml.z.NewPane,item:function(){return{type:ml.z.NewPane,pane:n}},end:function(){s()}}),3),d=u[1];return Ds(u[2]),(0,a.tZ)(Bs,{active:t,icon:c,title:o,heading:l,dragRef:d,highlightRanges:r})}var Gs=t(73359);function Ns(){var e=(0,y.Z)(["\n  query WorkspaceHeaderUsersOnline($ids: [Int!]!) {\n    currentUser {\n      id\n    }\n    usersByIds(ids: $ids) {\n      id\n      username\n      image\n    }\n  }\n"]);return Ns=function(){return e},e}var Os={},Ms=(0,w.Ps)(Ns());var Ls=t(57731);function Xs(){var e=(0,Xe.Z)().presence,n=qi(),t=(0,Vi.Z)({presence:e}),l=(0,i.Z)(function(e){var n=(0,b.Z)({},Os,e);return Gs.t(Ms,n)}(),1),c=l[0];return(0,re.Z)((function(){return{data:{type:"context",label:"Multiplayers",icon:(0,a.tZ)(Ko.Z,{})},commands:(0,r.Z)((function(){var e,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t.length?[4,c({variables:{ids:t.map((function(e){return e.id}))}})]:[2,[]];case 1:return(e=o.sent().data)?(r=t.reduce((function(e,n){return e[n.id]=n.color,e}),{}),i=e.currentUser,[2,e.usersByIds.filter((function(e){return e.id!==(null===i||void 0===i?void 0:i.id)})).map((function(e){return{match:je.pl,data:{type:"action",label:e.username,icon:(0,a.tZ)(S.G7,{style:{border:"2px solid",borderColor:r[e.id],borderRadius:"50%"},children:(0,a.tZ)(Ls.Z,{size:16,src:e.image,alt:e.username})}),run:function(){return n({username:e.username,id:e.id})}}}}))]):[2,[]]}}))}))}}),[t,n,c])}var Fs={type:"context",icon:(0,a.tZ)($e.Z,{}),label:"",description:"Search"};var zs=S.KD.div,Ws=S.KD.input,js={inputContainer:(0,l.iv)([S.l0.position.relative,S.l0.flex.row,S.l0.align.center,S.gU.filled,{":focus-within":{borderColor:S.TV.outlineDefault}}]),input:(0,l.iv)([S.l0.flex.growAndShrink(1),S.l0.p(8),S.l0.color.foregroundDefault,{paddingLeft:26,fontSize:S.TV.fontSizeDefault,outline:"0 none",backgroundColor:"transparent",borderColor:"transparent"}]),menuContainer:(0,l.iv)([S.l0.left(0),S.l0.width("100%"),S.l0.overflowY("auto"),S.l0.py(4),S.l0.position.absolute,{top:40,height:"calc(100% - ".concat(40,"px)"),zIndex:1}]),searchIcon:(0,l.iv)([S.l0.position.absolute,S.l0.top(0),S.l0.left(0),S.l0.height("100%"),S.l0.center,{paddingLeft:6,pointerEvents:"none"}]),clearButton:(0,l.iv)([S.l0.reset.button,S.l0.p(4),S.l0.color.foregroundDimmest,S.l0.cursor.pointer,{"&:hover":S.l0.color.foregroundDefault}])};function Hs(){var e=function(){var e=(0,Xe.Z)().fs,n=(0,sn.A)(),t=(0,un.T)(),r=(0,Rt.C)(),i=qn(),o=Yn(),l=Xs(),c=(0,re.Z)((function(){return(0,z.cn)((function(c){var s=c(i),u=c(o),d={data:{type:"context",label:"Tools",icon:(0,a.tZ)(dn.Z,{})},commands:function(){return u}},p=(0,He.i)({openFile:r,fs:e,shouldHideFile:t,getRecentFiles:n,lazyLoad:!0});return p.match=void 0,{data:Fs,commands:function(){return[s,p,d,l]}}}))}),[e,o,i,t,r,n,l]);return(0,z.Dv)(c)}(),n=(0,Rt.C)(),t=yt(),r=(0,q.Z)({onSelect:function(e){if(r.combobox.reset(),r.setInputValue(""),"openFile"!==e.data.type)if("openPane"!==e.data.type)"action"!==e.data.type||e.data.run();else{var i=e.data.pane;t({pane:i})}else{var o=e.data.deeplink.path;n({path:o})}},initialCommand:e,insertSectionHeaders:!0}),i=r.combobox;return(0,a.BX)(a.HY,{children:[(0,a.BX)(zs,(0,W.Z)((0,b.Z)({},i.getComboboxProps()),{css:js.inputContainer,children:[(0,a.tZ)(S.G7,{css:js.searchIcon,children:r.isLoading?(0,a.tZ)(Ne.Z,{}):(0,a.tZ)($e.Z,{color:S.TV.foregroundDimmest})}),(0,a.tZ)(Ws,(0,b.Z)({css:js.input},r.combobox.getInputProps({value:r.inputValue,ref:r.inputRef,onChange:function(e){return r.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"Escape"===e.key&&e.currentTarget.blur()},placeholder:"Search"}))),r.inputValue.length>0?(0,a.tZ)(S.G7,{css:js.clearButton,tag:"button",children:(0,a.tZ)(Ge.Z,{onClick:function(){return r.setInputValue("")}})}):null]})),(0,a.tZ)(S.Tg,(0,W.Z)((0,b.Z)({style:{display:r.inputValue?void 0:"none"},css:js.menuContainer},r.combobox.getMenuProps({refKey:"innerRef"})),{children:(0,a.tZ)(qs,{items:r.itemsWithSections||[],getItemProps:i.getItemProps,highlightedIndex:i.highlightedIndex,isLoading:r.isLoading})}))]})}function Vs(e){var n=(0,g.useRef)(e.items);if(!(e.items!==n.current))return null;var t=e.items.slice(0,100);return e.isLoading||0!==t.length?(0,a.tZ)(S.G7,{css:[S.l0.pt(2)],children:t.map((function(n){if(n.isSection){var t=n.name;return(0,a.tZ)(S.xv,{variant:"small",color:"dimmest",css:[S.l0.px(12),S.l0.py(4)],children:t},t)}var r=n.item,i=n.index,o=i===e.highlightedIndex,l=function(e){var n=e.data,t=e.match.render,r=n.icon,i=n.label,o=null,a=void 0;if("openFile"===n.type){var l=n.deeplink.path;o={type:(0,fe.Dp)({path:l}),data:{path:l}}}else"openPane"===n.type&&(o=n.pane);var c=t&&"ranges"in t?t.ranges:void 0;if(o&&(0,fe.KM)(o)&&o.data.path){var s=o.data.path;i=(0,Mo.UO)(s);var u=s.length-i.length;u>0&&(c=null===c||void 0===c?void 0:c.reduce((function(e,n){return n.from-u>=0&&e.push({from:n.from-u,to:n.to-u}),e}),[]));var d=(0,Mo.Il)(s);d&&(a=d)}return{pane:o,title:i,heading:a,icon:r,highlightRanges:c}}(r),c=l.pane,s=l.highlightRanges,u=l.icon,d=l.title,p=l.heading;return(0,a.tZ)(zs,(0,W.Z)((0,b.Z)({css:[{cursor:"pointer"}]},e.getItemProps({item:r,index:i})),{children:c?(0,a.tZ)(As,{active:o,highlightRanges:s,pane:c,title:d,heading:p}):(0,a.tZ)(Bs,{active:o,highlightRanges:s,title:d,icon:u})}),(0,q.k)(r))}))}):(0,a.tZ)(S.xv,{color:"dimmest",css:[S.l0.px(8),S.l0.py(16),{textAlign:"center"}],children:"No results found"})}var qs=(0,g.memo)(Vs),Ys=t(96189),$s=t(47979),Ks=t(25582),Js={38:20},Qs={root:(0,l.iv)([S.gU.filled,S.l0.position.relative,S.l0.center,S.l0.borderRadius(8),{"& > svg":S.l0.color.foregroundDimmer}]),hovered:(0,l.iv)({backgroundColor:S.vb.interactiveBackgroundActive,"& > svg":S.l0.color.foregroundDefault}),active:(0,l.iv)([S.gU.filled[":not([disabled])"][":active"],{"& > svg":S.l0.color.foregroundDimmer}])};function eu(e){var n=e.innerRef,t=e.indicator,r=e.hovered,i=e.active,o=e.children,l=e.className,c=e.size,s=void 0===c?38:c;return(0,a.BX)(S.G7,{className:l,innerRef:n,css:[Qs.root,r&&Qs.hovered,i&&Qs.active],style:{width:s,height:s},children:[(0,g.cloneElement)(o,{size:Js[s]}),t?(0,a.tZ)(se,{small:!0}):null]})}var nu={root:(0,l.iv)([S.l0.viewStyle,S.l0.reset.button,S.l0.colWithGap(4),S.l0.cursor.pointer,S.l0.center,S.l0.pt(2),S.l0.pt(4),{"&:hover .text":[S.l0.color.foregroundDefault]},{"&:hover .icon":[Qs.hovered]},{"&:active .icon":[Qs.active]}]),hovered:(0,l.iv)([S.l0.color.foregroundDefault]),text:[S.l0.flex.growAndShrink(1),{fontSize:10}]};function tu(e){var n=e.pane,t=e.onClick,r=e.iconRef,i=e.hovered,o=(0,$.Se)(),l=o.Icon({pane:n,size:20}),c=o.getTitle(n),s=le({paneType:n.type});return(0,a.BX)("button",{css:[nu.root,i&&nu.hovered],onClick:t,children:[(0,a.tZ)(eu,{className:"icon",innerRef:r,hovered:i,indicator:s,children:l}),(0,a.tZ)(iu,{className:"text",hovered:i,children:c})]})}var ru={root:(0,l.iv)([S.l0.flex.growAndShrink(1),{fontSize:10,textAlign:"center"}])};function iu(e){var n=e.children,t=e.hovered,r=e.className;return(0,a.tZ)(S.xv,{className:r,css:ru.root,color:t?"default":"dimmest",children:n})}var ou=t(12824),au=t(94058),lu={root:(0,l.iv)([S.l0.position.absolute]),icon:(0,l.iv)([S.l0.shadow(2)]),textContainer:(0,l.iv)([S.l0.position.absolute,S.l0.left("50%"),S.l0.bottom("0"),S.l0.width("200%"),S.l0.center,{transform:"translate(-50%, calc(100% + ".concat(4,"px))")}])};function cu(e){var n=e.pane,t=e.x,r=e.y,i=(0,$.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n),c=le({paneType:n.type});return(0,a.BX)(S.G7,{css:lu.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:[(0,a.tZ)(eu,{css:lu.icon,active:!0,indicator:c,children:o}),(0,a.tZ)(S.G7,{css:lu.textContainer,children:(0,a.tZ)(iu,{hovered:!0,children:l})})]})}var su={root:(0,l.iv)([S.l0.position.absolute,S.l0.shadow(2),S.l0.borderRadius(8),S.l0.minWidth(100)])};function uu(e){var n=e.pane,t=e.x,r=e.y,i=(0,$.Se)(),o=i.Icon({pane:n,size:20}),l=i.getTitle(n);return(0,a.tZ)(S.G7,{css:su.root,style:{transform:"translate(".concat(t,"px, ").concat(r,"px)")},children:(0,a.tZ)(Bs,{active:!0,icon:o,title:l})})}function du(){var e=(0,au.u)();if(!e.display)return null;var n=e.item,t=e.monitor.getSourceClientOffset();return t?n.grid?(0,a.BX)(a.HY,{children:[(0,a.tZ)(Br.a,{cursor:"grabbing"}),(0,a.tZ)(cu,{pane:n.pane,x:t.x,y:t.y})]}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(Br.a,{cursor:"grabbing"}),(0,a.tZ)(uu,{pane:n.pane,x:t.x,y:t.y})]}):null}var pu=(0,l.iv)({position:"fixed",pointerEvents:"none",zIndex:cr.MI.filetreeDragLayer,left:0,top:0,width:"100%",height:"100%"});function fu(){var e=(0,ou.f)((function(e){return{item:e.getItem(),itemType:e.getItemType(),isDragging:e.isDragging()}})),n=e.isDragging,t=e.itemType===ml.z.NewPane;return n&&t?(0,a.tZ)("div",{css:pu,children:(0,a.tZ)(du,{})}):null}function hu(e){var n=e.pane,t=yt(),r=(0,as.N)(),o=(0,i.Z)((0,xl.c)({type:ml.z.NewPane,item:function(){return{type:ml.z.NewPane,pane:n,grid:!0}},end:function(){r()}}),3),l=o[1];return Ds(o[2]),(0,a.tZ)(tu,{pane:n,iconRef:l,onClick:function(){t({pane:n}),function(e){var n={action:"opened"};switch(e){case"git":return(0,pi.j)(pi.U3.VERSION_CONTROL_FEATURE_USED,n);case"envEditor":return(0,pi.j)(pi.U3.ENV_EDITOR_USED,n);case"database":return(0,pi.j)(pi.U3.DATABASE_USED,{action:"opened",type:"ReplitKV",provider:"replit"});case"neon":return(0,pi.j)(pi.U3.DATABASE_USED,{action:"opened",type:"PostgreSQL",provider:"neon"});case"replAuth":return(0,pi.j)(pi.U3.AUTH_SIDEBAR_USED,n);case"packager":return(0,pi.j)(pi.U3.PACKAGE_MANAGER_USED,n);case"unitTests":return(0,pi.j)(pi.U3.REPL_UNIT_TEST_USED,n);case"debugger":(0,pi.j)(pi.U3.DEBUGGER_USED,n)}}(n.type)}})}var vu=(0,l.iv)([S.l0.pl(8),{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fill, minmax(".concat(60,"px, 1fr))"),gridAutoFlow:"dense"}]);function mu(){var e=Hn(),n=e.length,t=(0,z.b9)(xs);return(0,g.useEffect)((function(){var e=Math.min(300,40*n);t({id:"dock",preferredHeight:e})}),[n,t]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(fu,{}),(0,a.tZ)(S.G7,{css:vu,children:e.map((function(e){return(0,a.tZ)(hu,{pane:e},e.type)}))})]})}function gu(e){var n=e.sections,t=e.id,r=n.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("");var i=n[r],o=i.height;i.height=0;var a=r===n.length-1?n.slice(0,r).reverse():n.slice(r),l=!0,c=!1,s=void 0;try{for(var u,d=a[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var p=u.value;if(0!==p.height)return void(p.height+=o)}}catch(h){c=!0,s=h}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var f=n[r+1];f&&(f.height=o)}var Zu=(0,z.cn)(null),bu=(0,z.cn)(null,(function(e,n,t){var r=e(Ts);if("start"!==t.type){var i=e(Zu);if(!i)throw new Error("");if("update"!==t.type)n(Ts,(0,ie.ZP)(r,(function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;a.height>=32||gu({sections:e,id:a.id})}}catch(l){t=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}))),n(Zu,null);else{var o=e(Rs);n(Ts,(0,ie.ZP)(i.sectionStart,(function(e){var n=i.heightStart+t.delta;!function(e){var n=e.sections,t=e.id,r=e.totalHeight-n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),i=n.findIndex((function(e){return e.id===t}));if(-1===i)throw new Error("Expected sectionIndex");var o=r+n.slice(i).reduce((function(e,n){return e+n.height}),0),a=n[i],l=e.height>a.height,c=Math.min(o,e.height),s=Math.abs(a.height-c);if(l){a.height=Math.max(0,c);var u=!0,d=!1,p=void 0;try{for(var f,h=n.slice(i+1)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;if(0!==v.height){if(!(v.height<s)){v.height-=s;break}s-=v.height,v.height=0}}}catch(k){d=!0,p=k}finally{try{u||null==h.return||h.return()}finally{if(d)throw p}}}else{var m=n[i+1];if(e.height>=0)return a.height=e.height,void(m&&(m.height+=s));var g=a.height;a.height=0;var Z=-1*e.height,b=!0,y=!1,w=void 0;try{for(var x,T=n.slice(0,i).reverse()[Symbol.iterator]();!(b=(x=T.next()).done);b=!0){var R=x.value;if(R.height>Z){g+=Z,R.height-=Z;break}g+=R.height,Z-=R.height,R.height=0}}catch(k){y=!0,w=k}finally{try{b||null==T.return||T.return()}finally{if(y)throw w}}m&&(m.height+=g)}}({headerHeight:ys,totalHeight:o,sections:e,id:i.id,height:n})})))}}else{var a=r.find((function(e){return e.id===t.id}));if(!a)throw new Error("");n(Zu,{id:t.id,heightStart:a.height,sectionStart:r})}}));function yu(e){var n=e.id,t=(0,re.Z)((function(){return(0,z.cn)((function(e){var t;return(null===(t=e(Zu))||void 0===t?void 0:t.id)===n}))}),[n]);return(0,z.Dv)(t)}var wu=(0,z.cn)((function(e){return e(ln._E)&&!e(Zu)}));var xu=(0,z.cn)(null,(function(e,n,t){var r=e(Ts),i=e(ws)[t],o=r.find((function(e){return e.id===t}));if(!o)throw new Error("");0===o.height?n(Ts,(0,ie.ZP)(r,(function(n){!function(e){var n=e.sections,t=e.preferredHeight,r=e.id,i=n.findIndex((function(e){return e.id===r}));if(-1===i)throw new Error("Expected sectionIndex");var o=n.reduce((function(n,t){return n+(t.height+e.headerHeight)}),0),a=e.totalHeight-o,l=n[i];if(a>0)l.height=a;else{var c=n.slice(i+1).find((function(e){return e.height>0}))||n.slice(0,i).reverse().find((function(e){return e.height>0}));if(c){if(void 0!==t&&t<c.height)return l.height=t,void(c.height-=t);l.height=c.height,c.height=0}}}({sections:n,id:t,totalHeight:e(Rs),headerHeight:ys,preferredHeight:i})}))):(n(xs,{id:o.id,preferredHeight:o.height}),n(Ts,(0,ie.ZP)(r,(function(e){return gu({sections:e,id:t})}))))}));function Tu(){return(0,z.b9)(xu)}function Ru(e){var n=(0,re.Z)((function(){return(0,z.cn)((function(n){var t;return 0===(null===(t=n(Ts).find((function(n){return n.id===e})))||void 0===t?void 0:t.height)}))}),[e]);return(0,z.Dv)(n)}var ku=t(72466),Cu=t(86851),Eu=t(9252),Su=t(38935),Iu=t(25741),Pu=t(42231),_u=t(9211),Du=t(69453),Uu=t(94135),Bu=(0,g.createContext)(null);function Au(){var e=(0,g.useContext)(Bu);if(!e)throw new Error("Expected ref");return e}var Gu=t(76476),Nu={root:(0,l.iv)([S.l0.rowWithGap(4),S.l0.pr(2)])};function Ou(){var e,n,t=(0,bn.Z)(),r=(0,Xe.Z)().session,i=Au(),o=(0,g.useRef)(null),l=(0,g.useRef)(null),c=(0,Iu.Z)(),s=(0,dt.BN)(),u=(0,Pu.Z)(),d=(0,Uu.z)(),p="files",f=Ru(p),h=Tu(),v=(0,g.useCallback)((function(){f&&h(p)}),[f,h]),m=[{label:Su.dk[Su.st.UploadFile],for:null===(e=o.current)||void 0===e?void 0:e.id,run:function(){o.current&&(0,Du.Z)({replId:t,action:"uploaded",fileType:hn.Tv.File})}}];u&&m.push({label:Su.dk[Su.st.UploadFolder],for:null===(n=l.current)||void 0===n?void 0:n.id,run:function(){l.current&&(0,Du.Z)({replId:t,action:"uploaded",fileType:hn.Tv.Directory})}});return m.push({label:Su.dk[Su.st.OpenPane],run:function(){s({pane:{type:"commands",data:{autoFocus:!0}},edge:"left"})}},{label:Su.dk[Su.st.DownloadZip],run:d},{label:Su.dk[c?Su.st.HideHiddenFiles:Su.st.ShowHiddenFiles],run:function(){r.setAreHiddenFilesVisible(!c)}}),(0,a.BX)(S.G7,{children:[(0,a.tZ)(_u.Q,{fileUploadInputRef:o,dirUploadInputRef:l,uploadFiles:function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.uploadFiles(e)}}),(0,a.BX)(S.G7,{css:Nu.root,children:[(0,a.tZ)(S.hU,{"data-cy":"filetree-add-file",alt:"New file",tooltipPlacement:"top",onClick:function(){var e;v(),null===(e=i.current)||void 0===e||e.addFileType(hn.Tv.File)},children:(0,a.tZ)(Cu.Z,{})}),(0,a.tZ)(S.hU,{alt:"New folder",tooltipPlacement:"top",onClick:function(){var e;v(),null===(e=i.current)||void 0===e||e.addFileType(hn.Tv.Directory)},children:(0,a.tZ)(Eu.Z,{})}),(0,a.tZ)($l.Z,{resetOnSelect:!0,label:"File Actions",items:m,onItemClick:function(e){e.run()}})]})]})}function Mu(){var e=Au(),n=(0,Gu.p)();return(0,a.tZ)(S.G7,{"data-cy":"sidebar-filetree-section",css:[S.l0.position.absolute,S.l0.width("100%"),S.l0.height("100%")],children:(0,a.tZ)(Ks.Z,{ref:e,filetreeApi:n,showHeader:!1,showResources:!1})})}function Lu(){var e=(0,Rt.C)();return(0,a.tZ)(ku.Z,{onFileOpen:function(n){return e({path:n})}})}var Xu={kaboom:{title:"Kaboom",content:(0,a.tZ)(Lu,{})},files:{title:"Files",controls:(0,a.tZ)(Ou,{}),content:(0,a.tZ)(Mu,{})},dock:{title:"Tools",content:(0,a.tZ)(mu,{})}},Fu={root:(0,l.iv)([S.l0.rowWithGap(4),S.l0.align.center,S.l0.height(ys)]),header:(0,l.iv)([S.l0.pl(8),S.l0.flex.growAndShrink(1),S.l0.rowWithGap(4),S.l0.align.center,S.l0.cursor.pointer]),title:(0,l.iv)([S.l0.fontWeight.medium]),border:(0,l.iv)([S.l0.position.absolute,S.l0.top(0),S.l0.right(0),S.l0.width("calc(100% - ".concat(S.TV.space8,")")),{pointerEvents:"none",borderTop:"1px solid",borderColor:S.TV.outlineDimmest}]),content:(0,l.iv)([S.l0.flex.growAndShrink(1),S.l0.overflowY("auto")])},zu=(0,g.memo)((function(e){var n=Ru(e.id),t=Tu(),r=Xu[e.id],i=r.title,o=r.controls;return(0,a.BX)(S.G7,{css:Fu.root,children:[(0,a.BX)(S.G7,{onClick:function(){return t(e.id)},css:Fu.header,children:[(0,a.tZ)(Re.Z,{rotate:n?0:90}),(0,a.tZ)(S.xv,{css:Fu.title,children:i})]}),o||null]})})),Wu=(0,g.memo)((function(e){var n=Xu[e.id].content;return(0,a.tZ)(S.G7,{css:[Fu.content,"files"===e.id?S.l0.position.relative:{}],children:(0,a.tZ)(S.G7,{css:S.l0.pb(8),children:n})})})),ju={root:(0,l.iv)([S.l0.position.relative,S.l0.height(0),S.l0.width("100%"),{zIndex:1,"&:hover > div":{transform:"scaleY(2)"},cursor:"ns-resize"}]),hoverArea:(0,l.iv)([S.l0.position.relative,S.l0.height(8),S.l0.top(-4)])},Hu=(0,g.memo)((function(e){var n=(0,z.b9)(bu),t=yu({id:e.id});return(0,a.tZ)(S.G7,{css:ju.root,onPointerDown:function(t){si(t,{start:function(){n({type:"start",id:e.id})},move:function(e){var t=e.delta;n({type:"update",delta:t.y})},end:function(e){var t=e.delta;n({type:"end",delta:t.y})}})},children:(0,a.tZ)(S.G7,{style:t?{transform:"scaleY(100)"}:void 0,css:ju.hoverArea})})}));function Vu(e){var n=Cs(e.id),t=(0,z.Dv)(wu),r=yu({id:e.id});return(0,a.BX)(S.G7,{style:{zIndex:r?2:void 0,height:n,position:"relative",transition:t?"height 120ms ease-out":void 0},children:[e.border?(0,a.tZ)(S.G7,{css:Fu.border}):null,(0,a.tZ)(zu,{id:e.id}),(0,a.tZ)(Wu,{id:e.id}),e.resizable?(0,a.tZ)(Hu,{id:e.id}):null]})}var qu={container:(0,l.iv)([S.l0.position.absolute,S.l0.top(0),S.l0.left(0),S.l0.width("100%"),S.l0.height("100%"),S.l0.minWidth(bs.ih)]),header:(0,l.iv)([S.l0.pl(8),{zIndex:3}]),content:(0,l.iv)([S.l0.flex.growAndShrink(1)]),footer:(0,l.iv)([S.l0.pl(8),{zIndex:2}]),resources:(0,l.iv)([S.l0.justify.center,S.l0.position.relative,{"& > div":[{borderColor:S.TV.outlineDimmest},S.l0.px(0),S.l0.pt(16)]}]),help:(0,l.iv)([S.l0.pb(8),S.l0.flex.growAndShrink(1),S.l0.justify.center])};function Yu(){return(0,a.BX)(S.G7,{css:qu.footer,children:[(0,a.tZ)(S.G7,{css:qu.resources,children:(0,a.tZ)(Is.w,{})}),(0,a.tZ)(S.G7,{css:qu.help,children:(0,a.tZ)(Ps.Z,{big:!0})})]})}function $u(){var e=(0,z.b9)(ks),n=(0,z.b9)(Ss),t=(0,$s.oj)(),r=(0,g.useRef)(null);(0,g.useEffect)((function(){if(r.current){var n=r.current.getBoundingClientRect().height;e(t?{height:n,sections:[{id:"files",percent:0},{id:"kaboom",percent:60},{id:"dock",percent:40}]}:{height:n,sections:[{id:"files",percent:60},{id:"dock",percent:40}]})}}),[e,t]);var i=(0,Ys.Z)((function(e){e&&n(e.height)}),{wait:100,type:"debounce"});return(0,kl.l)(i,r)}var Ku=(0,g.memo)((function(){var e=(0,z.Dv)(Es),n=$u(),t=(0,g.useRef)(null),r=e[e.length-1];return(0,a.tZ)(Bu.Provider,{value:t,children:(0,a.BX)(S.G7,{css:qu.container,children:[(0,a.tZ)(S.G7,{css:qu.header,children:(0,a.tZ)(Hs,{})}),(0,a.tZ)(S.G7,{css:qu.content,innerRef:n,children:e.map((function(e,n){return(0,a.tZ)(Vu,{id:e,resizable:e!==r,border:0!==n},e)}))}),(0,a.tZ)(Yu,{})]})})})),Ju=S.KD.div,Qu=(0,l.iv)([S.l0.position.absolute,S.l0.center,Mr,{cursor:"ew-resize",":hover":{zIndex:cr.MI.gutterHovered}}]),ed={default:(0,l.iv)([S.l0.height(24),S.l0.width(2),Wr]),active:(0,l.iv)([S.l0.height("100%"),S.l0.width(1),S.l0.backgroundColor.accentPrimaryDefault]),shared:(0,l.iv)([S.l0.borderRadius(4),{transitionProperty:"width, height, background-color",transitionTimingFunction:"ease-out"}])},nd=(0,l.iv)([S.l0.coverContainer,{":hover":{transform:"scaleX(4)"}}]),td=(0,l.iv)([S.l0.position.absolute,S.l0.height("200vh"),S.l0.width("200vw"),{pointerEvents:"none"}]);function rd(){var e=(0,is.og)(),n=(0,is.TN)(),t=(0,is.EU)(),r=(0,cr.bJ)(),i=(0,Ur.T)();return(0,a.BX)(a.HY,{children:[(0,a.BX)(Ju,{css:[Qu,{zIndex:t?r.active:r.normal}],style:{width:e.width,height:e.height,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},onPointerDown:function(e){si(e,{start:function(){n.start()},move:function(e){var t=e.delta;n.update({deltaX:t.x})},end:function(){n.end()}})},children:[(0,a.tZ)(S.G7,{className:"grip-line",style:{transitionDuration:i?"0s":"".concat(Vr(e.height),"s")},css:[t?ed.active:ed.default,ed.shared]}),(0,a.tZ)(S.G7,{css:t?td:nd})]}),t?(0,a.tZ)(Br.a,{cursor:"ew-resize"}):null]})}var id=(0,l.iv)([S.l0.height("100%"),S.l0.position.absolute,S.l0.top(0),S.l0.left(0),S.l0.flex.row,S.l0.flex.growAndShrink(1),S.l0.overflow("auto")]);function od(){var e=(0,bs.Or)(),n=0===e,t=(0,Da.Z)(Qo.y.Sidepane),r=vn().isTutorial?null:t;return(0,a.BX)(a.HY,{children:[(0,a.tZ)(S.G7,{css:id,style:{width:e,visibility:n?"hidden":void 0},innerRef:r,children:(0,a.tZ)(Ku,{})}),(0,a.tZ)(rd,{})]})}var ad=(0,g.memo)(od),ld=t(60336),cd=t(21603),sd=t(63035),ud=t(75192),dd=t(43186),pd=t(18888),fd=t(58482),hd=t(6801),vd=t(11213),md=t(75436);function gd(){var e=(0,y.Z)(["\n  subscription ThreadUpdates($replId: String!) {\n    updatedThread: annotationUpdatesByRepl(replId: $replId) {\n      id\n      ...AnnotationsUIAnchor\n    }\n  }\n  ","\n"]);return gd=function(){return e},e}var Zd={},bd=(0,w.Ps)(gd(),hd.j7);function yd(e){!function(e){var n=(0,b.Z)({},Zd,e);md.m(bd,n)}({variables:{replId:e},onData:function(n){var t,r,i=null===(t=n.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.updatedThread;i&&"AnnotationAnchor"===i.__typename&&(n.client.cache.updateQuery({query:hd.yi,variables:{replId:e}},(function(e){return(0,ie.ZP)(e,(function(e){null!==e&&"Repl"===e.repl.__typename&&(e.repl.annotationAnchors.find((function(e){return e.id===i.id}))||e.repl.annotationAnchors.push(i))}))})),n.client.cache.updateQuery({query:vd.Jq,variables:{replId:e,path:i.path}},(function(e){return(0,ie.ZP)(e,(function(e){var n;e&&"ThreadsByFileResult"===(null===(n=e.threadsByFile)||void 0===n?void 0:n.__typename)&&(e.threadsByFile.threads.find((function(e){return e.id===i.id}))||e.threadsByFile.threads.push((0,W.Z)((0,b.Z)({},i),{messageCount:i.messages.length,unreadCount:i.messages.filter((function(e){return!e.seen})).length,participants:i.messages.filter((function(e){return!!e.user})).map((function(e){return e.user}))})))}))})))}})}var wd=t(15335);function xd(){var e=(0,y.Z)(["\n  subscription RegisterReplConnection($replId: String!) {\n    replConnection(replId: $replId)\n  }\n"]);return xd=function(){return e},e}var Td={},Rd=(0,w.Ps)(xd());function kd(){!function(e){var n=(0,b.Z)({},Td,e);md.m(Rd,n)}({variables:{replId:(0,bn.Z)()},skip:(0,wd.Z)()!==_n.e.CONNECTED})}var Cd=t(5275),Ed=!1;var Sd=(0,z.cn)(null,(function(e,n){n(ln.g4,{tiling:null,floating:[]}),n(ln.yv,[]),n(ln.Md,null),n(Qt.Mn,null),n(Ln,!1),n(Yl.dK,!1),n(Ul.sx,null),n(cn.vA)}));function Id(e){var n=(0,it.Z)(e.initialLayoutState),t=(0,z.Dv)(ln.dD),r=(0,bn.Z)(),i=(0,Qt.mk)(),o=(0,z.b9)(Sd);(0,g.useEffect)((function(){if(t)return i({initialLayoutState:n.current}),function(){o()}}),[r,i,o,t,n])}function Pd(){var e=(0,y.Z)(["\n  mutation UpdateReplConfig($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        config {\n          isVnc\n          isServer\n        }\n      }\n    }\n  }\n"]);return Pd=function(){return e},e}var _d={},Dd=(0,w.Ps)(Pd());function Ud(){var e=(0,bn.Z)(),n=(0,Xe.Z)().container,t=(0,z.b9)(gt._N),r=(0,i.Z)(function(e){var n=(0,b.Z)({},_d,e);return Zi.D(Dd,n)}(),1),o=r[0];(0,g.useEffect)((function(){return n.onPortOpened((function(n){var r,i=n.isVnc;t(i?"vnc":"webview"),r=i?{isVnc:!0}:{isServer:!0},o({variables:{input:(0,b.Z)({id:e},r)}})}))}),[n,t,o,e])}function Bd(){var e=(0,y.Z)(["\n  subscription ReplEnvironmentUserCanWrite($replId: String!) {\n    currentUserCanWrite(replId: $replId)\n  }\n"]);return Bd=function(){return e},e}var Ad={},Gd=(0,w.Ps)(Bd());function Nd(e){var n=e.isAnon,t=e.isOwner,r=e.ignoreUnloadPrompt;!function(e){var n=(0,b.Z)({},Ad,e);md.m(Gd,n)}({skip:n||t,variables:{replId:(0,bn.Z)()},onData:function(e){var n=e.data.data;!1===(null===n||void 0===n?void 0:n.currentUserCanWrite)&&(r(!0),window.location.reload())}})}var Od=t(10129);function Md(){var e=(0,y.Z)(["\n  query ReplEnvironmentNotifyUserJoin($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        title\n      }\n    }\n  }\n"]);return Md=function(){return e},e}var Ld=(0,w.Ps)(Md());function Xd(){return(Xd=(0,r.Z)((function(e){var n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(!xt.l)throw new Error("Expected Apollo client");return[4,xt.l.query({query:Ld,variables:{id:e}})];case 1:return[2,"Repl"===(null===(n=t.sent().data)||void 0===n?void 0:n.repl.__typename)?n.repl.title:null]}}))}))).apply(this,arguments)}function Fd(){var e=(0,Xe.Z)(),n=e.container,t=e.presence;g.useEffect((function(){var e=t.onUserJoin((function(t){var r,i=null===(r=n.getContext())||void 0===r?void 0:r.repl;if(i){var o=t.username;return function(e){return Xd.apply(this,arguments)}(i.id).then((function(e){e&&function(e){Wc.apply(this,arguments)}({title:"",body:"".concat(o," joined ").concat(e),tag:"".concat(i.id,"-").concat(o,"-joined"),iconByUsername:o,cacheDuration:9e5})})),function(){e()}}}))}),[t,n])}var zd=t(95716);function Wd(){var e=(0,y.Z)(["\n  query GitRepoIsNewFork($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          id\n        }\n        timeCreated\n        timeUpdated\n      }\n    }\n  }\n"]);return Wd=function(){return e},e}var jd={},Hd=(0,w.Ps)(Wd());var Vd=t(16799),qd=t(67128);function Yd(){var e=(0,bn.Z)(),n=(0,Xe.Z)().container,t=function(e){var n=(0,b.Z)({},jd,e);return x.a(Hd,n)}({variables:{replId:e}}).data,r=null===t||void 0===t?void 0:t.repl;(0,g.useEffect)((function(){if(r){var e,t=null!==r.origin,i=new Date(r.timeUpdated).getTime()-new Date(r.timeCreated).getTime()<1e3;if(t&&i)(e=n).exec.apply(e,(0,F.Z)(Vd.rO.format(qd.Xe)))}}),[n,r])}function $d(){var e=(0,po.Z)(),n=e.showConfirm,t=e.showNotice,r=e.hideMessage,i=e.showError,o=(0,Xe.Z)().container;(0,g.useEffect)((function(){var e=o.onToast((function(e){e.startsWith("PANIC")||t(e,function(e){var n=e.length/.025+1e3;return Math.max(1e4,n)}(e))})),a=null,l=!1,c=o.onConnectionStateChanged((function(e){if(a&&(r(a),a=null),e===_n.e.CONNECTED)return l=!0,void(a=n("Connected",1500));l&&(e!==_n.e.CONNECTING?e!==_n.e.DISCONNECTED||(a=i("Disconnected")):a=t("Reconnecting"))}));return function(){a&&r(a),e(),c()}}),[o,n,t,i,r])}var Kd=t(68122),Jd=t(39571);function Qd(e){var n=e.onOpenFile,t=(0,Xe.Z)(),r=function(e){var n=e.dotReplit,t=e.debuggest;return(0,g.useEffect)((function(){return n.watch((function(e){var n;e.error||(null===(n=e.config.debugger)||void 0===n?void 0:n.support)&&t.connect()}))}),[n,t]),(0,Kd.Z)(t.mainClient)}({debuggest:t.debuggest,dotReplit:t.dotReplit});!function(e){(0,g.useEffect)((function(){if(e){var n=e.onStarted((function(e){(0,pi.j)(pi.U3.DEBUGGER_USED,{action:"started",joined:e})})),t=e.onPaused((function(e){(0,pi.j)(pi.U3.DEBUGGER_USED,{action:"paused",reason:e})})),r=e.onBreakpoint((function(n){(0,pi.j)(pi.U3.DEBUGGER_USED,{action:"breakpointToggled",breakpointAction:n,state:e.state.current})}));return function(){n(),t(),r()}}}),[e])}(r),function(e,n){var t,r=n.onOpenFile,i=(0,it.Z)(r),o=(0,Kd.Z)(e?e.stackFrames:null),a=null===o||void 0===o?void 0:o[0],l=null===a||void 0===a||null===(t=a.source)||void 0===t?void 0:t.path,c=null===a||void 0===a?void 0:a.line;(0,g.useEffect)((function(){if(l&&c&&e){var n=(0,Jd.om)(l);n?i.current({path:n,line:c}):e.stepOut()}}),[e,l,c,i])}(r,{onOpenFile:n})}var ep=t(11020),np={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"S"};var tp=t(13897),rp=t(86800);var ip=t(50307),op=t(1864),ap="video.json",lp=(0,op.join)(fn.V,ap);function cp(e,n){return sp.apply(this,arguments)}function sp(){return(sp=(0,r.Z)((function(e,n){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n.find((function(e){return e.type===hn.Tv.File&&e.filename===ap}))?[4,e.readFile(lp)]:[2,null];case 1:return(t=r.sent()).error?[2,null]:[2,t.content.toString()]}}))}))).apply(this,arguments)}function up(){!function(e){var n=(0,Xe.Z)().fs,r=vn().isTutorial,o=(0,it.Z)(e);(0,g.useEffect)((function(){if(r){var e=!1,a=n.watchDir(fn.V,{onChange:function(r){Promise.all([t.e(1142).then(t.t.bind(t,11142,23)),cp(n,r)]).then((function(n){var t=(0,i.Z)(n,2),r=t[0],a=t[1];if(!e)if(a){var l=null;try{l=r.parse(a)}catch(s){}var c="object"===typeof l&&"string"===typeof l.embedUrl?l.embedUrl:null;o.current(c?{embedUrl:c}:null)}else o.current(null)}))},onMoveOrDelete:function(){o.current(null)},onError:function(){o.current(null)}});return function(){e=!0,a()}}}),[n,r,o])}((0,ba.gQ)())}var dp=t(55528),pp=t(4862),fp=t(58823);var hp=(0,z.cn)((function(e){return e(cn.Eh).find((function(n){return"education"===e(n.data).type}))||null})),vp=(0,z.cn)(null,(function(e,n){var t=e(hp);(null===t||void 0===t?void 0:t.isHidden)?n(gt.Oe,t.paneId):t||n(dt.g2,{panes:[{type:"education"}],placement:"rightOf",percent:20,relativeTo:["tiling"],makeActive:!0})}));function mp(){var e=Tn(),n=(0,z.b9)(vp);(0,g.useEffect)((function(){e&&n()}),[e,n])}function gp(){var e=(0,y.Z)(["\n  query TrackMultiplayer($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        multiplayers {\n          id\n        }\n        owner {\n          ... on Team {\n            id\n          }\n          ... on User {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return gp=function(){return e},e}var Zp={},bp=(0,w.Ps)(gp());function yp(){var e,n=(0,Xe.Z)().presence,t=(0,bn.Z)(),r=(0,g.useRef)(!1),i=function(e){var n=(0,b.Z)({},Zp,e);return x.a(bp,n)}({variables:{replId:t}}),o=i.data,a=i.loading,l=0;"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&(l=o.repl.multiplayers.length,"User"===(null===(e=o.repl.owner)||void 0===e?void 0:e.__typename)&&(l+=1));(0,g.useEffect)((function(){if(!a&&!r.current){var e=n.onActiveUsersChange((function(){r.current=!0,e(),(0,pi.j)(pi.U3.MULTIPLAYER_REPL_OPENED,{replId:t,participantsCount:l,usersOnlineCount:n.getActiveUsers().length})}));return e}}),[t,a,l,n])}function wp(){var e=(0,bn.Z)(),n=il(e),t=function(e){var n=(0,rl.Z)(e,{onReceiveAnnotationUpdate:function(){}}).annotations;return(0,g.useMemo)((function(){return n.reduce((function(e,n){return n.isGeneral?e:e+n.messages.filter((function(e){return!1===e.seen})).length}),0)}),[n])}(e),r=(0,z.b9)(ae);(0,g.useEffect)((function(){r({paneType:"chat",indicatorType:n>0?"unread":void 0})}),[r,n]),(0,g.useEffect)((function(){r({paneType:"threadInbox",indicatorType:t>0?"unread":void 0})}),[r,t])}function xp(e){var n,t=e.repl,r=e.currentUser,i=r.id===(null===(n=t.user)||void 0===n?void 0:n.id),o=(0,dd.Z)().preferences,a=(0,Xe.Z)().session;!function(){var e=(0,Xe.Z)(),n=e.lspnix,t=e.lsp,r=e.fs,i=(0,dd.Z)().preferences.codeIntelligence,o=(0,Oo.Z)()||"",a=(0,dp.Z)(o);g.useEffect((function(){if(!i)return t.stop(),void n.disable();t.start(),n.enable()}),[n,t,i]),g.useEffect((function(){if(a&&o&&(0,Mo.Mb)(o))return a.onWorkspaceEdit((function(e){var n=e.edit;return(0,fp.w)({edit:n,fs:r,client:a}),{applied:!0}}))}),[r,a,o]),g.useEffect((function(){if(a&&o&&(0,Mo.Mb)(o)&&(0,pp.Z)(a).isTextDocumentSyncSupported)return r.watchTextFile(o,{onFlush:function(){a.isOpen(o)&&a.notify.didSave(o)}})}),[r,o,a])}(),function(){var e=(0,ld.ne)();(0,g.useEffect)((function(){var n=function(){e.flush()};return window.addEventListener("beforeunload",n),function(){window.removeEventListener("beforeunload",n)}}),[e]),(0,g.useEffect)((function(){var n=function(){"hidden"===document.visibilityState&&e({force:!1})};return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}),[e]),(0,g.useEffect)((function(){var n=null;return function t(){n=setTimeout((function(){e({force:!1}),t()}),6e4)}(),function(){n&&clearTimeout(n)}}),[e]),(0,g.useEffect)((function(){return function(){e.flush()}}),[e])}(),(0,pd.Z)(),(0,Cd.Z)({workspaceType:"desktop"}),g.useEffect((function(){var e=function(e){"s"===e.key&&(0,Od.j)(e)&&e.preventDefault()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Fd(),kd(),function(){var e=(0,Xe.Z)().presence;g.useEffect((function(){return e.onFollowingUsersChanged((function(e){var n=e.followingUsers,t=e.type,r=n.length;"follow"===t?(0,pi.j)(zd.U3.REMOTE_USER_CURSOR_FOLLOWED,{numFollowers:r}):(0,pi.j)(zd.U3.REMOTE_USER_CURSOR_UNFOLLOWED,{numFollowers:r})}))}),[e])}(),Nd({isAnon:!1,isOwner:i,ignoreUnloadPrompt:(0,fd.Z)()}),Yd(),function(){var e=(0,Xe.Z)().presence,n=(0,Oo.Z)();(0,g.useEffect)((function(){e.updateOpenFile(n)}),[e,n])}(),$d(),Fn(),(0,ep.Z)(),function(){var e=(0,Xe.Z)().runner,n=(0,z.b9)(gt.im),t=(0,z.b9)(gt.Ky),r=(0,z.b9)(gt.ao),i=Xn(),o=(0,z.Dv)(Qt.Mn),a=(0,Jo.e)(Qo.y.Output);g.useEffect((function(){if(o&&(null===a||void 0===a?void 0:a.isActive)){var e=setInterval((function(){n()}),200);return function(){clearInterval(e)}}}),[null===a||void 0===a?void 0:a.isActive,n,o]),g.useEffect((function(){if(o)return e.onStateChanged((function(e){e===Tr.A.RUNNING&&n()}))}),[e,n,o]),g.useEffect((function(){o&&(i?t({type:"instructions"}):r({type:"instructions"}))}),[i,t,r,o]),(0,xr.x)(np,{run:function(){return t({type:"shell"})},enabled:Boolean(o)})}(),(0,tp.Z)(),function(){var e=(0,Xe.Z)(),n=e.presence,t=e.session;(0,g.useEffect)((function(){return n.onUserOpenedFile((function(e){var r=e.user,i=e.file,o=n.getFollowedUser();o&&o.id===r.id&&i&&t.openFile(i)}))}),[n,t]);var r=(0,g.useState)(null),i=r[0],o=r[1];(0,g.useEffect)((function(){return n.onFollowedUserChanged(o)}),[n,t]),(0,g.useEffect)((function(){var e=function(){n.unfollowUser()};if(i){var t=setTimeout((function(){document.addEventListener("click",e)}),0);return function(){clearTimeout(t),document.removeEventListener("click",e)}}}),[i])}(),(0,ip.Z)(),up(),mp(),function(){var e=vn().isTutorial,n=(0,ba.$x)();(0,g.useEffect)((function(){e&&n()}),[n,e])}(),wp(),yd(t.id),Qd({onOpenFile:function(e){a.openFile(e.path),a.updateDeeplink(e)}}),function(){var e=(0,rp.JM)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,z.b9)(ot.H);(0,g.useEffect)((function(){t({flagGhostrunner:Boolean(null===n||void 0===n?void 0:n.flagGhostrunner)})}),[t,n])}();var l=["html","html_beta"].includes(t.language),c=(0,z.b9)(sd.gM);(0,g.useEffect)((function(){return c(l)}),[c,l]),Id({initialLayoutState:t.layoutState||null}),(0,g.useEffect)((function(){return In.YA("replId",t.id),ud.c_.setTag("replId",t.id),function(){In.YA("replId",void 0),ud.c_.setTag("replId",void 0)}}),[t.id]),function(e){var n=e.repl,t=e.currentUser,r=(0,Xe.Z)().container,i=(0,m.useRouter)(),o=(0,Dn.b)({repl:n,currentUser:t});(0,g.useEffect)((function(){var e;return Ed||(Ed=!0,e=i.query.initialConnectionMetadata),r.connect({customConnectionMetadata:e,context:o}),function(){r.close()}}),[o,r]),(0,g.useEffect)((function(){return function(){r.destroy()}}),[r])}({repl:t,currentUser:r}),Ud(),(0,g.useEffect)((function(){var e,n="Repl"===(null===(e=t.origin)||void 0===e?void 0:e.__typename)?t.origin.id:null;return(0,cd.Fy)({id:t.id,slug:t.slug,originId:n,roles:r.roles&&r.roles.map((function(e){return e.name}))}),function(){(0,cd.dv)()}}),[t,r.roles]);var s=(0,z.b9)(ln._E),u=(0,Ur.T)();(0,g.useEffect)((function(){s(!u)}),[u,s]);var d=o.isLayoutStacked,p=(0,z.b9)(sd.h$);return(0,g.useEffect)((function(){return p(d)}),[p,d]),yp(),null}function Tp(e){var n=e.src,t=e.autoPlay,r=void 0===t||t,i=e.loop,o=void 0===i||i,l=e.width,c=void 0===l?280:l;return(0,a.tZ)(S.G7,{css:[S.l0.p(4),S.l0.borderRadius(8),S.l0.width(c),S.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(S.TV.outlineDimmest)}],children:(0,a.tZ)("video",{style:{width:"100%"},css:S.l0.borderRadius(8),src:n,autoPlay:r,loop:o,playsInline:!0,muted:!0})})}var Rp=function(e){return"/public/videos/workspace-onboarding/".concat(e,".mp4")},kp={id:"workspace-desktop-new-user-tour",steps:[{id:Qo.y.Welcome,isModal:!0,title:"Welcome to the Workspace",content:function(){return(0,a.tZ)(S.G7,{css:[S.l0.maxWidth(400)],children:(0,a.BX)(S.xv,{multiline:!0,children:["The Workspace is where you create projects on Replit. These are called"," ",(0,a.tZ)("strong",{children:"Repls."}),(0,a.tZ)("br",{}),"Let's explore around!"]})})}},{id:Qo.y.Editor,title:"Code Editor",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:Rp("editor"),autoPlay:!0,loop:!0}),(0,a.tZ)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"This is where you write code. The editor helps you by giving you suggestions and coloring your code."})})]})}},{id:Qo.y.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:Qo.y.Run,title:"Run Button",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:Rp("run-button"),autoPlay:!0,loop:!0}),(0,a.tZ)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"Tap the Run button to \u201crun\u201d your code and see its output."})})]})}},{id:Qo.y.Output,title:"Output",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:Rp("output"),autoPlay:!0,loop:!0}),(0,a.tZ)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"This is where your run output appears. This can be text, websites, games, and more depending on the template you\u2019re using."})})]})}},{id:Qo.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:Rp("sidebar"),autoPlay:!0,loop:!0}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.p(8)],children:[(0,a.BX)(S.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(S.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(S.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]})}},{id:Qo.y.Share,title:"Invite & Collaborate",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:Rp("invite-multiplayer"),autoPlay:!0,loop:!0}),(0,a.tZ)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"Invite others to your Repl to collaborate and work together at the same time."})})]})}}]},Cp={id:"workspace-desktop-sidebar-tour",steps:[{id:Qo.y.SidebarAnnouncement,title:"The New Workspace",isModal:!0,content:function(){return(0,a.tZ)(S.G7,{css:[S.l0.maxWidth(400)],children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"If you\u2019re seeing this, that means you get to test the new Workspace redesign. It has a few key differences we want to show you!"})})})}},{id:Qo.y.Sidepane,title:"Sidebar",content:function(){return(0,a.BX)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:[(0,a.tZ)(Tp,{src:(e="sidebar","/public/videos/workspace-onboarding/".concat(e,".mp4")),autoPlay:!0,loop:!0}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(8),S.l0.width("100%"),S.l0.p(8)],children:[(0,a.BX)(S.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Files"})," is where all of your Repl\u2019s code is."]}),(0,a.BX)(S.xv,{multiline:!0,children:[(0,a.tZ)("strong",{children:"Tools"})," is where Packages, Debugger, Chat, Git, and more can be found."]}),(0,a.tZ)(S.xv,{multiline:!0,children:"You can drag and drop any file or tool. All tools open as tabs instead of opening in the sidebar."})]})]});var e}},{id:Qo.y.SidebarButton,title:"Sidebar Button",content:function(){return(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"Tapping on this quickly opens and closes the entire sidebar."})})})}},{id:Qo.y.GlobalNavButton,title:"Navigation Menu",content:function(){return(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.center,S.l0.position.relative],children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"Tapping on this lets you navigate to other pages on Replit."})})})}},{id:Qo.y.NotificationsButton,title:"Notifications",content:function(){return(0,a.tZ)(S.G7,{children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.BX)(S.xv,{multiline:!0,children:["You can access all notifications from this menu."," "]})})})}},{id:Qo.y.AvatarButton,title:"Profile Menu",content:function(){return(0,a.tZ)(S.G7,{children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.tZ)(S.xv,{multiline:!0,children:"You can access your profile and account settings from this menu."})})})}},{id:Qo.y.Feedback,title:"That's all!",isModal:!0,content:function(){return(0,a.tZ)(S.G7,{css:[S.l0.maxWidth(400)],children:(0,a.tZ)(S.G7,{css:[S.l0.width("100%"),S.l0.py(8)],children:(0,a.BX)(S.xv,{multiline:!0,children:["This is the start of many more future updates to the Workspace to help increase the flexibility of Replit.",(0,a.tZ)("br",{}),(0,a.tZ)("br",{}),"If you'd like to leave some feedback, you can"," ",(0,a.tZ)("a",{href:"https://replit.com/@tyler/The-New-Workspace?v=1",target:"_blank",children:(0,a.tZ)("strong",{children:"leave a comment on this Repl"})}),". Happy coding!"]})})})}}]};function Ep(e){var n=e.children,t=e.tour,r=function(e){var n;i&&t&&"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,pi.yV)({id:window.analytics.user().id(),workspaceTourId:t.id,workspaceTourStatus:e===t.steps[t.steps.length-1].id?"completed":e.toLowerCase()})};if(!t)return(0,a.tZ)(a.HY,{children:n});var i="workspace-desktop-tour"===t.id||"workspace-desktop-new-user-tour"===t.id;return(0,a.tZ)(Jo.r,{tour:t,onStep:r,onDone:r,children:n})}var Sp=t(79611),Ip=t(25109),Pp=t(12486),_p=S.KD.div;function Dp(e){var n=Kn({paneId:e.paneId}),t=(0,q.Z)({isOpen:!0,onSelect:e.onSelect,initialCommand:n,insertSectionHeaders:!0}),r=t.combobox,i=t.inputRef,o=t.path.length>1,l=Boolean(t.inputValue)||o;return(0,g.useEffect)((function(){var n;e.autoFocus&&(e.isHidden||null===(n=i.current)||void 0===n||n.focus())}),[e.autoFocus,e.isHidden,i]),(0,a.BX)(S.G7,{css:[S.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(_p,(0,W.Z)((0,b.Z)({css:De.container},r.getComboboxProps()),{children:(0,a.BX)(S.G7,{css:De.surface,children:[t.path.map((function(e,n){if(n<=1)return null;var r=e.data.label+n;return(0,a.tZ)(Be,{onClick:function(){var e;t.resetToIndex({index:n,focus:!0}),null===(e=i.current)||void 0===e||e.select()},command:e},r)})),(0,a.tZ)("input",(0,b.Z)({css:De.input,style:{paddingLeft:o?0:8}},t.combobox.getInputProps({value:t.inputValue,ref:t.inputRef,onChange:function(e){return t.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():t.resetToIndex({index:0}):t.handleLeftRightArrow(e.key)},placeholder:t.placeholder}))),l?(0,a.tZ)("button",{css:De.closeButton,onClick:function(){t.setInputValue(""),t.resetToIndex({index:0,focus:!0})},children:t.isLoading?(0,a.tZ)(Ne.Z,{}):(0,a.tZ)(Ge.Z,{})}):null]})})),(0,a.tZ)(_e,{items:t.itemsWithSections||[],getMenuProps:r.getMenuProps,getItemProps:r.getItemProps,highlightedIndex:r.highlightedIndex,isLoading:t.isLoading,currentPathIndex:t.path.length-1})]})}var Up={Content:function(e){var n=e.options,t=n.openPane,r=n.isHidden,i=n.paneId,o=e.pane.data.autoFocus;return(0,a.tZ)(Dp,{paneId:i,autoFocus:o,isHidden:r,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():t(e.data.pane);else{var n=e.data.deeplink.path,r={type:(0,fe.Dp)({path:n}),data:{path:n}};t(r)}}})},Icon:function(){return null},getTitle:function(){return"New tab"}},Bp=t(82947),Ap=t(34467),Gp=t(53249),Np=t(20787),Op=t(76832),Mp=t(47886),Lp=t(56483),Xp={Content:function(e){var n=e.options,t=n.paneId,r=n.isHidden,i=(0,Xe.Z)(),o=i.container,l=i.fs,c=i.session,s=i.runner,u=(0,z.b9)(gt.Oe),d=(0,z.Dv)(Op.f),p=(0,Op.Z)();return(0,Mp.Z)({container:o,runner:s,refreshWebView:p}),(0,Lp.Z)({runner:s,refreshWebView:p}),(0,xr.x)(Bp.b,{run:function(){u(t),p()}}),Ot({match:je.pl,data:{type:"action",label:"Refresh",icon:(0,a.tZ)(Np.Z,{}),description:"Refresh webview",keyboardShortcut:Bp.b,run:function(){u(t),p()}}}),(0,a.tZ)(Gp.Z,{fs:l,session:c,ref:d,isVisible:!r})},Icon:function(e){var n=e.size;return(0,a.tZ)(Ap.Z,{size:n})},getTitle:function(){return"Webview"}};function Fp(){var e=(0,Pp.U)();return(0,W.Z)((0,b.Z)({},e),{webview:Xp,commands:Up})}var zp=t(28741),Wp=t(25108);var jp=t(2548),Hp=t(86518);var Vp=t(73515),qp=t(75815),Yp=44100,$p=32896,Kp=function e(){var n=this;(0,qp.Z)(this,e),this.audioStart=0,this.feed=function(e){var t=n.getFormatedValue(e),r=new Float32Array(n.samples.length+t.length);r.set(n.samples,0),r.set(t,n.samples.length),n.samples=r},this.getFormatedValue=function(e){for(var n=new Float32Array(e.length),t=0;t<e.length;t++)n[t]=e[t]/2147483648;return n},this.stop=function(){if(n.bufferSource)try{n.bufferSource.stop()}catch(e){if("InvalidStateError"!==e.name&&"RangeError"!==e.name)throw e}},this.flush=function(e){if(n.audioCtx&&n.samples.length){var t=0,r=n.audioCtx.currentTime;if(0===e)n.startTime=r,n.audioStart=r;else{for(var i=r-n.audioStart,o=Math.floor(i*Yp);o>e-$p;)n.audioStart+=.7459410430839002,o-=$p;o>e&&(t=o-e,n.startTime=r),n.startTime=r}n.samples=n.samples.slice(t,n.samples.length);for(var a,l,c,s=n.audioCtx.createBufferSource(),u=n.samples.length/1,d=n.audioCtx.createBuffer(1,u,Yp),p=0;p<1;p++)for(a=d.getChannelData(p),l=p,c=0;c<u;c++)a[c]=n.samples[l],l+=1;n.startTime<n.audioCtx.currentTime&&(n.startTime=n.audioCtx.currentTime),s.buffer=d,s.connect(n.gainNode),s.start(n.startTime),n.stop(),n.bufferSource=s,n.startTime+=d.duration,n.samples=new Float32Array}},this.samples=new Float32Array;var t=window.AudioContext||window.webkitAudioContext;this.audioCtx=new t,this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime};function Jp(e){var n=e.container,t=(0,g.useState)(!1),r=t[0],i=t[1],o=(0,g.useRef)(null);(0,g.useEffect)((function(){return n.openChannel({name:"audio",service:"audio"},(function(e){var n=e.channel;if(n){var t=null,r=!1;return n.onCommand((function(e){var n;r||(r=!0,o.current=function(){t=new Kp,o.current=null},i(!0)),t&&(null===e||void 0===e||null===(n=e.audio2)||void 0===n?void 0:n.data)&&(e.audio2.samples||(e.audio2.samples=0),t.feed(Int32Array.from(e.audio2.data)),t.flush(e.audio2.samples))})),function(){i(!1),t&&(t.stop(),t=null),o.current=null}}}))}),[n]);var l=function(){i(!1)};return(0,a.tZ)(S.u_,{isOpen:r,onRequestClose:l,children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(24)],children:[(0,a.tZ)(S.h4,{variant:"headerDefault",level:1,children:"We hear audio!"}),(0,a.BX)(S.G7,{css:[S.l0.colWithGap(8)],children:[(0,a.tZ)(S.xv,{multiline:!0,children:"Hey! It appears that this Repl is playing audio."}),(0,a.tZ)(S.xv,{multiline:!0,children:"In order for us to hear the audio you\u2019re receiving, please click confirm."})]}),(0,a.BX)(S.G7,{css:[S.l0.rowWithGap(12),S.l0.justify.end],children:[(0,a.tZ)(S.zx,{onClick:l,text:"Cancel"}),(0,a.tZ)(S.zx,{colorway:"positive",onClick:function(){i(!1),o.current&&o.current()},text:"Confirm",iconLeft:(0,a.tZ)(Go.Z,{})})]})]})})}var Qp=t(39705),ef=t(2146),nf=t(87138),tf=new Date("2022-12-01"),rf=new Date("2022-10-20");function of(){var e,n=(0,nf.lg)(),t=n.data,r=n.loading,i=n.error,o=(0,ef.o)("workspace-history-announcement"),l=o.isLoading,c=o.isDone,s=o.setAsDone,u=new Date,d=(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.timeCreated)?new Date(t.currentUser.timeCreated):null;return r||l||c||i||!d||tf<u||rf<d?null:(0,a.tZ)(S.u_,{centered:!0,isOpen:!c,onRequestClose:function(){return s()},children:(0,a.BX)(S.G7,{css:[S.l0.colWithGap(16)],children:[(0,a.tZ)(S.xv,{variant:"headerDefault",children:"History in the Workspace"}),(0,a.tZ)(S.xv,{multiline:!0,children:"Now, you can scrub through any file history directly in the workspace. You'll see a History button in the bottom right of any file."}),(0,a.tZ)(S.G7,{css:[S.l0.p(4),S.l0.borderRadius(8),S.l0.backgroundColor.backgroundRoot,{border:"solid 1px ".concat(S.TV.backgroundHigher)}],children:(0,a.tZ)("video",{css:S.l0.borderRadius(8),src:"/public/videos/history-demo-new.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0})}),(0,a.tZ)(S.G7,{css:[S.l0.display.flex,S.l0.align.end],children:(0,a.tZ)(S.zx,{text:"Continue Coding",colorway:"primary",onClick:function(){return s()}})})]})})}var af=t(25977);var lf=function(e){return(0,a.tZ)(kr.Z,{preventClose:!0,isOpen:!0,onRequestClose:e.onCancel,children:(0,a.BX)(j.Z,{css:[H.l0.colWithGap(24)],children:[(0,a.tZ)(Ft.h,{variant:"headerDefault",level:2,css:H.l0.maxWidth("100%"),children:"Replit needs your permission to enable notifications."}),(0,a.tZ)(Ft.x,{multiline:!0,children:"Never miss messages from your collaborators if you\u2019re in another tab or window."}),(0,a.BX)(j.Z,{css:[H.l0.rowWithGap(12),H.l0.justify.end],children:[(0,a.tZ)(Do.ZP,{onClick:e.onCancel,text:"Deny",iconLeft:(0,a.tZ)(Ge.Z,{})}),(0,a.tZ)(Do.ZP,{text:"Allow notifications",colorway:"positive",iconLeft:(0,a.tZ)(Go.Z,{}),onClick:e.onConfirm})]})]})})},cf=t(92364),sf={slides:[{title:"Repl Chat Tab",subtitle:"Chat has a new home. Open it from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/chat.png",backgroundColor:S.l0.backgroundColor.yellowStrongest,position:"center"},{title:"Inline Threads",subtitle:(0,a.BX)("span",{css:{".shortcut":{gridGap:"var(--space-2)"},".shortcut div":[S.l0.backgroundColor.backgroundHighest,S.l0.color.foregroundDefault,{border:"1px solid var(--outline-default)"}]},children:["Right click code to start a discussion, or select code and use the hotkey"," ",(0,a.tZ)(V.Z,{shortcut:{key:"/",altKey:!0},small:!0})]}),backgroundImage:"/public/images/threads/inline.png",backgroundColor:S.l0.backgroundColor.blurpleStronger,position:"center"},{title:"Threads Inbox Tab",subtitle:"All your threads in one place. Open the inbox from the sidebar or the New Tab menu.",backgroundImage:"/public/images/threads/inbox.png",backgroundColor:S.l0.backgroundColor.blueStronger,position:"center"}],date:new Date("2022-11-08")};function uf(){var e=(0,h.Z)("workspace","threads-2-announcement"),n=e.shouldDisplay,t=e.dismiss,r=e.register;return g.useEffect((function(){r()}),[r]),(0,a.tZ)(v.Z,{announcement:sf,showModal:n,onRequestClose:t})}var df=t(70710);function pf(e){var n=e.repl,t=e.currentUser,r=function(e){var n=e.repl,t=(0,m.useRouter)(),r=(0,ld.Z4)();(0,g.useEffect)((function(){r(n.id)}),[n.id,r]);var i=(0,Rt.C)(),o=(0,ei.IY)(),a=(0,p.D)({controlName:"flag-null-diagnostics"}),l=(0,g.useState)(!1),c=l[0],s=l[1],u=(0,g.useState)(!1),d=u[0],f=u[1];return{services:(0,g.useState)((function(){return(0,Ip.Z)({runnerMode:"html"===n.language?"html":"shellrunner",onUnrecoverableError:function(e){var n=(0,zp.Z)(e);n!==zp.G.NotFound?n!==zp.G.NotAllowed?n!==zp.G.FirewallDenied?(Wp.error(e),o({error:e,tags:{services:!0,environment:"desktop"}})):s(!0):f(!0):t.push("/home","~/")},openFile:i,onFirewallDenied:function(){return s(!0)},enableUserEvents:a})}))[0],ui:(0,g.useState)((function(){return(0,$.fK)({config:Fp()})}))[0],isFirewallDenied:c,isNotAllowed:d}}({repl:n}),i=r.services,o=r.ui,l=r.isFirewallDenied,c=r.isNotAllowed,s=function(){var e=(0,jc.X)(),n=(0,it.Z)(e),t=(0,g.useState)(!e),r=t[0],i=t[1],o=Boolean(e&&e.isLoading);return(0,g.useEffect)((function(){if(!o){var e=n.current;e&&i(Boolean(null===e||void 0===e?void 0:e.isDone))}}),[o]),r}();return(0,a.BX)($t,{ui:o,services:i,replId:n.id,replLanguage:n.language,children:[(0,a.tZ)(xr.h,{}),(0,a.tZ)(Sr,{}),(0,a.tZ)(cf.Z,{}),(0,a.tZ)(pl,{repl:n,currentUser:t}),(0,a.tZ)(Lt,{}),(0,a.tZ)(tr,{}),(0,a.tZ)(xp,{repl:n,currentUser:t}),(0,a.tZ)(Xt.ZP,{}),(0,a.tZ)(gf,{}),(0,a.tZ)(Jp,{container:i.container}),(0,a.tZ)(jt,{}),(0,a.tZ)(ar,{}),s?(0,a.tZ)(of,{}):null,s?(0,a.tZ)(uf,{}):null,s?(0,a.tZ)(G,{}):null,(0,a.tZ)(hf,{isMultiplayerSession:n.multiplayers.length>0}),(0,a.tZ)(ff,{image:t.image,username:t.username}),(0,a.tZ)(Qp.Z,{isOpen:l&&!c}),(0,a.tZ)(af.Z,{isOpen:c}),(0,a.tZ)(Zr,{})]})}function ff(e){var n=e.image,t=e.username,r=(0,i.Z)((0,ei.yF)(),2),o=r[0],l=r[1],c=(0,ld.lY)();return(0,g.useEffect)((function(){o&&c()}),[o,c]),o?(0,a.tZ)(Vp.Z,{devHide:function(){return l(null)},eventId:o,currentUserImage:n,currentUserUsername:t}):null}function hf(e){var n=function(e){var n=(0,i.Z)(g.useState(!1),2),t=n[0],a=n[1],l=(0,jc.X)(),c=l&&!l.isDone&&!l.isLoading;return g.useEffect((function(){c||e&&"default"===Gc()&&a(!0)}),[e,c]),{shouldShowModal:t,hideModal:g.useCallback((function(){Fc(!0),a(!1)}),[]),confirm:g.useCallback((0,r.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return[4,Mc()];case 1:return e.sent(),a(!1),[2]}}))})),[])}}(e.isMultiplayerSession),t=n.shouldShowModal,l=n.hideModal,c=n.confirm;return t?(0,a.tZ)(lf,{onCancel:l,onConfirm:c}):null}var vf=S.KD.div,mf=(0,l.iv)([S.l0.height("calc(100% - ".concat(d.Mz,"px)")),S.l0.width("100%"),S.l0.top(d.Mz),S.l0.left(0),S.l0.position.absolute]);function gf(){var e=function(){var e=(0,z.b9)(st.rR),n=(0,g.useRef)(null),t=(0,Ys.Z)((function(t){var r=t.width,i=t.height;if(r&&i&&n.current){var o=n.current.getBoundingClientRect(),a=o.top,l=o.left;e({width:r,height:i,x:l,y:a})}}));return(0,g.useCallback)((function(e){n.current=e,t(e)}),[t])}(),n=(0,z.Dv)(ln.dD),t=(0,z.Dv)(cn.gg),r=(0,z.Dv)(cn.g3),i=(0,z.Dv)(cn.If);return(0,a.tZ)(vf,{ref:e,css:mf,children:n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(ad,{}),r.map((function(e){return(0,a.tZ)(di,{handleId:e},e)})),i.map((function(e){return(0,a.tZ)(_c,{headerId:e},e)})),t.map((function(e){return(0,a.tZ)(vs,{paneId:e},e)})),(0,a.tZ)(dr,{}),(0,a.tZ)(Zs,{})]}):null})}var Zf=(0,l.iv)([S.l0.position.fixed,S.l0.top(0),S.l0.left(0),S.l0.height("100%"),S.l0.width("100%")]),bf=function(){var e=null,n=(0,m.useRouter)().query;if(!n.replUrl)throw new Error("Expected replUrl to be set");var t=n.replUrl.toString(),r=(0,df.Cd)({variables:{url:t},ssr:Boolean(n.ssr)}),i=r.data,o=r.loading,l=r.error,d=i&&"Repl"===i.repl.__typename?i.repl:null,p=(null===i||void 0===i?void 0:i.currentUser)||void 0,f="https://replit.com".concat(t),h=function(e){if(e){if(e.description)return e.description;var n=c.Z.get(e.language).displayName;return"A ".concat(n," Repl")}}(d),v=(0,g.useState)(!1),Z=v[0],b=v[1];(0,g.useEffect)((function(){return b(!0)}),[]),(0,Sp.Z)((null===i||void 0===i?void 0:i.repl)||null,t);var y=null;return l?e=(0,a.tZ)(S.G7,{css:[S.l0.center,S.l0.flex.growAndShrink(1)],children:(0,a.tZ)(S.xv,{children:"Something went wrong loading the Repl. Please reload the page and try again."})}):o||!Z?e=(0,a.BX)(S.G7,{css:[S.l0.center,S.l0.flex.growAndShrink(1)],children:[(0,a.tZ)($a,{}),(0,a.tZ)(jp.Z,{height:100})]}):d&&p?(e=(0,a.tZ)(pf,{repl:d,currentUser:p},d.id),y=function(e){var n=e.isLesson,t=e.hasSeenOldWorkspaceTour;return n?null:t?Cp:kp}({isLesson:Boolean(d.lesson),hasSeenOldWorkspaceTour:p.hasSeenOldWorkspaceTour})):e=(0,a.BX)(S.G7,{css:[S.l0.center,S.l0.flex.growAndShrink(1)],children:[(0,a.tZ)($a,{}),(0,a.tZ)(jp.Z,{height:100})]}),(0,a.tZ)(Ep,{tour:y,children:(0,a.tZ)(s.Z,{children:(0,a.tZ)(u.Z,{dataCy:"workspace-page",title:"".concat((null===d||void 0===d?void 0:d.title)||""),oembedUrl:f,description:h,noHeader:!0,noFooter:!0,forceDrawer:!0,hideSidebar:!0,hideEmailVerify:!0,children:(0,a.BX)(S.Tg,{css:Zf,children:[(0,a.tZ)(Hp.g,{}),e]})})})})};bf.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,X.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var yf=bf},7900:function(e,n,t){"use strict";t.d(n,{Pc:function(){return y},Pu:function(){return R}});var r=t(14251),i=t(32692),o=t(31230),a=t(21767);function l(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplateMember on TeamMembership {\n    id\n    user {\n      id\n      image\n      username\n      firstName\n      lastName\n    }\n    nickname\n    email\n    permissions\n  }\n"]);return l=function(){return e},e}var c=(0,o.Ps)(l()),s=t(16092),u=t(37887);function d(){var e=(0,i.Z)(["\n  fragment TeamTemplateUser on User {\n    id\n    username\n    displayName\n    fullName\n    image\n    url\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplSubmission on ReplSubmission {\n    id\n    timeSubmitted\n    timeLastReviewed\n    author {\n      id\n      ...TeamTemplateUser\n    }\n    repl {\n      id\n      title\n      timeCreated\n      template {\n        id\n        dueDate\n      }\n      ...ReplLinkRepl\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment TeamTemplateSubmissionGroup on ReplSubmissionGroup {\n    submission {\n      id\n      timeSubmitted\n      timeLastReviewed\n      isGroupSubmission\n      repl {\n        id\n        url\n        nextPagePathname\n      }\n    }\n    users {\n      id\n      ...TeamTemplateUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment TeamTemplateReplTemplate on ReplTemplate {\n    id\n    isGroupProject\n    isPublished\n    imageUrl\n    url\n    dueDate\n    repl {\n      id\n    }\n    team {\n      id\n      username\n      displayName\n      members {\n        id\n        ...TeamTemplateReplTemplateMember\n      }\n    }\n    author {\n      id\n      username\n      image\n      ...UserLinkUser\n    }\n    submissions {\n      id\n      ...TeamTemplateReplSubmission\n    }\n    submissionGroups {\n      ...TeamTemplateSubmissionGroup\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  fragment TeamTemplateRepl on Repl {\n    id\n    title\n    slug\n    description\n    ...ReplLinkRepl\n    template {\n      id\n      ...TeamTemplateReplTemplate\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function m(){var e=(0,i.Z)(["\n  query TeamTemplate($replUrl: String!) {\n    repl(url: $replUrl) {\n      ... on Repl {\n        id\n        ...TeamTemplateRepl\n      }\n      ... on ReplRedirect {\n        replUrl\n        repl {\n          id\n        }\n      }\n      ... on SubscriptionExpiredError {\n        replId\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var g={},Z=(0,o.Ps)(d()),b=(0,o.Ps)(p(),Z,a.Y),y=(0,o.Ps)(f(),Z),w=(0,o.Ps)(h(),c,s._,b,y),x=(0,o.Ps)(v(),a.Y,w),T=(0,o.Ps)(m(),x);function R(e){var n=(0,r.Z)({},g,e);return u.a(T,n)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,3443,3662,6344,6351,5488,8966,4778,5395,7485,7651,5499,4824,9496,4837,1674,1889,3327,1390,7644,5867,7564,2995,8723,2350,7194,4710,8330,1822,7808,3426,8566,9105,2583,9774,2888,179],(function(){return n(97239),n(60937)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=replEnvironment2-75356110a052df7e.js.map